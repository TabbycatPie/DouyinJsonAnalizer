(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[2689],{77699:function(e){var t;t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.computeWatchDur=function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=0,n=0;n<e.length;n++)isNaN(Number(e[n].end))||isNaN(Number(e[n].begin))||e[n].begin<0||e[n].end<0||e[n].end<e[n].begin||(t+=e[n].end-e[n].begin);return parseFloat((1e3*t).toFixed(3))},t.getHostFromUrl=function(e){if(null==e||""===e)return"";var t=e.split("/");return e="",3<t.length&&t[2]&&(e=t[2]),e},t.generateSessionId=function(t){var n=(new Date).getTime();try{t=parseInt(t)}catch(e){t=0}return n+=t,window.performance&&"function"==typeof window.performance.now&&(n+=window.performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"===e?t:3&t|8).toString(16)}))},t.isType=function(e){return function(t){return Object.prototype.toString.call(t)==="[object ".concat(e,"]")}},t.getValue=function(e,t){return e=t[e]},t.getResponseHeaders=i,t.log=function(e){for(var t,n=arguments.length,i=new Array(1<n?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];r&&(t=console).log.apply(t,["[logger]",e].concat(i))},t.nowTime=o,t.navigationStart=function(){try{return window.performance.timing.navigationStart}catch(e){return(new Date).getTime()}},t.curTimestamp=function(){return(new Date).getTime()},t.formatData=function(e,t){var n={ext:e.ext||{},data:{}};return Object.keys(e).map((function(r){t[r]?n.data[t[r]]=e[r]:"ext"!==r&&(n.ext[r]=e[r])})),n},t.getXhr=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,r){try{e||r(new Error("url is undefined"));var a=0,s=0,l={},u=new window.XMLHttpRequest;u.open("get",e),u.onreadystatechange=function(){2===u.readyState&&(l.headers=i(u),l.connectTime=o()-s,l.status=u.status,l.statusText=u.statusText,a=o()),1===u.readyState&&(s=o())},u.onload=function(){n(l)},u.onprogress=function(e){var t,n=o()-a;n<5&&(n=o()-s),t=parseInt(e.loaded/1e3/(n/1e3),10),l.speed=t,l.costTime=n},u.onerror=function(e){r(e)},u.ontimeout=function(){l.status||(l.status=-2),n(l)},u.onabort=function(){n(l)},u.responseType="arraybuffer",u.timeout=t.timeout||1e4,u.setRequestHeader("Range","bytes=".concat(t.range||"0-1048576")),u.send()}catch(n){r(n)}}))},t.checkVideoSrcIsEmpty=function(e){return!e||-1<window.location.href.indexOf(e)},t.checkIsEmptySrc=function(e,t){return!(!e.video||1!==Number(e.video.getAttribute("data-empty")))||1768===t&&!e.config.dashOpts&&!e.config.mp4Opts},t.checkIsBlob=function(e){return!!e&&/^blob:/.test(e)},t.transformHeader=function(e){if(!e)return{};var t={};return Object.keys(a).map((function(n){var r;e[n]||"string"!=typeof a[n]?!e[n]&&a[n]instanceof Array&&(0<(r=a[n].filter((function(t){return void 0!==e[t]}))).length?t[n]=e[r[0]]:t[n]=""):t[n]=e[a[n]]||""})),t},t.appendData=s,t.parseTempData=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";return Object.keys(t).map((function(r){e[r]="append"===n?s(e[r],t[r]):t[r]})),e};var r="undefined"!=typeof window&&-1<window.location.href.indexOf("loggerdebug");function i(e){var t={};if(e instanceof window.XMLHttpRequest)try{e.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach((function(e){e=(n=e.split(": ")).shift();var n=n.join(": ");t[e]=n}))}catch(e){}return t}function o(){try{return Math.round(window.performance.now())}catch(e){return(new Date).getTime()}}var a={x_response_sinfo:"x-response-sinfo",x_response_cache:"x-response-cache",x_response_cinfo:"x-response-cinfo"};function s(e,t){return!e||"string"!=typeof t&&"number"!=typeof t?t:e+""+t}},function(e,t,n){e.exports=n(2)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(3));r.default.TEA_ID=1300,n=function(e){var t;e&&e.player?(t=e.player.config.vodLogOpts||{},e.player.vodLogger=new r.default(e.player,t),e.player.plugins.xgVodLogger=e.player.vodLogger):this.vodLogger=new r.default(this,this.config.vodLogOpts||{})},n.pluginName="__xgVodLogger",n.playerConfig={},t.default=n,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),i=n(4),o=c(n(5)),a=c(n(6)),s=c(n(7)),l=c(n(8)),u=c(n(9));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(0,r.log)("logger version is ".concat(u.default));var g=(0,r.isType)("Object"),v="videoplayer_oneplay",_="videoplayer_oneopera",k="videoplayer_oneerror",b="videoplayer_oneevent",x="videoplayer_onetemp",w={data:1e3,runtime:1002,parse:1004,network:1003,no_error_handler:9997,custom_error:9998,other:9999,notSupport:1005},S={1:-499991,2:-499992,3:-499993,4:-499994,5:-499995},I=0,E=1,P=2,T=3,C=1,O=2,A=3,L=4,N=5,D=6,B="error_retry",R="oneerror",j="oneevent",V="onetemp",M=0,F=1,z=1300,U="__tea_cache_tokens_".concat(z),H=432e5,Z=["vtype","tag","subtag","codec_type","device_type"];n=function(){function t(e,n){var o=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,"initializeUrlLog",(function(e){"string"!=typeof(e=e||"")&&(e=""),o.urlLog={initial_url:e,initial_host:(0,r.getHostFromUrl)(e),initial_ip:""}})),y(this,"onMediaFormatError",(function(e){o.onOneEvent({end_type:(e.error_type||"")+"Error"})})),y(this,"onDrmTypeChange",(function(e){o.addIfExist("drm_type",{drm_type:e},o._options)})),y(this,"onReplayBtnClick",(function(){o.resetLoggerParams()})),y(this,"onBeforeDefinitionChange",(function(){o.resLogs.ldst=(0,r.nowTime)(),o._endType="switch"})),y(this,"onDefinitionChange",(function(e){var t=e.from;e=e.to,o.changeResolution(t,e,o.resLogs.ldst,"switch"),(0,r.log)("onDefinitionChange from:".concat(t,", to:").concat(e))})),y(this,"onDefiChangeSuccess",(function(){(0,r.log)("onDefinitionChangeSuccess"),o.updateVideoSize(),o.triggerTask("start")})),y(this,"onAbrChange",(function(e){var t=e.prev,n=e.cur,i=e.abrInfo;o.player.abrInstance&&(e=o.player.abrInstance.eventInfo,(0,r.log)("abrChange",e),e.last_definition=t,e.now_definition=n,o.abrInfo.abr_event_info.video_switch.push(e),o.changeResolution(t,n,(0,r.nowTime)(),"abr_switch",i))})),y(this,"onAbrPrestallEnd",(function(e){o.abrInfo.abr_user_info.cancel_abr=e?1:0})),y(this,"onTimeUpdate",(function(){var e=o.playlogs,t=o.resLogs,n=o.player;o.errorLog.try_err_c=0,e.vt||1!==o.startStep||(e.vt=(0,r.curTimestamp)(),(0,r.log)("onTimeUpdate: first frame inited","currentTime11:".concat(n.currentTime," vt-pt:").concat(e.vt-e.pt," vt-nt:").concat(e.vt-e.nt," vt-rt:").concat(e.vt-e.rt)),o.startStep=2),t.initial_resolution||(t.initial_resolution=(n.currentDefitionFromPlayer&&n.currentDefitionFromPlayer.definition?n.currentDefitionFromPlayer.definition:n.config.defaultDefinition||n.video.videoHeight+"p"||"").replace("P","p")),t.final_resolution||(t.final_resolution=t.initial_resolution);var i=e.played.length;i<1?e.played.push({begin:n.currentTime,end:-1}):e.played[i-1].end=n.currentTime,(i=t.played.length)<1?t.played.push({begin:n.currentTime,end:-1}):t.played[i-1].end=n.currentTime,o.lastVideoTime=n.currentTime||0,o.updateCurBuffer()})),y(this,"onCanplay",(function(){(0,r.log)("onCanplay","this.startStep:".concat(o.startStep," ").concat((0,r.curTimestamp)())),o.setVt()})),y(this,"onLoadeddata",(function(){(0,r.log)("onLoadeddata","this.startStep:".concat(o.startStep," ").concat((0,r.curTimestamp)())),o.setVt(),o.updateVideoSize()})),y(this,"onLoadStart",(function(){var e=(0,r.checkVideoSrcIsEmpty)(o.player.src)||(0,r.checkIsEmptySrc)(o.player,o.line_app_id);o.triggerTask("start"),(0,r.log)("onLoadStart","this.startStep:".concat(o.startStep," ").concat((0,r.curTimestamp)()," isSrcEmpty:").concat(e," player.src:").concat(o.player.src)),0!==o.startStep||e||"visible"!==document.visibilityState||o.setPt()})),y(this,"onDashStateChange",(function(e){(0,r.log)("onDashStateChange","this.startStep:".concat(o.startStep," ").concat((0,r.nowTime)()," state:").concat(e));var t=o.playlogs;if(o.startStep<2)switch(e){case"player_start":t.dash_pst=(0,r.nowTime)();break;case"wasm_start":t.dash_wst=(0,r.nowTime)();break;case"wasm_ready":t.dash_wrt=(0,r.nowTime)();break;case"init_finished":t.dash_ift=(0,r.nowTime)();break;case"core_start":t.dash_cst=(0,r.nowTime)();break;case"start_play":t.dash_spt=(0,r.nowTime)()}})),y(this,"onBufferedChange",(function(){var e,t=o.player.video&&o.player.video.buffered;!t||0<(e=t.length)&&t.end(e-1)+1>o.player.duration&&(o.bft=(0,r.curTimestamp)())})),y(this,"onPlayerInited",(function(){(0,r.log)("player init"),o._playerCreatedTime=(0,r.curTimestamp)(),o.playlogs.rt=(0,r.curTimestamp)()})),y(this,"onNotAutoPlay",(function(){(0,r.log)("onNotAutoPlay","autoplay:".concat(o.isAutoplay)),o.isAutoplay=0})),y(this,"onDashError",(function(e){e=e||{};var t=o.errorLog;t.last_errors.push(e.errorCode),t.accu_errc++,o.onOneError({errorType:e.errorTypeCode,code:e.errorCode,url:e.url||"",headers:e.headers||{}},0)})),y(this,"onPlayerError",(function(e){e=e||{};var t=o.errorLog,n=o.player,i=o.line_app_id;if((0,r.log)("onPlayerError","this.player.type:".concat(o.player.type," this.player.replayRunning:").concat(o.player.replayRunning," isSupportMP4:").concat(s.default.isSupportMP4," isPC:").concat(s.default.isPC)),(0,r.log)("onPlayerError",e),o.load_state=T,o._endType="error",o.suspendWaitingStatus("onPlayerError"),"dash"!==n.type||!n.replayRunning){if(n=o.player.currentSrc,e.url||(e.url=n),(1768===i||9999===i)&&s.default.isPC&&!s.default.isSupportMP4||s.default.isSpider)return t.errc=S[5],t.errt=w.notSupport,o.onOneError({errorType:t.errt,code:t.errc,url:e.url,headers:e.headers||{}},0),void(o._isOnePlayReport=!0);t.errt=e.errorTypeCode||(e.errorType&&w[e.errorType]?w[e.errorType]:9999),e.errorCode?t.errc=0<e.errorCode?S[e.errorCode]:e.errorCode:e.code&&0<e.code?t.errc=S[e.code]||e.code:t.errc=e.code,t.last_errors.push(t.errc),0===t.fir_errc&&(t.fir_errc=t.errc),o.onOnePlay(C),o.onOneTemp(C),o.sendDegradeLog("playCatch_end",o.playlogs.degrade),o.onOneError({errorType:t.errt,code:t.errc,url:e.url||"",headers:e.headers||{}}),o.sendEventsQueue()}})),y(this,"onPlayInterfaceInfo",(function(e){(0,r.log)("onPlayInterfaceInfo",e);var t=o.errorLog,n=o.apiLog,i=o.playlogs;e&&Object.keys(e).map((function(t){"code"===t?n.vsc=e[t]:"message"===t?n.vsc_message=e.message||"success\uff0c\u89c6\u9891\u53ef\u6b63\u5e38\u64ad\u653e":n[t]=e[t]})),i.at=e.timestamep||(new Date).getTime(),e.error&&-9988===e.error.errc||(n.vsc=e.code||10,n.vsc_message=e.message||"success\uff0c\u89c6\u9891\u53ef\u6b63\u5e38\u64ad\u653e",e.error&&(i=e.error,t.errt=1e3,t.errc=i.errc||-9998,t.last_errors.push(i.errc||-9998),0===t.fir_errc&&(t.fir_errc=i.errc||-9998),t.accu_errc++,1===t.accu_errc&&(t.fir_errt=(0,r.nowTime)()),o.onOneError({errorType:1e3,code:i.errc||-9998,url:"",headers:{}})))})),y(this,"onProgressEvent",(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=o.netLog;e.speed&&(a=1e6<e.speed?Math.floor(e.speed/1e3):e.speed,t.downloadSpeed=a,t.totalSpeed+=a,t.rqCount++),"oversize"!==e.type&&t.requestCount++,e.connectTime&&(t.connectCost=e.connectTime);var n,a,s,l=t.rqCount<7?100:5e3<=e.costTime?20:10;"success"===e.type&&parseInt(100*Math.random(),10)<=l||(s=(0,i.findPerformanceInfo)(e.cdnUrl),n=e.xhr||{},a=e.type?"progress_".concat(e.type):"progress",l=(l=e.headers)||(0,r.getResponseHeaders)(n),s=f(f({},l=(0,r.transformHeader)(l)),{},{download_speed:t.downloadSpeed,connect_cost:t.connectCost,c_dur:s.connectDuration||0,d_dur:s.domainDuration||0,r_dur:s.duration||0,rqtt:(new Date).getTime(),x_cache:l.x_response_cache||"",server_ip:l.x_response_sinfo}),e.status?t.status=e.status:n&&n instanceof window.XMLHttpRequest&&(t.status=n.status||0),s.status=t.status,t=e.cdnUrl||e.url,"error"===e.type&&o.merror.cdn.push(f(f({costTime:e.costTime,cur_play_pos:e.pos,cdn_url:t,cdn_host:(0,r.getHostFromUrl)(t)},s),l)),o.onOneEvent({costTime:e.costTime,vid:e.vid,end_type:a,cur_play_pos:e.pos,cdn_url:t,cdn_host:(0,r.getHostFromUrl)(t)},s,"error"===e.type?0:2))})),y(this,"onNext",(function(e){if((0,r.log)("onNext:startStep:",o.startStep),0<o.startStep){if(o._reportInvalidVV(O))return;o.onOnePlay(O),o.onOneTemp(O),o.sendEventsQueue()}o.vtype=null,o.playlogs.lc=0,o.resetLoggerParams()})),y(this,"onNextEnded",(function(){var e=o.player,t=o.resLogs;e=(e=e.config.defaultDefinition||"").replace("P","p"),t.initial_resolution=e,t.final_resolution=e})),y(this,"onSeeking",(function(){var e,t,n,i;(0,r.checkVideoSrcIsEmpty)(o.player.src)||(0,r.checkIsEmptySrc)(o.player,o.line_app_id)||(e=o.resLogs,t=o.playlogs,n=o.player,i=o.seekLog,(0,r.log)("onSeeking","currentTime:".concat(n.currentTime)),0===o.startStep&&o.setPt(),o.suspendWaitingStatus("seek"),o.isSeeking&&o.suspendSeekStatus("seek",!1),o.isSeeking=!0,t.played.push({begin:o.player.currentTime,end:-1}),e.played.push({begin:o.player.currentTime,end:-1}),i.lastSeekStartTime=(0,r.nowTime)(),i.seekBefore=o.lastVideoTime.toString(),i.intervalId=setTimeout((function(){o.isSeeking&&o.suspendSeekStatus("seekTimeout",!0)}),6e4))})),y(this,"onSeeked",(function(){(0,r.checkVideoSrcIsEmpty)(o.player.src)||(0,r.checkIsEmptySrc)(o.player,o.line_app_id)||o.isSeeking&&o.suspendSeekStatus("seeked",!0)})),y(this,"onPlaying",(function(){o.suspendWaitingStatus("play"),o.load_state=E;var e=(0,r.nowTime)();o.pauseLog.isPausing&&(o.pauseLog.isPausing=!1,o.pauseLog.pause_acu_t+=e-o.pauseLog.pause_start)})),y(this,"onPlayCatch",(function(e){var t,n,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{errorType:"",errorTypeCode:0,errorCode:0,url:"",headers:{},status:0};(0,r.log)("onPlayCatch",e,i),e&&(t=o.errorLog,n=o.playlogs,o.merror.playCatch.push(f({errc:i.errorCode,errt:i.errorType},i.headers)),o.setBr("playcatch"),t.accu_errc++,t.try_err_c++,i.errorCode&&t.last_errors.push(i.errorCode),o.suspendWaitingStatus("playcatch"),o.sendDegradeLog("playCatch",n.degrade,{cdn_url:i.url}),"mp42dash"===e?o.vtype="DASH_2":"dash2mp4"===e&&(o.vtype="MP4_2"),n.degrade=e,o.onOneError({errorType:i.errorTypeCode,code:i.errorCode,url:i.url||"",status:i.httpCode||i.status,headers:i.headers||{},vid:i.vid||o.vid,preload_hit:i.preloadHit||0,preload_cached:i.preloadCached||0,endState:D,costTime:i.costTime},0))})),y(this,"onMediaExpied",(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{errorType:"",errorTypeCode:0,errorCode:0,url:"",headers:{},status:0},t=o.errorLog,n=o.playlogs;(0,r.log)("onMediaExpied",e),o.suspendWaitingStatus("expied"),o.setBr("expied"),t.accu_errc++,t.try_err_c++,t.last_errors.push(e.errorCode),n.at=(new Date).getTime(),o.merror.expied.push(f({errorType:e.errorTypeCode||e.errorType,code:e.errorCode,url:e.url||"",status:e.status},(0,r.transformHeader)(e.headers||{}))),o.onOneError({errorType:e.errorTypeCode||e.errorType,code:e.errorCode,url:e.url||"",status:e.status,headers:e.headers||{}},0)})),y(this,"onLog",(function(e){(0,r.log)("onLog",e);var t=e.type;if(delete e.type,t)switch(t){case B:break;case V:o._templog||(o._templog={}),o._templog=(0,r.parseTempData)(o._templog,e.data,e.action),o._templog.preload_hit&&(o._cacheFile=F);break;case R:var n=o.errorLog;n.accu_errc++,n.try_err_c++,o.setBr("mp4error"),n.last_errors.push(e.code),o.onOneError(e,0);break;case j:var i=(0,r.formatData)(e,{costTime:"costTime",vid:"vid",end_type:"end_type",pos:"cur_play_pos",cdnUrl:"cdn_url"});i.ext&&["start","end"].map((function(e){i.ext[e]&&(i.ext["ext_".concat(e)]=i.ext[e],delete i.ext[e])})),o.onOneEvent(i.data,i.ext,2)}})),y(this,"onPlay",(function(){(0,r.log)("onPlay","this.startStep :".concat(o.startStep," this.isEnded:").concat(o.isEnded)),o.isEnded&&(o.resetLoggerParams(),o.setPt())})),y(this,"onPause",(function(){(0,r.log)("onPause");var e=o.pauseLog;e.isPausing=!0,e.pause_start=(0,r.nowTime)()})),y(this,"onWaiting",(function(){var e=o.stall;(0,r.log)("onWaiting>","isSeeking:".concat(o.isSeeking," startStep:").concat(o.startStep," intervalId:").concat(e.intervalId)),o.isSeeking||0===o.playlogs.vt||0<o.inWaitingStart||(e.intervalId&&(window.clearTimeout(e.intervalId),e.intervalId=null),o.inWaitingStart=(0,r.nowTime)(),e.intervalId=window.setTimeout((function(){var e=o.stall;(0,r.log)("stall.intervalId>>".concat(e.intervalId," cost: ").concat((0,r.nowTime)()-o.inWaitingStart)),o._endType="wait",o.load_state=P,-1<o.vtype.indexOf("MP4")&&10<o.player.currentTime&&o.task&&(o.triggerTask("waiting",o.initial_url),o.requestCount++),e.stall_start=o.inWaitingStart,1===e.sc&&(e.first_buf_startt=o.inWaitingStart),window.clearTimeout(e.intervalId),e.intervalId=null,o.startWaitingStatus(o.inWaitingStart,(0,r.nowTime)()-o.inWaitingStart),e.intervalId=setTimeout((function(){0<o.inWaitingStart&&o.suspendWaitingStatus("waitTimeout")}),6e4)}),200))})),y(this,"onEnded",(function(){var e;o.initial_url&&(e=(0,r.computeWatchDur)(o.playlogs.played),(0,r.log)("onEnded","watchDur:".concat(e," vt:").concat(o.vt," pt:").concat(o.pt)),o.isEnded=!0,e=o.resLogs.df,o.changeResolution(e,e,(0,r.nowTime)(),"leave_switch"),o.onOnePlay(A),o.sendDegradeLog("playCatch_end",o.playlogs.degrade),o.onOneTemp(A),o.sendEventsQueue(),o.playlogs.lc++)})),y(this,"onUnload",(function(){var e;0!==o.startStep&&o.initial_url&&(e=L,o.onOneTemp(e),o.sendDegradeLog("playCatch_end",o.playlogs.degrade),o._reportInvalidVV(L)||(o._options.disableLocalCache?o.onOnePlay(e,!1):o.onOnePlay(e,!0)))})),y(this,"onVisibilitychange",(function(){var e=o.playlogs.vt;"visible"===document.visibilityState&&(e||o.setPt())})),y(this,"onDestroy",(function(){(0,r.log)("onDestroy:this.startStep:".concat(o.startStep," initial_url:").concat(o.initial_url," ").concat(!!o.initial_url)),0<o.startStep&&o.initial_url&&(o.onOnePlay(N),o.onOneTemp(N),o.sendDegradeLog("playCatch_end",o.playlogs.degrade));var e=o.resLogs.df;o.changeResolution(e,e,(0,r.nowTime)(),"leave_switch"),o.sendEventsQueue(),"pc"===o.sniffer.device?window.removeEventListener("beforeunload",o.onUnload):"mobile"===o.sniffer.device&&window.removeEventListener("pagehide",o.onUnload),document.removeEventListener("visibilitychange",o.onVisibilitychange),o.listeners.forEach((function(e){o.player.off(e.evt,e.handler)})),o.clearTimers(),o.player.off("destroy",o.onDestroy),o.task&&o.task.clear()})),y(this,"onOnePlay",(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:3,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if((0,r.log)("onOnePlay _isOnePlayReport:".concat(o._isOnePlayReport," isLeave: ").concat(t," endState:").concat(e)),!o._isOnePlayReport){var n=o.errorLog,i=o.playlogs,a=o.abrInfo,s=o.resLogs,l=o.player,u=o.apiLog,c=o.pauseLog,d=o.stall,p=o.netLog;o._isOnePlayReport=!0;var h=(0,r.computeWatchDur)(i.played),m=(0,r.curTimestamp)(),y=0,g=0,_=l.video&&l.video.buffered;if(_){for(var k=_.length,b=0,x=0;x<k;x++)b+=_.end(x)-_.start(x);y=g=1e3*b}var w,S=f(f(f({local_time:(new Date).getTime(),log_type:"video_playq",plugin_exception:0,player_create_exception:"",v:o.vid,initial_url:o.initial_url,initial_host:o.initial_host,initial_ip:o.curHeaders.x_response_sinfo||0,initial_type:o.initial_type},o.curHeaders),{},{initial_resolution:s.initial_resolution,final_resolution:s.final_resolution,pt:o.pt,prepare_start_time:i.nt,prepare_end_time:i.rt||(0,r.curTimestamp)(),vt:o.vt,lt:o.lt,lpt:o.lpt,fvt:o.fvt,bft:o.bft,sc:o.seekLog.sc,sat:o.seekLog.sat,bc:o.bc,dbc:i.dbc||0,nbc:i.nbc||0,video_net_s:o.videoNetworkState,status:o.curStatus,first_buf_startt:d.first_buf_startt,first_buf_endt:d.first_buf_endt,lc:i.lc,bu_acu_t:o.bu_acu_t>H?0:o.bu_acu_t,de_bu_acu_t:i.de_bu_acu_t||0,n_bu_acu_t:i.n_bu_acu_t||0,pause_acu_t:c.pause_acu_t,cur_play_pos:o.cur_play_pos,load_state:o.load_state,playback_state:o.playback_state,end_state:e,watch_dur:H<h?0:h,switch_resolution_c:o.switchResolutionCount,is_start_play_automatically:o.isAutoplay,start_time:o.start_time,finish:o.finish,errt:n.errt,errc:n.errc,vsc:u.vsc,vsc_message:u.vsc_message,api_str:u.api_str,auth:u.auth||u.logid,width:o.videoWidth,height:o.videoHeight,vd:o.vd,video_length:y,audio_length:g,df:s.df,lf:s.lf,play_c:0,player_created_t:o.player_created_t,fir_errt:n.fir_errt,fir_errc:n.fir_errc,lv_method:0,ldst:s.ldst,ldet:s.ldet,is_disable_short_seek:0,mute:o.mute,volume:o.volume,download_speed:o.task&&o.task.speed?o.task.speed:p.downloadSpeed,avg_speed:0<p.rqCount?parseInt(p.totalSpeed/p.rqCount,10):0,mdl_req_num:p.requestCount,watingcost:o.watingCost,br:i.br,fbrt:i.fbrt,try_err_c:n.try_err_c,accu_errc:n.accu_errc,dash_pst:o.dash_pst,dash_wst:o.dash_wst,dash_wrt:o.dash_wrt,dash_ift:o.dash_ift,dash_cst:o.dash_cst,dash_spt:o.dash_spt,dash_break:2===l.dashBufferBreak?1:0,merror:JSON.stringify(o.merror),ex:JSON.stringify(o.exInfo),bufs:JSON.stringify(o.buffers.allBuffer),vs:s.vs,vds:s.vds,vps:s.vps},o.buffers.curBuffer),{},{degrade:i.degrade,cache_file:o._cacheFile});0!==o.vt&&(S.et=m),l&&l.dashState&&(S.dash_state=l.dashState),["drm_type","dynamic_type","enable_bash"].forEach((function(e){o.addIfExist(e,o._options,S)})),l.abrInstance&&(l=l.abrInstance,a.abr_general_info=l.generalInfo,a.abr_event_info.video_exit={local_time_ms:(new Date).getTime(),buffer_length:l.bufferLength,internet_speed:l.downloadSpeed,now_bitrate:l.nowBitrate,play_speed:o.player.playbackRate},l.getAbrPlayInfo&&(a.abr_play_info=l.getAbrPlayInfo()),l.getAbrVVStats&&(w=l.getAbrVVStats(),Object.keys(w).forEach((function(e){S[e]=w[e]})))),a.abr_init_opts=o.player.config.autoBitrateOpts||{},S.abr_info=JSON.stringify(o.abrInfo),t?o.reportLog(v,S,t):o.reportLog(v,S)}})),y(this,"onOneEvent",(function(e,t,n){var i=e.costTime,a=e.vid,s=e.end_type,l=e.cur_play_pos,u=e.cdn_url,c=e.cdn_host,p=(e=o.buffers.curBuffer,f({local_time:(new Date).getTime(),v:a||o.vid,cost_time:i,end_type:s||o.end_type,cdn_url:u||o.url,cdn_host:c||"",initial_type:o.initial_type,resolution:o.resolution,play_speed:o.playbackRate,first_frame_interval:(0,r.nowTime)()-o.pt,last_switch_interval:o.getLastInterval("lastSwitchStartTime",o.resLogs,!1),last_seek_interval:o.updateSeekPt(!1),last_event_interval:o.getLastInterval("lastEventTime"),video_pos:l||o.cur_play_pos,video_ready_s:o.videoReadyState,video_seeking:o.videoSeeking,video_paused:o.videoPaused,bufs:JSON.stringify(o.buffers.allBuffer),retry_count:o.retry_count,at:o.playlogs.at,stay_seconds:parseInt(((new Date).getTime()-o.playlogs.at)/1e3,10)},e));if("waitstart"===s&&"function"==typeof o._options.getPageFPS&&(s=o._options.getPageFPS(),p.cur_fps=s.curFPS||0,p.avg_fps=s.avgFPS||0),o.player&&o.player.dashState&&(p.dash_state=o.player.dashState),t&&"object"===d(t))for(var h in t)p[h]||(p[h]=t[h]);o.addIfExist("drm_type",o._options,p),o.reportLog(b,p,n)})),y(this,"onOneTemp",(function(){var e,t,n,i,a,s,l;(0,r.log)("onOneTemp>>",!o._templog),o._templog&&(e=o.player,t=o.playlogs,n=o.pauseLog,i=o.errorLog,a=o.resLogs,s=(0,r.computeWatchDur)(t.played),l=f(f(f({local_time:(new Date).getTime()},o._templog),{},{v:o.vid,initial_type:o.initial_type,pt:o.pt,vt:o.vt,lt:o.lt,fvt:o.fvt,bc:o.bc,bu_acu_t:o.bu_acu_t>H?0:o.bu_acu_t,pause_acu_t:n.pause_acu_t,cur_play_pos:o.cur_play_pos,watch_dur:H<s?0:s,finish:o.finish,errt:i.errt,errc:i.errc,vd:o.vd,df:a.df,lf:a.lf,br:t.br,fbrt:t.fbrt,try_err_c:i.try_err_c,accu_errc:i.accu_errc,dash_break:2===e.dashBufferBreak?1:0,bufs:JSON.stringify(o.buffers.allBuffer),vs:a.vs,vds:a.vds,vps:a.vps},o.buffers.curBuffer),{},{degrade:t.degrade}),0!==o.vt&&(l.et=(0,r.curTimestamp)()),["drm_type","dynamic_type","enable_bash"].forEach((function(e){o.addIfExist(e,o._options,l)})),o.reportLog(x,l,0),o._templog=null)})),this.player=e,void 0===this.player||null===this.player)throw new Error("player is ".concat(this.player));if(n&&n.line_app_id){if(this.sniffer=this.player.constructor.sniffer||this.player.constructor.Sniffer,this.util=this.player.constructor.util||this.player.constructor.Util,void 0===this.sniffer||void 0===this.util)throw new Error("player should be an instane from xgplayer, need sniffer and util interface");!n.isTask&&void 0!==n.isTask||(this.task=new l.default),this.eventQueue=[],this._instanceCreateTime=(new Date).getTime(),n.codec_type=n.codec_type||"h264",this._options=n,this._options.maxQueueCount||(this._options.maxQueueCount=5),this.line_app_id=parseInt(n.line_app_id,10)||0,this.line_user_id=(n.line_user_id||"").toString(),this.version=u.default,this.sdk_version=u.default,this.playerCoreVersion=n.playerCoreVersion||"",this.playerVersion=n.playerVersion||n.sdk_version,this.closeSeekLog=n.closeSeekLog||!1,this.start_time=1e3*(n.start_time||0),this.isFullAB=n.isFullAB||!1,this._initial_resolution="",this.__vtype=null,this.__dt="",this.isLowMp4=!1,this.resetLoggerParams();try{this.initializeTracker(),this.sendLocalLog(),this.bindEvt(),(0,r.log)("logger constructor:"+this.player.video)}catch(e){}}}return m(t,null,[{key:"TEA_ID",set:function(e){U="__tea_cache_tokens_".concat(z=e)},get:function(){return z}}]),m(t,[{key:"resetLoggerParams",value:function(){(0,r.log)("resetLoggerParams");var e=this.playlogs?this.playlogs.lc:0;this.playlogs={nt:(0,r.curTimestamp)(),vt:0,rt:this.isEnded?(0,r.curTimestamp)():0,at:0,pt:0,bu_acu_t:0,bc:0,br:0,fbrt:"",dbc:0,de_bu_acu_t:0,nbc:0,n_bu_acu_t:0,played:[{begin:0,end:-1}],dash_pst:0,dash_wst:0,dash_wrt:0,dash_ift:0,dash_cst:0,dash_spt:0,interruptCount:0,degrade:"none",lc:e},this.degradeLog={bu_acu_t:0,bc:0,watch_dur:0,hasSendEnd:!1},this.buffers={allBuffer:[],curBuffer:{buf_s_pos:0,buf_e_pos:0,buf_include:0}},this.netLog={downloadSpeed:0,requestCount:0,connectCost:0,totalSpeed:0,rqCount:0,status:0},this.merror={cdn:[],player:[],playCatch:[],expied:[]},this.exInfo={buffer:{},stall:[]},this._templog=null,this._isOnePlayReport=!1,this.startStep=0,this.bft=0,this.initializeLogDatas(),this.initializeUrlLog()}},{key:"initializeLogDatas",value:function(){this.startStep=0,this.inWaitingStart=0,this.lastVideoTime=0,this._endType="",this._retryCount=0,this.lastOperaTime=-1,this.lastEventTime=-1,this.seekLog={intervalId:0,lastSeekStartTime:(0,r.nowTime)(),seekBefore:0,sat:0,sc:0},this.resLogs={lastSwitchStartTime:-1,switch_count:0,abr_switch_count:0,initial_resolution:"",final_resolution:"",ldst:0,ldet:0,df:"",lf:"",played:[],bc:0,bu_acu_t:0,sc:0,sat:0,buf:0,lbuf:0,lplayed:0,vs:0,vds:0,vps:0,vis:0,bitrate:0},this.apiLog={code:0,message:"",logid:"",api:"",auth:"",error:{}},this.errorLog={accu_errc:0,try_err_c:0,errt:0,errc:0,fir_errt:0,fir_errc:s.default.isSupportMP4?0:1005,last_errors:[]},this.pauseLog={pause_acu_t:0,isPausing:!1,pause_start:0},this.stall={intervalId:0,stall_count:0,first_buf_startt:0,first_buf_endt:0,stall_start:0,stall_end:0,stall_last_interval:0,stall_acc_time:0},this._playerCreatedTime=0,this.load_state=I,this.lv_method=6,this.isSeeking=!1,this.isEnded=!1,this.startStep=0,this.isAutoplay=this.player.config&&this.player.config.autoplay?1:0,this.abrInfo={abr_general_info:{},abr_event_info:{video_switch:[],video_stall:[],video_exit:{}},abr_play_info:{start_play_time_ms:0,is_hint:0,playback_info:{internet_speed_record:[],play_bitrate_record:[],buffer_length_record:[],play_speed_record:[]}},abr_user_info:{cancel_abr:0},abr_init_opts:this.player.config.autoBitrateOpts||{}},this._cacheFile=M}},{key:"initSessionId",value:function(){var t="0";try{t=window.localStorage.getItem(U).web_id||"0"}catch(e){t="0"}this._sessionId=(0,r.generateSessionId)(t),(0,r.log)("sessionId ".concat(this._sessionId))}},{key:"initializeTracker",value:function(){var e=this._options;window.__xgplayer_vod_log__?this.tracker=window.__xgplayer_vod_log__:(this.tracker=window.__xgplayer_vod_log__=new o.default("tracker"),n={app_id:"cn"!==(t="va"===(t=e.channel||"cn")||"sg"===t?t:"cn")&&1300===z?3063:z,channel:t,log:!1,disable_sdk_monitor:!0},e.channelDomain&&(n.channel_domain=e.channelDomain),n.enable_ab_test=!!e.enableAbTest,this.tracker.init(n)),this.initSessionId(),this.commonParams={play_type:0,source_type:"vid",sdk_version:this.sdk_version,pc:this.playerCoreVersion,pv:this.playerVersion,line_app_id:this.line_app_id,line_user_id:this.line_user_id,absdkVersion:e.absdkVersion||"",app_version:e.appVersion||"",platform:s.default.isPad?"pad":s.default.isMobile?"mobile":"pc"},(0,r.log)("commonParams ",this.commonParams);var t={evtParams:this.commonParams,disable_auto_pv:!0};(0,r.log)("Browser.name ",s.default.name),!s.default.name||s.default.isChrome||s.default.isSafari||(t.browser=s.default.name,s.default.appVersion&&(t.browser_version=s.default.appVersion)),this.line_user_id&&(t.user_unique_id=this.line_user_id,t.web_id=this.line_user_id);var n=e.absdkVersion||"";n&&(t.ab_sdk_version=n),e.referrer&&(t.referrer=e.referrer,t.referrer_host=(0,r.getHostFromUrl)(e.referrer)),this.tracker.config(t),this.tracker.start()}},{key:"resetDefiInfo",value:function(){var e=this.resLogs;e.played=[],e.bc=0,e.bu_acu_t=0,e.sc=0,e.sat=0}},{key:"sendLocalLog",value:function(){var e=this,t=a.default.get();a.default.remove(),t.map((function(t){Object.keys(t).map((function(n){var i;(0,r.log)("sendLocalLog",n,t[n]),e.player&&(e.player.emit("abLog",n,t[n]),(i=e._options.sendLocalCallback)&&"function"==typeof i&&i(n,t[n])),e.tracker(n,t[n])}))}))}},{key:"bindEvt",value:function(){var e=this;this.listeners=[{evt:"play",handler:this.onPlay},{evt:"playing",handler:this.onPlaying},{evt:"pause",handler:this.onPause},{evt:"waiting",handler:this.onWaiting},{evt:"playInterfaceInfo",handler:this.onPlayInterfaceInfo},{evt:"DRM_ERROR",handler:this.onDashError},{evt:"ended",handler:this.onEnded},{evt:"loadeddata",handler:this.onLoadeddata},{evt:"loadstart",handler:this.onLoadStart},{evt:"canplay",handler:this.onCanplay},{evt:"dashStateChange",handler:this.onDashStateChange},{evt:"autoplay was prevented",handler:this.onNotAutoPlay},{evt:"seeking",handler:this.onSeeking},{evt:"seeked",handler:this.onSeeked},{evt:"complete",handler:this.onPlayerInited},{evt:"timeupdate",handler:this.onTimeUpdate},{evt:"bufferedChange",handler:this.onBufferedChange},{evt:"beforeDefinitionChange",handler:this.onBeforeDefinitionChange},{evt:"definitionChange",handler:this.onDefinitionChange},{evt:"definitionChangeSuccess",handler:this.onDefiChangeSuccess},{evt:"drmTypeChange",handler:this.onDrmTypeChange},{evt:"replayBtnClick",handler:this.onReplayBtnClick},{evt:"initialUrl",handler:this.initializeUrlLog},{evt:"ABR_CHANGE",handler:this.onAbrChange},{evt:"playCatch",handler:this.onPlayCatch},{evt:"MEDIA_EXPIRED",handler:this.onMediaExpied},{evt:"log",handler:this.onLog},{evt:"ABR_PRESTALL_END",handler:this.onAbrPrestallEnd},{evt:"progress_event",handler:this.onProgressEvent},{evt:"logger_next",handler:this.onNext},{evt:"nextEnded",handler:this.onNextEnded},{evt:"media_format_error",handler:this.onMediaFormatError}];var t=this.player.config.errorKey;(0,r.log)(">>>errorKey",t);var n={evt:"error",handler:this.onPlayerError};t&&(n.evt=t),this.listeners.push(n),this.listeners.forEach((function(t){e.player.on(t.evt,t.handler)})),this.bindUnload()}},{key:"addIfExist",value:function(e,t,n){g(t)&&(null==(t=t[e])||(n[e]=t))}},{key:"changeResolution",value:function(e,t,n,i,o){var a=this.resLogs;e=e?e.replace("P","p"):"",t=t?t.replace("P","p"):"",a.ldet=(0,r.nowTime)(),a.df=t,a.lf=e,a.final_resolution=t,a.switch_count++,n=a.ldet-n,a={bc:a.bc,bu_acu_t:a.bu_acu_t,sc:a.sc,sat:a.sat,watch_dur:(0,r.computeWatchDur)(a.played)},o&&(a.abrInfo=o),this.updateVds(),this.resetDefiInfo(),this._options.closeResolutionLog||this.onOneOperator({costTime:n,operaType:i,stateBefore:e,stateAfter:t},a,0)}},{key:"getLastInterval",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this,n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],i=t[e],o=(0,r.nowTime)();return i=-1===i?-1:o-i,n&&(t[e]=o),i}},{key:"updateSeekPt",value:function(e){return this.getLastInterval("lastSeekStartTime",this.seekLog,e)}},{key:"_reportInvalidVV",value:function(e){return!!this._isInvaidVV()&&(this.onOneError({endState:e,errorType:9998,code:-1,url:this.url,headers:{}},0),this._isOnePlayReport=!0)}},{key:"_isInvaidVV",value:function(){return 0===this.vt&&-1===this.curStatus}},{key:"bindUnload",value:function(){"pc"===this.sniffer.device?window.addEventListener("beforeunload",this.onUnload):"mobile"===this.sniffer.device&&window.addEventListener("pagehide",this.onUnload),document.addEventListener("visibilitychange",this.onVisibilitychange),this.player.once("destroy",this.onDestroy)}},{key:"clearTimers",value:function(){var e=this.seekLog,t=this.stall;e.intervalId&&window.clearTimeout(e.intervalId),t.intervalId&&window.clearTimeout(t.intervalId)}},{key:"sendDegradeLog",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"playCatch",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"none",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};(0,r.log)("sendDegradeLog",e,t,n);var i,o=this.degradeLog,a=this.playlogs;o.hasSendEnd||"playCatch_end"===e&&"none"===t||("playCatch_end"===e&&(o.hasSendEnd=!0),i=this.bu_acu_t-o.bu_acu_t,a=(0,r.computeWatchDur)(a.played),this.onOneEvent({costTime:this.vd,vid:this.vid,end_type:e,cur_play_pos:this.player.currentTime,cdn_url:n.url},f({degrade:t,vt:this.vt,pt:this.pt,fvt:this.fvt,bc:this.bc-o.bc,bu_acu_t:H<i?0:i,watch_dur:a-o.watch_dur},n),0))}},{key:"onOneOperator",value:function(e){var t=e.costTime,n=e.operaType,r=e.stateBefore,i=e.stateAfter,o=e.endType,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2,l=(e=this.getLastInterval("lastOperaTime"),{local_time:(new Date).getTime(),v:this.vid,opera_type:n,state_before:r,state_after:i,cost_time:t,end_type:o||this.end_type,cdn_url:this.url,resolution:this.resolution,last_interval:e,bufs:JSON.stringify(this.buffers.allBuffer),video_pos:this.cur_play_pos,retry_count:this.retry_count});this.player&&this.player.dashState&&(l.dash_state=this.player.dashState),Object.keys(a).map((function(e){l[e]=a[e]})),this.addIfExist("drm_type",this._options,l),this.reportLog(_,l,s)}},{key:"onOneError",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{errorType:0,code:0,url:"",headers:{},costTime:0,vid:"",preload_hit:0,preload_cached:0},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;(0,r.log)("onOneError",e);var n=this.errorLog,i=this.apiLog,o=this.resLogs,a=this.player,s=this.playlogs,l=(0,r.transformHeader)(e.headers||{});e=f(f(f({v:e.vid||this.vid,video_pos:this.cur_play_pos,local_time:(new Date).getTime(),cost_time:e&&e.costTime?e.costTime:0,errt:e.errorType,errc:e.code,es:this.es,cdn_url:e.url||"",bufs:JSON.stringify(this.buffers.allBuffer),resolution:o.final_resolution,last_errors:n.last_errors.join(";"),vsc:i.vsc,vsc_message:i.vsc_message,server_ip:l.x_response_sinfo||0,initial_host:/^blob/.test(e.url)?"blob:":(0,r.getHostFromUrl)(e.url)},l),{},{cur_play_pos:this.cur_play_pos},this.buffers.curBuffer),{},{degrade:s.degrade,end_state:e.endState||C,preload_hit:e.preload_hit,preload_cached:e.preload_cached}),a&&a.dashState&&(e.dash_state=a.dashState),this.addIfExist("drm_type",this._options,e),this.reportLog(k,e,t)}},{key:"reportLog",value:function(e,t,n){var r=this,i=this.player.ABTestTag;t.player_sessionid||(t.player_sessionid=this.sessionId),t.web_url||(t.web_url=window.location.href),t.user_agent=navigator.userAgent,t.dynamic_type=this.dynamicType,null!=i&&(t.abtest_tag=i);var o=this._options;if(g(o)&&(Z.forEach((function(e){r.addIfExist(e,o,t)})),t.vtype=this.vtype),1===n)return(i={})[e]=t,void a.default.set(i);2!==n?(this.player&&this.player.emit("abLog",e,t),this.tracker(e,t)):this.addEventsQueue(e,t)}},{key:"addEventsQueue",value:function(e,t){this.eventQueue.push({event:e,params:t}),this.eventQueue.length>=this._options.maxQueueCount&&this.sendEventsQueue()}},{key:"sendEventsQueue",value:function(){for(;0<this.eventQueue.length;){var e=this.eventQueue.pop();this.tracker(e.event,e.params)}}},{key:"startWaitingStatus",value:function(e,t){this.onOneEvent({costTime:t,end_type:"waitstart"},{},2),this.appendStallInfo("start",e)}},{key:"triggerTask",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"start",t=1<arguments.length?arguments[1]:void 0;(0,r.log)("triggerTask>>",e),t=t||this.player.src,!(0,r.checkVideoSrcIsEmpty)(t)&&-1<this.vtype.indexOf("MP4")&&this.task&&this.task.trigger(t,e)}},{key:"appendStallInfo",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"start",t=1<arguments.length?arguments[1]:void 0,n=2<arguments.length?arguments[2]:void 0,i=this.exInfo.stall;if("start"===e){6<i.length&&i.splice(0,i.length-6);var o=this.buffers.curBuffer;i.push({start:t,end:-1,endType:"waitstart",cost:0,cur:this.cur_play_pos,buf_s:o.buf_s_pos,buf_e:o.buf_e_pos,buf_i:o.buf_include})}else if("end"===e){if((e=i.length-1)<0)return;i[e].end<0&&(i[e].end=t,i[e].endType=n,i[e].cost=t-i[e].start)}(0,r.log)("appendStallInfo",i)}},{key:"suspendWaitingStatus",value:function(e){var t=(0,r.nowTime)(),n=this.playlogs,i=this.resLogs,o=this.stall,a=this.inWaitingStart;a<=0||this.isSeeking||n.vt<=0||((0,r.log)("suspendWaitingStatus>>".concat(e,"|costTime:").concat(t-a," isSeeking:").concat(this.isSeeking," vt:").concat(n.vt)),this.appendStallInfo("end",t,e),200<t-a&&(a=t-this.inWaitingStart,n.bc++,this.checkInBuffer(this.player.currentTime)?(n.de_bu_acu_t+=a,n.dbc++):(n.nbc++,n.n_bu_acu_t+=a),i.bc++,n.bu_acu_t+=a,i.bu_acu_t+=a,o.stall_end=t,o.stall_last_interval=o.stall_end-o.stall_start,o.stall_acc_time+=o.stall_last_interval,1===o.sc&&(o.first_buf_endt=t),this.player.abrInstance&&!this.isSeeking&&this.playlogs.vt&&(t=this.player.abrInstance,this.abrInfo.abr_event_info.video_stall.push({local_time_ms:(new Date).getTime(),stall_duration:parseFloat((a/1e3).toFixed(2)),buffer_length:t.bufferLength,internet_speed:t.downloadSpeed,now_bitrate:t.nowBitrate,play_speed:this.player.playbackRate,is_abr:t.isCurrentInAbr?1:0})),this.onOneEvent({costTime:a,end_type:e||"wait"},{},2)),this._endType="",this.load_state=E,this.inWaitingStart=0,window.clearTimeout(o.intervalId),o.intervalId=null)}},{key:"suspendSeekStatus",value:function(e){var t,n,i,o,a,s=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];this.isSeeking&&(t=this.seekLog,n=this.resLogs,a=this.player,i=(0,r.nowTime)()-t.lastSeekStartTime,(0,r.log)("suspendSeekStatus>>","".concat(e," currentTime:").concat(a.currentTime," costTime:").concat(i," sat:").concat(t.sat," resLogs.sat:").concat(n.sat)),t.intervalId&&window.clearTimeout(t.intervalId),t.intervalId=null,this.isSeeking=!1,this._endType="seek",o=t.seekBefore,a=(a.currentTime||0).toString(),t.sc++,t.sat+=36e5<i?0:i,n.sc++,n.sat+=36e5<i?0:i,this.updateSeekPt(!0),!this.closeSeekLog&&s&&this.onOneOperator({costTime:i,operaType:"seek",stateBefore:o,stateAfter:a,endType:e}))}},{key:"setPt",value:function(){var e=this.playlogs;this.startStep=1,!e.pt&&this.player.currentTime&&(this.isSeeking=!0),e.pt||(e.pt=(0,r.curTimestamp)(),(0,r.log)("setPt","init pt :".concat(e.pt,", document.visibilityState:").concat(document.visibilityState)))}},{key:"setVt",value:function(){var e=this.playlogs;1===this.startStep&&(e.vt||(e.vt=(0,r.curTimestamp)(),(0,r.log)("setVt: first frame inited","vt-pt:".concat(e.vt-e.pt," vt-nt:").concat(e.vt-e.nt))),this.startStep=2)}},{key:"setBr",value:function(e){var t=this.playlogs;0<t.vt&&(0===t.br&&(t.fbrt=e||""),t.br++)}},{key:"updateCurBuffer",value:function(){var e=this.player,t=e.buffered,n=e.currentTime,r={buf_s_pos:0,buf_e_pos:0,buf_include:0},i=[];if(!t||t.length<1)return r;for(var o=-1,a=-1,s=0;s<t.length;s++){var l=parseInt(1e3*t.start(s),10),u=parseInt(1e3*t.end(s),10);i.push({start:l,end:u}),l<n&&n<u?(r.buf_include=1,r.buf_s_pos=l,r.buf_e_pos=u):n<l&&(o<0||l-n<o)?(o=l-n,a=s):u<n&&(o<0||n-u<o)&&(o=n-u,a=s)}1!==r.buf_include&&-1<a&&(r.buf_s_pos=parseInt(1e3*t.start(a),10),r.buf_e_pos=parseInt(1e3*t.end(a),10)),this.buffers.allBuffer=i,this.buffers.curBuffer=r}},{key:"checkInBuffer",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=this.player.buffered;e=parseInt(1e3*e,10);for(var r=0;r<n.length;r++){var i=parseInt(1e3*n.start(r),10)+t,o=parseInt(1e3*n.end(r),10)+t;if(i<e&&e<o)return!0}return!1}},{key:"updateVideoSize",value:function(){var e,t=this._options,n=this.player,i=this.resLogs,o=0,a=0;n.__dash__&&n.__dash__.dash&&n.__dash__.dash.mpd.mediaList?(e=(e=n.__dash__.dash.mpd.mediaList.video)[e.selectedIdx],(0,r.log)("updateVideoSize\u300b\u300bvideoItem",e),a=e?e.bitrate||e.bandwidth:0,o=e?e.size:0):(o=t.videoSize||n.config.videoSize||0,a=t.bitrate||n.config.bitrate||0),(0,r.log)("updateVideoSize","bitrate:".concat(a,", vs:").concat(o)),o&&(i.vs=o,i.vis=parseInt(o/n.duration,10),i.bitrate=a||i.vis)}},{key:"updateVds",value:function(){var e=this.resLogs,t=this.playlogs,n=this.player;if(0!==e.vis){t=parseInt((0,r.computeWatchDur)(t.played)/1e3,10);for(var i=n.buffered,o=0,a=0;a<i.length;a++)o+=parseInt(i.end(a)-i.start(a),10);(0,r.log)("updateVds","pdur:".concat(t," bdur:").concat(o," \n         lbuf:").concat(e.lbuf," lplayed:").concat(e.lplayed," bitrate: ").concat(e.bitrate," vis:").concat(e.vis," vs:").concat(e.vs)),e.vps+=parseInt((t-e.lplayed)*e.vis,10),e.vds+=parseInt((o-e.lbuf)*e.vis,10),e.lplayed=t,e.lbuf=o}else(0,r.log)("updateVds","vis:".concat(e.vis))}},{key:"url",get:function(){var e=this.player;return e&&e.config?e.config.url:""}},{key:"vid",get:function(){var e=this.player;return e&&e.config?e.config.vid:""}},{key:"bc",get:function(){return this.playlogs.bc}},{key:"bu_acu_t",get:function(){return this.playlogs.bu_acu_t}},{key:"pt",get:function(){return this.playlogs.pt||(0,r.curTimestamp)()}},{key:"vt",get:function(){var e=this.playlogs,t=e.vt;return 0<e.pt?t:0}},{key:"fvt",get:function(){var e=(t=this.playlogs).vt,t=t.pt;return 0<e&&0<t?parseInt(e-t,10):0}},{key:"dash_pst",get:function(){return this.playlogs.dash_pst}},{key:"dash_wst",get:function(){return this.playlogs.dash_wst}},{key:"dash_wrt",get:function(){return this.playlogs.dash_wrt}},{key:"dash_ift",get:function(){return this.playlogs.dash_ift}},{key:"dash_cst",get:function(){return this.playlogs.dash_cst}},{key:"dash_spt",get:function(){return this.playlogs.dash_spt}},{key:"vd",get:function(){var e=this.player;return e.duration&&"number"==typeof e.duration&&0<e.duration?parseInt(1e3*e.duration,10):e.config.duration&&"number"==typeof e.config.duration?parseInt(1e3*e.config.duration,10):0}},{key:"cur_play_pos",get:function(){return parseInt(1e3*this.player.currentTime,10)}},{key:"volume",get:function(){return this.player.volume}},{key:"buffer_time",get:function(){var e=0;try{var t=this.player.getBufferedRange();e=t[1]-t[0]}catch(t){e=0}return e}},{key:"player_created_t",get:function(){return this._playerCreatedTime}},{key:"playbackRate",get:function(){return this.player.playbackRate}},{key:"mute",get:function(){return this.player.muted?0:1}},{key:"videoWidth",get:function(){var e=this.player;return e&&e.video?e.video.videoWidth:0}},{key:"videoHeight",get:function(){var e=this.player;return e&&e.video?e.video.videoHeight:0}},{key:"preload",get:function(){var e=this.player;return!(!e||!e.video)&&e.video.preload}},{key:"initial_url",get:function(){var e=this.player.currentSrc;return-1<e.indexOf("blob:")&&this.urlLog.initial_url?this.urlLog.initial_url:(0,r.checkVideoSrcIsEmpty)(e)||(0,r.checkIsEmptySrc)(this.player,this.line_app_id)?"":e}},{key:"initial_host",get:function(){var e=this.player.currentSrc;return-1<e.indexOf("blob:")&&this.urlLog.initial_host?this.urlLog.initial_host:(0,r.getHostFromUrl)((0,r.checkVideoSrcIsEmpty)(e)||(0,r.checkIsEmptySrc)(this.player,this.line_app_id)?"":e)}},{key:"curHeaders",get:function(){var e=this.player,t=this.task;return e&&e.__dash__&&e.__dash__.curReqVideoSegInfo?(e=e.__dash__.curReqVideoSegInfo.headers||{},(0,r.transformHeader)(e)):t?t.headers:{}}},{key:"curStatus",get:function(){var e=this.task,t=this.vtype,n=this.netLog;return-1<t.indexOf("MP4")?e?e.status:0:n.status}},{key:"play_type",get:function(){return 0}},{key:"resolution",get:function(){return this.resLogs.df}},{key:"sessionId",get:function(){return this._sessionId}},{key:"finish",get:function(){return this.isEnded?1:0}},{key:"end_type",get:function(){return this._endType}},{key:"videoReadyState",get:function(){var e=this.player;return e&&e.video?e.video.readyState:-1}},{key:"videoSeeking",get:function(){var e=this.player;return e&&e.video&&e.video.seeking?1:0}},{key:"videoPaused",get:function(){var e=this.player;return e&&e.video&&e.video.paused?1:0}},{key:"retry_count",get:function(){return this._retryCount}},{key:"switchResolutionCount",get:function(){return this.resLogs.switch_count}},{key:"isError",get:function(){return this.util.hasClass(this.player.root,"xgpplayer-is-error")}},{key:"isPlaying",get:function(){return this.util.hasClass(this.player.root,"xgplayer-playing")}},{key:"isStop",get:function(){return this.util.hasClass(this.player.root,"xgplayer-ended")||this.util.hasClass(this.player.root,"xgplayer-nostart")}},{key:"isPause",get:function(){return this.util.hasClass(this.player.root,"xgplayer-pause")}},{key:"isLoading",get:function(){return this.util.hasClass(this.player.root,"xgplayer-isloading")}},{key:"es",get:function(){return this.isPlaying?"playing":"beforePlay"}},{key:"lt",get:function(){var e=0;return 0===this.vt&&((0,r.log)("lt init",this.playlogs.lt),e=(0,r.curTimestamp)()),e}},{key:"lpt",get:function(){return this.lt?this.lt-this.pt:0}},{key:"playback_state",get:function(){return this.isError?3:this.isStop?0:this.isPause?2:this.isLoading?4:1}},{key:"is_start_play_automatically",get:function(){return this.isAutoplay}},{key:"vtype",get:function(){return this.__vtype||(this.player.dash||this.player.config&&this.player.config.dashOpts&&this.player.config.dashOpts.dynamic_video?"DASH":"DASH"!==this._options.vtype&&this._options.vtype||"MP4")},set:function(e){this.__vtype=e}},{key:"watingCost",get:function(){if(0<this.inWaitingStart){var e=(0,r.nowTime)()-this.inWaitingStart;return 36e5<e?0:e}return 0}},{key:"videoNetworkState",get:function(){var e=this.player;return e&&e.video?e.video.networkState:-1}},{key:"eagleid",get:function(){var e=this.player;return e&&e.__dash__&&e.__dash__.curReqVideoSegInfo?(e.__dash__.curReqVideoSegInfo.headers||{}).eagleid:""}},{key:"initial_type",get:function(){var e=this.player.config||{};return e&&e.vodLogOpts&&void 0!==e.vodLogOpts.currentDashType?parseInt(e.vodLogOpts.currentDashType,10):-1}},{key:"dynamicType",get:function(){var e=this.player;return this.__dt||(e&&e.__dash__&&e.__dash__.dash&&e.__dash__.dash.mpd?(this.__dt=e.__dash__.dash.mpd.dashType,this.__dt):"")}}]),t}(),t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.findPerformanceInfo=function(e){var t={};try{var n=function(){e=e.replace(/^http:|^https:/,"");for(var n=i||[],r=function(r){if(n[r].name.replace(/^http:|^https:/,"")===e)return["domainLookupEnd","domainLookupStart","startTime","requestStart","responseEnd","responseStart","connectStart","connectEnd","fetchStart"].map((function(e){t[e]=Math.round(n[r][e])})),t.url=n[r].name,t.duration=Math.round(n[r].duration),t.domainDuration=t.domainLookupEnd-t.domainLookupStart,t.connectDuration=t.connectEnd-t.connectStart,"break"},o=n.length-1;0<=o&&"break"!==r(o);o--);return{v:t}}();if("object"===r(n))return n.v}catch(n){return t}};var i=[];"undefined"!=typeof window&&function(){try{new window.PerformanceObserver((function(e,t){var n=e.getEntriesByType("resource");30<i.length&&i.splice(0,i.length-30);for(var r=0;r<n.length;r++)i.push(n[r])})).observe({entryTypes:["resource"]})}catch(e){}}()},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t);var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function a(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e}function s(e,t){return t?"__tea_cache_tokens_"+e:"__tea_cache_events_"+e}function l(e,t,n,r){try{var i=(i=e.match(/\/v\d\//))?i[0]:-1!==e.indexOf("/v1/")?"/v1/":"/v2/",o=e.split(i)[0];if(!o)return void r(e,t,v);t.forEach((function(i){i=function(e){var t,n="";for(t in e)e.hasOwnProperty(t)&&void 0!==e[t]&&(n+="&"+t+"="+encodeURIComponent(JSON.stringify(e[t])));return"&"===n[0]?n.slice(1):n}(i);var a=new Image(1,1);a.onload=function(){a=null,n&&n()},a.onerror=function(){a=null,r&&r(e,t,_)},a.src=o+"/gif?"+i}))}catch(n){r&&r(e,t,k,n.message)}}function u(e,t,n,r,i,o,a,s,u,c){var d=window.navigator.userAgent,p=-1!==window.navigator.appName.indexOf("Microsoft Internet Explorer")&&(-1!==d.indexOf("MSIE 8.0")||-1!==d.indexOf("MSIE 9.0"));if(!(d=!!r)&&p)l(e,n,i,o);else if(!d&&s)return window.navigator&&window.navigator.sendBeacon?(c&&c(),void(window.navigator.sendBeacon(e,JSON.stringify(n))?i():o(e,n,b))):void l(e,n,i,o);a&&delete n.app_key,function(e,t,n,r,i,o,a){try{var s=new XMLHttpRequest;s.open("POST",""+e,!0),s.setRequestHeader("Content-Type","application/json; charset=utf-8"),i&&s.setRequestHeader("X-MCS-AppKey",""+i),a&&(s.withCredentials=!0),s.onload=function(){if(n){var r=null;if(s.responseText){try{r=JSON.parse(s.responseText)}catch(e){r={}}n(r,t)}}};try{o&&(s.timeout=o),o&&(s.ontimeout=function(){r&&r(t,w)}),s.onerror=function(){s.abort(),r&&r(t,x)},s.send(JSON.stringify(t))}catch(e){}}catch(e){}}(e,n,i,o,r,t,u)}var c=(function(e){e.exports=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n,r=arguments[e];for(n in r)t[n]=r[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(+new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s,l="";for(s in o)o[s]&&(l+="; "+s,!0!==o[s]&&(l+="="+o[s].split(";")[0]));return document.cookie=t+"="+n+l}}function a(e,n){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),l=s.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var u=t(s[0]);if(l=(r.read||r)(l,u)||t(l),n)try{l=JSON.parse(l)}catch(e){}if(i[u]=l,e===u)break}catch(e){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return a(e,!1)},i.getJSON=function(e){return a(e,!0)},i.remove=function(t,n){o(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))}()}(n={exports:{}}),n.exports),d=function(){function e(){this.cache={}}return e.prototype.setItem=function(e,t){this.cache[e]=t},e.prototype.getItem=function(e){return this.cache[e]},e.prototype.removeItem=function(e){this.cache[e]=void 0},e}(),p={getItem:function(e){try{var t=localStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return n||void 0}catch(e){}},setItem:function(e,t){try{var n="string"==typeof t?t:JSON.stringify(t);localStorage.setItem(e,n)}catch(e){}},removeItem:function(e){try{localStorage.removeItem(e)}catch(e){}},getCookie:function(e,t){try{return c.get(e,{domain:t||document.domain})}catch(e){return""}},setCookie:function(e,t,n,r){try{var i=r||document.domain,o=+new Date+n;c.set(e,t,{expires:new Date(o),path:"/",domain:i})}catch(e){}},isSupportLS:function(){try{return localStorage.setItem("_ranger-test-key","hi"),localStorage.getItem("_ranger-test-key"),localStorage.removeItem("_ranger-test-key"),!0}catch(r){return!1}}()},f={getItem:function(e){try{var t=sessionStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return n||void 0}catch(e){}},setItem:function(e,t){try{var n="string"==typeof t?t:JSON.stringify(t);sessionStorage.setItem(e,n)}catch(e){}},removeItem:function(e){try{sessionStorage.removeItem(e)}catch(e){}},isSupportSession:function(){try{return sessionStorage.setItem("_ranger-test-key","hi"),sessionStorage.getItem("_ranger-test-key"),sessionStorage.removeItem("_ranger-test-key"),!0}catch(r){return!1}}()},h=function(){function e(e,t){this._storage=t&&"session"===t?f:!e&&p.isSupportLS?p:new d}return e.prototype.getItem=function(e){return this._storage.getItem(e)},e.prototype.setItem=function(e,t){this._storage.setItem(e,t)},e.prototype.getCookie=function(e,t){return this._storage.getCookie(e,t)},e.prototype.setCookie=function(e,t,n,r){this._storage.setCookie(e,t,n,r)},e.prototype.removeItem=function(e){this._storage.removeItem(e)},e}(),m={cn:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az21z1lz21z21z1bz1iz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz21z1ez18z1jz1gz49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz18z1jz1gz24z18z49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k"},y="/webid",g="4.2.6",v=4001,_=4e3,k=4002,b=4003,x=500,w=5005;function S(e){return e?(e^16*Math.random()>>e/4).toString(10):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,S)}function I(){return S().replace(/-/g,"").slice(0,19)}function E(e){return function(e,t){if("string"==typeof e&&"number"==typeof t){var n=[];t=t<=25?t:t%25;for(var r=String.fromCharCode(t+97),i=e.split(r),o=0;o<i.length;o++){var a=64^+(a=parseInt(i[o],t));a=String.fromCharCode(a),n.push(a)}return n.join("")}}(e,25)}function P(e){var t=document.createElement("a");return t.href=e,t}function T(e){e=(e=P(e).search).slice(1);var t={};return e.split("&").forEach((function(e){var n,r,i=e.split("=");i.length&&(n=i[0],r=i[1]);try{t[n]=decodeURIComponent(void 0===r?"":r)}catch(e){t[n]=r}})),t}function C(e){navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.addEventListener("pagehide",e,!1):window.addEventListener("beforeunload",e,!1)}function O(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}var A=function(){function e(e,t,n,r){this.config=e,this.cfg=t,this.storage=new h(!1),this.appInfo=e.app_key||e.app_id,this.isNoWebid=e.disable_webid,this.enable_ttwebid=e.enable_ttwebid||!1,this.domain=e.channel_domain||E(m[e.channel]),this.tokenReady=!1,this.checkExp=e.checkExp||!1,this.enableCookie=e.cross_subdomain||!1,this.expiresTime=e.cookie_expire||6048e5,this.fetchUrl=this.domain+y,this.hook=n,this.session=r,this.cookieDomain=e.cookie_domain||""}return e.prototype._getToken=function(){try{this.tokensKey=s(this.appInfo,!0),this.cookieKey="__tea_cookie_tokens_"+this.appInfo;var e=this.storage.getItem(this.tokensKey);if(this.enable_ttwebid)e?(n={user_unique_id:e.user_unique_id||"",timestamp:Date.now()},this.storage.setItem(this.tokensKey,n),this._setTtWid(e,!1)):this._setTtWid(e,!0);else if(this.enableCookie)if(r=this.storage.getCookie(this.cookieKey,this.cookieDomain)){var t=(r=JSON.parse(decodeURIComponent(r))).user_unique_id,n=r.web_id,r=r.timestamp;this._setToken(n,t,r)}else{if(!e)return void this._requestWebId();this.storage.setCookie(this.cookieKey,encodeURIComponent(JSON.stringify(e)),this.expiresTime,this.cookieDomain),this._checkLocal(e)}else{if(!e)return void this._requestWebId();this._checkLocal(e)}}catch(e){}},e.prototype._checkEnv=function(){if(-1===window.navigator.userAgent.indexOf("miniProgram"))return!1;var e=T(window.location.href);return!(!e||!e.Web_ID||(this._setTokenId(""+e.Web_ID),0))},e.prototype._checkLocal=function(e){var t=e.user_unique_id,n=e.web_id;e=e.timestamp,n&&t?this._setToken(n,t,e):this._requestWebId()},e.prototype._setToken=function(e,t,n){if(this.checkExp){if(7344e6<(n=Date.now()-parseFloat(n)))return void this._requestWebId();if(432e7<n)return void this._updateWebId(e)}this.cfg.envInfo.user.user_unique_id=t,this.cfg.envInfo.user.web_id=e,this.storage.setItem(this.tokensKey,{user_unique_id:t,web_id:e,timestamp:Date.now()}),this.tokenReady=!0},e.prototype._requestWebId=function(){this.isNoWebid?this._setTokenId(I()):this._fetchWebId(this.fetchUrl,!1)},e.prototype._updateWebId=function(e){e=this.domain+y+"/"+e+"/update",this._fetchWebId(e,!0)},e.prototype._fetchWebId=function(e,t){var n=this;u(e,3e3,{app_key:this.config.app_key,app_id:this.config.app_id,url:location.href,user_agent:window.navigator.userAgent,referer:document.referrer,user_unique_id:""},this.config.app_key,(function(e){e&&0===e.e?n._setTokenId(e.web_id):n.hook.emit("token-error")}),(function(){n.hook.emit("token-error")}),!0,!1,this.enable_ttwebid)},e.prototype._setTtWid=function(e,t){t||(t={web_id:e.web_id||"",timestamp:Date.now()},e=e.user_unique_id||"",this.cfg.envInfo.user.user_unique_id=this.cfg.envInfo.user.user_unique_id||e,this.storage.setCookie(this.cookieKey,encodeURIComponent(JSON.stringify(t)),108e5,this.cookieDomain)),this.tokenReady=!0,this.hook.emit("token-ready")},e.prototype._setTokenId=function(e){var t=this.cfg.envInfo.user.web_id||e;e={web_id:t,user_unique_id:this.cfg.envInfo.user.user_unique_id||t,timestamp:Date.now()},this.enableCookie&&this.storage.setCookie(this.cookieKey,encodeURIComponent(JSON.stringify(e)),this.expiresTime,this.cookieDomain),this.storage.setItem(this.tokensKey,e),this.cfg.envInfo.user.web_id=this.cfg.envInfo.user.web_id||t,this.cfg.envInfo.user.user_unique_id=this.cfg.envInfo.user.user_unique_id||t,this.tokenReady=!0,this.hook.emit("token-ready")},e.prototype._setUuid=function(e){try{var t,n=this.storage.getItem(this.tokensKey);e?(t=String(e),this.cfg.envInfo.user.user_unique_id=t,n&&n.user_unique_id?n.user_unique_id!==t&&(n.user_unique_id=t,this.hook.emit("uuid-change")):((n={}).user_unique_id=t,this.hook.emit("uuid-change")),n.timestamp=Date.now(),this.storage.setItem(this.tokensKey,n),this.session._resetSessionId()):this._clearUuid(n)}catch(e){}},e.prototype._clearUuid=function(e){this.enable_ttwebid||e&&e.web_id&&(this.cfg.envInfo.user.user_unique_id=e.web_id,e.user_unique_id=e.web_id,e.timestamp=Date.now(),this.storage.setItem(this.tokensKey,e))},e.prototype._setWebid=function(e){var t,n;this.enable_ttwebid||(n=!1,(t=this.storage.getItem(this.tokensKey))&&t.web_id?t.web_id!==e&&(t.user_unique_id=t.web_id===t.user_unique_id?e:t.user_unique_id,t.web_id=e,this.cfg.envInfo.user.user_unique_id&&this.cfg.envInfo.user.user_unique_id!==this.cfg.envInfo.user.web_id||(this.cfg.envInfo.user.user_unique_id=e,n=!0)):(t={}).web_id=e,t.timestamp=Date.now(),this.cfg.envInfo.user.web_id=e,this.storage.setItem(this.tokensKey,t),n&&this.hook.emit("uuid-change"))},e.prototype.isTokenReady=function(){return this.tokenReady},e.prototype._getTobId=function(e){u(this.domain+"/tobid",3e4,{app_id:this.config.app_id,user_unique_id:this.cfg.envInfo.user.user_unique_id,web_id:this.cfg.envInfo.user.web_id},this.config.app_key,(function(t){t&&0===t.e?e(t.tobid):e(null)}),(function(){e(null)}),!0,!1,this.enable_ttwebid)},e}(),L=function(){function e(e,t,n,r,i,o,a){this.collect=e,this.cfg=n,this.config=t,this._token=r,this.appInfo=t.app_id||t.app_key,this.debugMode=!!t.log,this.evtDataKey=s(this.appInfo,!1),r=t.channel_domain||E(m[t.channel]),this.reportUrl=t.report_url||r+"/list",this.storage=new h(!0),this.EventStorage=new h(!1),this.maxStorage=t.max_storage_num||-1,this.maxReport=t.max_report||10,this.reportTime=t.reportTime||30,this.timeout=t.timeout||1e5,this.closeStorage=!0,this.plugin=i,this.session=o,this.match=a,this.filter=t.filter,this.addListener()}return e.prototype.addListener=function(){var e=this;window.addEventListener("unload",(function(){e.report(!0)}),!1),C((function(){e.report(!0)})),document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&e.report(!0)}),!1)},e.prototype.setReady=function(){this.isReady=!0,this.report()},e.prototype.event=function(e){var t=this;void 0===e&&(e=[]);try{var n=a(e,this.storage.getItem(this.evtDataKey)||[]);this.storage.setItem(this.evtDataKey,n),this.reportTimer&&clearTimeout(this.reportTimer),n.length>=this.maxReport?this.report(!1):this.reportTimer=setTimeout((function(){t.report(!1),t.reportTimer=null}),this.reportTime)}catch(e){}},e.prototype.beconEvent=function(e){void 0===e&&(e=[]),e=this._mergeEvents(e),this._dealData(e,!0)},e.prototype.report=function(e){var t;void 0===e&&(e=!1),!this.collect.destroyInstance&&this._token.isTokenReady()&&this.isReady&&(t=this.storage.getItem(this.evtDataKey)||[],t=this._mergeEvents(t),this.storage.removeItem(this.evtDataKey),this._dealData(t,e))},e.prototype._mergeEvents=function(e){var t=this;if(!e.length)return e;var n=this.cfg.get();n.header.custom=JSON.stringify(n.header.custom);var r=[];return r.push(e),r.map((function(e){return{events:e.map((function(e){try{if(e.event&&"applog_trace"!==e.event){var n=i({},t.cfg.get("evtParams"),e.params);return delete n.__disable_storage__,i({},e,{params:JSON.stringify(n),session_id:t.session._getSessionId()})}return i({},e,{params:JSON.stringify(e.params)})}catch(n){return i({},e,{params:JSON.stringify(e.params)})}})),user:n.user,header:n.header,verbose:t.debugMode?1:void 0,local_time:parseInt(""+(new Date).getTime()/1e3)}}))},e.prototype._dealData=function(e,t){var n=this;if(!e.length)return e;e.map((function(e){var t=[];return t.push(e),t})).forEach((function(e){var r=I(),i=e;try{n.filter&&(i=n.filter(e))}catch(e){}n._send(r,i,t)}))},e.prototype._send=function(e,t,n){var r=this;function i(){r.isSending=!1}this.isSending=!0,u(this.reportUrl,this.timeout,t,this.config.app_key,(function(e,t){i(),e&&0!==e.e&&r.collect&&r.collect.tracer&&1!==r.cfg.staging&&r.collect.tracer.addErrorCount(t,"f_data",e.e,e)}),(function(e,t){i(),r.cfg.get("reportErrorCallback")(e,t),r.collect&&r.collect.tracer&&1!==r.cfg.staging&&r.collect.tracer.addErrorCount(e,"f_net",t)}),!1,n,this.config.enable_ttwebid,i)},e.prototype.checkStorageEvent=function(){},e}(),N=void 0,D=(n=(new Date).getTimezoneOffset(),parseInt(""+-n/60,10)),B=60*n,R=function(){function e(e,t,n){t=function(e,t,n){var r=window.screen.width,i=window.screen.height,o=window.navigator.appVersion,a=window.navigator.userAgent,s=window.navigator.language,l=document.referrer,u=l?P(l).hostname:"",c=T(window.location.href),d="",p="",f="",m=""+parseFloat(o);-1!==(g=a.indexOf("Opera"))&&(f="Opera",m=a.substring(g+6),-1!==(g=a.indexOf("Version"))&&(m=a.substring(g+8))),-1!==(g=a.indexOf("Edge"))?(f="Microsoft Edge",m=a.substring(g+5)):-1!==(g=a.indexOf("MSIE"))?(f="Microsoft Internet Explorer",m=a.substring(g+5)):-1!==(g=a.indexOf("Lark"))?(f="Lark",m=a.substring(g+5,g+11)):-1!==a.indexOf("Chrome")?-1!==(g=a.indexOf("MicroMessenger"))?(f="weixin",m=a.substring(g+15,g+20)):-1!==(g=a.indexOf("MQQBrowser"))?(f="qqbrowser",m=a.substring(g+11,g+15)):-1!==(g=a.indexOf("360"))?(f="360browser",m=a.substring(a.indexOf("Chrome")+7)):-1!==a.indexOf("baidubrowser")||-1!==a.indexOf("BIDUBrowser")?(-1!==a.indexOf("baidubrowser")?(g=a.indexOf("baidubrowser"),m=a.substring(g+13,g+16)):-1!==a.indexOf("BIDUBrowser")&&(g=a.indexOf("BIDUBrowser"),m=a.substring(g+12,g+15)),f="baidubrowser"):-1!==(g=a.indexOf("xiaomi"))?m=-1!==a.indexOf("openlanguagexiaomi")?(f="openlanguage xiaomi",a.substring(g+7,g+13)):(f="xiaomi",a.substring(g-7,g-1)):-1!==(g=a.indexOf("TTWebView"))?(f="TTWebView",m=a.substring(g+10,g+23)):-1!==(g=a.indexOf("Chrome"))&&(f="Chrome",m=a.substring(g+7)):-1!==a.indexOf("Safari")?-1!==(g=a.indexOf("QQ"))?(f="qqbrowser",m=a.substring(g+10,g+16)):-1!==(g=a.indexOf("Safari"))&&(f="Safari",m=a.substring(g+7),-1!==(g=a.indexOf("Version"))&&(m=a.substring(g+8))):-1!==(g=a.indexOf("Firefox"))?(f="Firefox",m=a.substring(g+8)):-1!==(g=a.indexOf("MicroMessenger"))?(f="weixin",m=a.substring(g+15,g+20)):-1!==(g=a.indexOf("QQ"))&&(f="qqbrowser",m=a.substring(g+3,g+8)),-1!==(g=m.indexOf(";"))&&(m=m.substring(0,g)),-1!==(g=m.indexOf(" "))&&(m=m.substring(0,g)),-1!==(g=m.indexOf(")"))&&(m=m.substring(0,g));for(var y,g=/Mobile|htc|mini|Android|iP(ad|od|hone)/.test(o)?"wap":"web",v=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0|Windows NT 10.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Android",r:/Android/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/}],_=0;_<v.length;_++){var k=v[_];if(k.r.test(a)){d=k.s;break}}function b(e,t){return(t=e.exec(t))&&t[1]?t[1]:""}switch(/Windows/.test(d)&&(p=b(/Windows (.*)/,d),d="windows"),d){case"Mac OS X":y=a,p=(y=RegExp("(?:^|[^A-Z0-9-_]|[^A-Z0-9-]_|sprd-)(?:Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?)","i").exec(y))?y.slice(1)[0]:"",d="mac";break;case"Android":p=function(e){return b(/Android ([\.\_\d]+)/,e)||b(/Android\/([\.\_\d]+)/,e)}(a),d="android";break;case"iOS":p=(p=/OS (\d+)_(\d+)_?(\d+)?/.exec(o))?p[1]+"."+p[2]+"."+(0|p[3]):"",d="ios"}return n=function(e,t,n,r){var i=new h(!1),o=new h(!1,"session"),a=e?"_tea_utm_cache_"+e:"_tea_utm_cache",s=e?"_$utm_from_url_"+e:"_$utm_from_url",l={},u=["tr_shareuser","tr_admaster","tr_param1","tr_param2","tr_param3","tr_param4","$utm_from_url"],c={creative_id:Number(t.creative_id),ad_id:Number(t.ad_id),campaign_id:Number(t.campaign_id),utm_source:t.utm_source,utm_medium:t.utm_medium,utm_campaign:t.utm_campaign,utm_term:t.utm_term,utm_content:t.utm_content,tr_shareuser:t.tr_shareuser,tr_admaster:t.tr_admaster,tr_param1:t.tr_param1,tr_param2:t.tr_param2,tr_param3:t.tr_param3,tr_param4:t.tr_param4},d=r;try{var p,f,m=!1;for(p in c)c[p]&&(-1!==u.indexOf(p)?(l.hasOwnProperty("tracer_data")||(l.tracer_data={}),l.tracer_data[p]=c[p]):l[p]=c[p],m=!0);m?(o.setItem(s,"1"),i.setCookie(a,JSON.stringify(l),d,n)):((f=i.getCookie(a,n))&&(l=JSON.parse(f)),i.setCookie(a,f,d,n)),o.getItem(s)&&(l.hasOwnProperty("tracer_data")||(l.tracer_data={}),l.tracer_data.$utm_from_url=1)}catch(e){return c}return l}(e,c,t,n),{browser:f,browser_version:m,platform:g,os_name:d,os_version:p,userAgent:a,screen_width:r,screen_height:i,device_model:function(e){var t,n,r="";try{"android"===e?navigator.userAgent.split(";").forEach((function(e){-1<e.indexOf("Build/")&&(r=e.slice(0,e.indexOf("Build/")))})):"ios"!==e&&"mac"!==e&&"windows"!==e||(n=(t=navigator.userAgent.replace("Mozilla/5.0 (","")).indexOf(";"),r=t.slice(0,n))}catch(e){}return r.trim()}(d),language:s,referrer:l,referrer_host:u,creative_id:n.creative_id,ad_id:n.ad_id,campaign_id:n.campaign_id,utm_source:n.utm_source,utm_medium:n.utm_medium,utm_campaign:n.utm_campaign,utm_term:n.utm_term,utm_content:n.utm_content,tracer_data:n.tracer_data}}(e,(this.initConfig=t).cookie_domain||"",t.cookie_expire||6048e5),this.configKey=function(e){return"__tea_cache_config_"+e}(""+e),this.sessionStorage=new h(!1,"session"),this.localStorage=new h(!1,"local"),n&&(this.storage=1===n?this.sessionStorage:this.localStorage),this.envInfo={user:{user_unique_id:N,user_type:N,user_id:N,user_is_auth:N,user_is_login:N,device_id:N,web_id:N,ip_addr_id:N,ssid:N},header:{app_id:N,app_name:N,app_install_id:N,install_id:N,app_package:N,app_channel:N,app_version:N,os_name:t.os_name,os_version:t.os_version,device_model:t.device_model,ab_client:N,ab_version:N,ab_sdk_version:N,traffic_type:N,client_ip:N,device_brand:N,os_api:N,access:N,language:t.language,region:N,app_language:N,app_region:N,creative_id:t.creative_id,ad_id:t.ad_id,campaign_id:t.campaign_id,log_type:N,rnd:N,platform:t.platform,sdk_version:g,sdk_lib:"js",province:N,city:N,timezone:D,tz_offset:B,tz_name:N,sim_region:N,carrier:N,resolution:t.screen_width+"x"+t.screen_height,browser:t.browser,browser_version:t.browser_version,referrer:t.referrer,referrer_host:t.referrer_host,width:t.screen_width,height:t.screen_height,screen_width:t.screen_width,screen_height:t.screen_height,utm_term:t.utm_term,utm_content:t.utm_content,utm_source:t.utm_source,utm_medium:t.utm_medium,utm_campaign:t.utm_campaign,tracer_data:JSON.stringify(t.tracer_data),custom:{}}},this.evtParams={},this.reportErrorCallback=function(){}}return e.prototype.set=function(e,t){var n=this;if(null==t&&(this.delete(e),t=void 0),"evtParams"===e||"_staging_flag"===e){var r="evtParams"===e?t:{_staging_flag:Number(t)},o=i({},r);Object.keys(o).forEach((function(e){n.evtParams[e]=o[e]}))}else if("reportErrorCallback"===e&&"function"==typeof t)this.reportErrorCallback=t;else{var a="";if(-1<e.indexOf(".")&&(a=(r=e.split("."))[0],e=r[1]),"user_unique_id"===e){if(!t)return;if(-1!==["0","Null","None","","undefined"].indexOf(t))return}if("os_version"===e&&(e=""+t),"web_id"===e){if(!t)return;(!this.envInfo.user.user_unique_id||this.envInfo.user.user_unique_id&&this.envInfo.user.user_unique_id===this.envInfo.user.web_id)&&(this.envInfo.user.user_unique_id=t)}a?"user"===a||"header"===a?this.envInfo[a][e]=t:this.envInfo.header.custom[e]=t:this.envInfo.user.hasOwnProperty(e)?-1<["user_type","ip_addr_id"].indexOf(e)?this.envInfo.user[e]=t&&Number(t):-1<["user_id","web_id","user_unique_id","ssid"].indexOf(e)?this.envInfo.user[e]=t&&String(t):-1<["user_is_auth","user_is_login"].indexOf(e)?this.envInfo.user[e]=Boolean(t):"device_id"===e&&(this.envInfo.user[e]=t):this.envInfo.header.hasOwnProperty(e)?this.envInfo.header[e]=t:this.envInfo.header.custom[e]=t}},e.prototype.get=function(e){try{return e?"evtParams"===e?this.evtParams:"reportErrorCallback"===e?this[e]:JSON.parse(JSON.stringify(this.envInfo[e])):JSON.parse(JSON.stringify(this.envInfo))}catch(e){}},e.prototype.setStore=function(e){try{var t=this.storage.getItem(this.configKey);Object.keys(e).length&&(t=Object.assign(e,t),this.storage.setItem(this.configKey,t))}catch(e){}},e.prototype.getStore=function(){try{var e=this.storage.getItem(this.configKey);return Object.keys(e).length?e:null}catch(e){return null}},e.prototype.delete=function(e){try{var t=this.storage.getItem(this.configKey);t&&t.hasOwnProperty(e)&&(delete t[e],this.storage.setItem(this.configKey,t))}catch(e){}},e}(),j=function(){function e(e,t){this.isLog=t||!1,this.name=e||""}var t=e.prototype;return t.info=function(e){this.isLog},t.warn=function(e){this.isLog},t.error=function(e){this.isLog},t.throw=function(e){throw this.error(this.name),new Error(e)},e}(),V=function(){function e(){this._hooks={}}return e.prototype.on=function(e,t){e&&t&&"function"==typeof t&&(this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t))},e.prototype.once=function(e,t){var n=this;e&&t&&"function"==typeof t&&this.on(e,(function r(i){t(i),n.off(e,r)}))},e.prototype.off=function(e,t){e&&this._hooks[e]&&this._hooks[e].length&&(t?-1!==(t=this._hooks[e].indexOf(t))&&this._hooks[e].splice(t,1):this._hooks[e]=[])},e.prototype.emit=function(e,t){e&&this._hooks[e]&&this._hooks[e].length&&a(this._hooks[e]).forEach((function(e){try{e(t)}catch(e){}}))},e}(),M=function(){function e(e,t){this.storage=new h(!1,"session"),this.sessionKey=function(e){return"__tea_session_id_"+e}(e),this.expireTime=t.expireTime||18e5,this.disableSession=t.disable_session,this.disableSession||this._setSessionId()}return e.prototype._updateSessionId=function(){var e,t=this.storage.getItem(this.sessionKey);t&&t.sessionId&&(e=t.timestamp,Date.now()-e>this.expireTime?t={sessionId:O(),timestamp:Date.now()}:t.timestamp=Date.now(),this.storage.setItem(this.sessionKey,t),this._resetExpTime())},e.prototype._setSessionId=function(){var e=this,t=this.storage.getItem(this.sessionKey);t&&t.sessionId?t.timestamp=Date.now():t={sessionId:O(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,t),this.sessionExp=setInterval((function(){e._checkEXp()}),this.expireTime)},e.prototype._getSessionId=function(){var e=this.storage.getItem(this.sessionKey);return!this.disableSession&&e&&e.sessionId?e.sessionId:""},e.prototype._resetExpTime=function(){var e=this;this.sessionExp&&(clearInterval(this.sessionExp),this.sessionExp=setInterval((function(){e._checkEXp()}),this.expireTime))},e.prototype._resetSessionId=function(){var e={sessionId:O(),timestamp:Date.now()};this.storage.setItem(this.sessionKey,e)},e.prototype._checkEXp=function(){var e=this.storage.getItem(this.sessionKey);e&&e.sessionId&&Date.now()-e.timestamp+30>=this.expireTime&&(e={sessionId:O(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,e))},e}(),F={pv:["predefine_pageview"],sdk:["_be_active","predefine_page_alive","predefine_page_close","__profile_set","__profile_set_once","__profile_increment","__profile_unset","__profile_append"],autotrack:["bav2b_click","bav2b_page","bav2b_beat","bav2b_page_statistics","__bav_click","__bav_page","__bav_beat","__bav_page_statistics"]},z=function(){function e(e,t,n,r){this.count={pv:0,sdk:0,autotrack:0,log:0},this.limit={pv:1,sdk:10,autotrack:10,log:3},this.errorCode={f_net:0,f_data:0},this.errorInfo={pv:{f_net:0,f_data:0},sdk:{f_net:0,f_data:0},autotrack:{f_net:0,f_data:0},log:{f_net:0,f_data:0}},this.collect=e,this.disable_tracer=t.disable_tracer||t.channel_domain,this.ready=!(!t.app_id||this.disable_tracer),this.appid=t.app_id,this.process=n,this.event=r,r=t.channel_domain||E(m[t.channel]),this.reportUrl=t.report_url||r+"/list",this.listener()}return e.prototype.addCount=function(e){try{if(!this.ready)return;if(this.count[e]++,this.count[e]>=this.limit[e]){var t,n=a(n=[],this.processTracer(this.count[e],e,"net"));for(t in this.errorInfo[e])this.errorInfo[t]&&(n=a(n,this.processTracer(this.errorInfo[e][t],e,t)));n.length&&this.sendTracer(n,!0,e,!1)}}catch(e){}},e.prototype.addErrorCount=function(e,t,n,r){var i,o=this;try{if(!this.ready)return;e&&e.length&&(i=e[0].events)&&i.length&&("f_data"===t?(r&&r.hasOwnProperty("sc")?this.errorInfo.log.f_data=i.length-r.sc:this.errorInfo.log.f_data=i.length,this.errorCode.f_data=n):i.forEach((function(e){var t,r="log";for(t in F)if(-1!==F[t].indexOf(e.event)){r=t;break}o.errorInfo[r].f_net++,o.errorCode.f_net=n})))}catch(e){}},e.prototype.clearCount=function(e){try{e?(this.count[e]=0,this.errorInfo[e]={f_net:0,f_data:0}):(this.count={pv:0,sdk:0,autotrack:0,log:0},this.errorInfo={pv:{f_net:0,f_data:0},sdk:{f_net:0,f_data:0},autotrack:{f_net:0,f_data:0},log:{f_net:0,f_data:0}})}catch(e){}},e.prototype.sendTracer=function(e,t,n,r){try{if(!this.ready)return;if(this.collect.staging)return;var i=this.event._mergeEvents(e);r&&window.navigator.sendBeacon?window.navigator.sendBeacon(this.reportUrl,JSON.stringify(i)):u(this.reportUrl,3e5,i,""),t?this.clearCount(n):this.clearCount()}catch(e){}},e.prototype.processTracer=function(e,t,n){try{var r={count:e,state:n,key:t,params_for_special:"applog_trace",aid:this.appid,platform:"web",_staging_flag:1,sdk_version:g};"f_net"!==n&&"f_data"!==n||(r.errorCode=this.errorCode[n]);var i=[];if(i.push(this.process("applog_trace",r,!0)),i&&i.length)return delete i[0].is_bav,i}catch(e){}},e.prototype.listener=function(){var e=this;this.ready&&(document.addEventListener("visibilitychange",(function(){e.leavePage()})),C((function(){e.leavePage()})))},e.prototype.leavePage=function(){if(this.ready)try{var e,t=[];for(e in this.count)if(this.count[e]){var n,r=this.errorInfo[e];for(n in t=a(t,this.processTracer(this.count[e],e,"net")),r)r[n]&&(t=a(t,this.processTracer(r[n],e,n)))}t&&t.length&&this.sendTracer(t,!1,"",!0)}catch(t){}},e}(),U=function(){function e(e){this.logger=e}var t=e.prototype;return t.bridgeInject=function(){try{return AppLogBridge?(this.logger.info("AppLogBridge is injected"),!0):(this.logger.info("AppLogBridge is not inject"),!1)}catch(e){return this.logger.info("AppLogBridge is not inject"),!1}},t.hasStarted=function(e){var t=this;try{this.bridgeInject()?AppLogBridge.hasStarted((function(n){t.logger.info("AppLogBridge is started? : "+n),e(n)})):e(0)}catch(t){this.logger.info("AppLogBridge, error:"+JSON.stringify(t.stack)),e(0)}},t.setUserUniqueId=function(e){try{AppLogBridge.setUserUniqueId(e)}catch(e){this.logger.error("setUserUniqueId error")}},t.addHeaderInfo=function(e,t){try{AppLogBridge.addHeaderInfo(e,t)}catch(e){this.logger.error("addHeaderInfo error")}},t.setHeaderInfo=function(e){try{AppLogBridge.setHeaderInfo(JSON.stringify(e))}catch(e){this.logger.error("setHeaderInfo error")}},t.removeHeaderInfo=function(e){try{AppLogBridge.removeHeaderInfo(e)}catch(e){this.logger.error("removeHeaderInfo error")}},t.onEventV3=function(e,t){try{AppLogBridge.onEventV3(e,t)}catch(e){this.logger.error("onEventV3 error")}},t.profileSet=function(e){try{AppLogBridge.profileSet(e)}catch(e){this.logger.error("profileSet error")}},t.profileSetOnce=function(e){try{AppLogBridge.profileSetOnce(e)}catch(e){this.logger.error("profileSetOnce error")}},t.profileIncrement=function(e){try{AppLogBridge.profileIncrement(e)}catch(e){this.logger.error("profileIncrement error")}},t.profileUnset=function(e){try{AppLogBridge.profileUnset(e)}catch(e){this.logger.error("profileUnset error")}},t.profileAppend=function(e){try{AppLogBridge.profileAppend(e)}catch(e){this.logger.error("profileAppend error")}},e}();function H(e,t,n){void 0===t&&(t=""),void 0===n&&(n={});var r=e;return"/"===(r=r.split("#")[0].split("?")[0])[e.length-1]&&(r=r.substr(0,e.length-1)),r="/"===t[0]?r.replace(/(https?:\/\/[\w-]+(\.[\w-]+){1,}(:[0-9]{1,5})?)(\/[.\w-]+)*\/?$/,"$1"+t):r.replace(/(https?:\/\/[\w-]+(\.[\w-]+){1,}(:[0-9]{1,5})?(\/[.\w-]+)*?)(\/[.\w-]+)?\/?$/,"$1/"+t),t=Object.keys(n).map((function(e){return e+"="+n[e]})).join("&"),0<t.length?r+"?"+t:r}var Z,q=function(){function e(e){this.autotrack=!1,this.spa=!1,(e.spa||e.autotrack)&&(this.autotrack=!!e.autotrack,this.spa=e.spa,this.fncArray=new Map,this.setLocation(),this.hack(),this.storage=new h(!0),this.storage.setItem("__tea_cache_refer_key",location.href),this.listener())}return e.prototype.hack=function(){var e=this,t=window.history.pushState;history.pushState=function(n){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];"function"==typeof history.onpushstate&&history.onpushstate({state:n});var o=t.call.apply(t,a([history,n],r));return n=e.getPopStateChangeEventData(),e.lastLocation=H(location.href,r[1]),e.storage.setItem("__tea_cache_refer_key",e.lastLocation),e.sendPv(n),o};var n=history.replaceState;history.replaceState=function(t){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];"function"==typeof history.onreplacestate&&history.onreplacestate({state:t});var o=n.call.apply(n,a([history,t],r));return t=e.getPopStateChangeEventData(),e.lastLocation=H(location.href,r[1]),e.storage.setItem("__tea_cache_refer_key",e.lastLocation),e.sendPv(t),o}},e.prototype.setLocation=function(){"undefined"!=typeof window&&(this.lastLocation=window.location.href)},e.prototype.add=function(e,t){this.fncArray.get(e)||this.fncArray.set(e,t)},e.prototype.init=function(e,t){this.add(e,t),this.fncArray.get(e)(this.getPopStateChangeEventData())},e.prototype.listener=function(){var e=this,t=null;window.addEventListener("hashchange",(function(n){e.lastLocation!==window.location.href&&clearTimeout(t)})),window.addEventListener("popstate",(function(n){e.lastLocation!==window.location.href&&(t=setTimeout((function(){e.lastLocation=window.location.href;var t=e.getPopStateChangeEventData();e.sendPv(t)}),10))}))},e.prototype.getPopStateChangeEventData=function(){var e=this.pageConfig();return e.is_back=0,e},e.prototype.pageConfig=function(){var e="";try{e=document.referrer||this.storage.getItem("__tea_cache_refer_key")||""}catch(e){}return{is_html:1,url:location.href,referrer:e,page_key:location.href,refer_page_key:e,page_manual_key:"",refer_page_manual_key:""}},e.prototype.sendPv=function(e){this.fncArray.forEach((function(t){t(e)}))},e}(),W=a(["init","config","send","start","predefinePageView","beconEvent","on","resetStayDuration","autoInitializationRangers"],["profileSet","profileSetOnce","profileIncrement","profileUnset","profileAppend","getVar","getAbSdkVersion","onAbSdkVersionChange","offAbSdkVersionChange","getABconfig","openOverlayer","closeOverlayer","getAllVars","setExternalAbVersion","getToken","destroy"]),G=(Z=+Date.now()+Number((""+Math.random()).slice(2,8)),function(){return Z+=1}),J=function(){function e(e){var t=this;this.is_first_time=!1,this.Native=!1,this.staging=!1,this.sdkload=!1,this.initPv=!0,this.predefinePageView=function(e){var n;void 0===e&&(e={}),t.sdkload?(n={title:document.title||location.pathname,url:location.href,url_path:location.pathname,time:Date.now(),referrer:window.document.referrer,$is_first_time:""+t.is_first_time},e=i({},n,e),t.event("predefine_pageview",e,"pv")):t.logger.warn("sdk init error, api can not call")},this.getToken=function(e,t){},this.name=e,this._isSend=!1,this.hook=new V,this.storage=new h(!1)}return e.prototype.autoInitializationRangers=function(e){e&&e.app_id&&(this.autoBase=!0,function(){var t=e.app_id,n=e.channel,r=e.onTokenReady,i=E(m[n])+y,o=new h(!1),a=s(t,!0);(n=o.getItem(a))&&n.web_id?r(n.web_id):u(i,3e3,{app_key:"",app_id:t,url:location.href,user_agent:window.navigator.userAgent,referer:document.referrer},"",(function(e){e&&0===e.e?(r(e.web_id),e={web_id:e.web_id,ssid:e.ssid,user_unique_id:e.web_id,timestamp:Date.now()},o.setItem(a,e)):r("")}),(function(){r("")}),!0)}())},e.prototype.init=function(e){var t,n,r=this;this.autoBase||this._inited||(this._inited=!0,e&&"object"==typeof e&&(this.logger=new j(this.name,e.log),t=e.app_id,(n=e.app_key)||t?t&&"number"!=typeof t?this.logger.warn("app_id param is error, must be number, please check !!!"):n&&"string"!=typeof n?this.logger.warn("app_key is empty, please check!"):(e.channel_domain||-1!==["cn","sg","va"].indexOf(e.channel)||(this.logger.warn("channel must be `cn`, `sg`,`va` !!!"),e.channel="cn"),this.Native=e.Native,this._initConfig=e,this.appBridge=new U(this.logger),this.storage.getItem("__tea_cache_first_"+t)?this.is_first_time=!1:(this.is_first_time=!0,this.storage.setItem("__tea_cache_first_"+t,"1")),this.sdkload=!0,e.Native&&this.appBridge.bridgeInject()?this.appBridge.hasStarted((function(t){t||r._init(e)})):this._init(e)):this.logger.warn("no app_key or app_id please check !!!")))},e.prototype._init=function(e){var t=this;this.autoPV=!0,this.sdkload=!0,this._initConfig=e,this._config=new R(e.app_id,e,e.configPersist||0),this.configPersist=e.configPersist||0,this._config.set("app_id",e.app_id),this.hook.on("token-ready",(function(){!t.callbackSend||t._isSend?t._event&&t._event.report():t.start()})),this._session=new M(e.app_key||e.app_id,e),this._token=new A(e,this._config,this.hook,this._session),this._event=new L(this,e,this._config,this._token,this.plugin,this._session,this.match),this.tracer=new z(this,e,this._processEvent.bind(this),this._event),this.spaView=new q(e),this._token._getToken()},e.prototype.config=function(e){var t=this;this.sdkload?this.Native&&this.appBridge.bridgeInject()?this.appBridge.hasStarted((function(n){if(n)for(var r in e)"user_unique_id"===r?t.appBridge.setUserUniqueId(e[r]):e[r]?t.appBridge.addHeaderInfo(r,e[r]):t.appBridge.removeHeaderInfo(r);else t._setConfig(e)})):this._setConfig(e):this.logger.warn("sdk init error, api can not call")},e.prototype._setConfig=function(e){if(!this.autoBase)if(this._inited)if(e&&"object"==typeof e){e.disable_auto_pv&&(this.autoPV=!1,delete e.disable_auto_pv),e._staging_flag&&1===e._staging_flag&&(this.staging=!0);var t,n,r=i({},e);for(n in this.configPersist&&((t=this._config.getStore())&&(r=Object.assign(t,e)),this._config.setStore(e)),r)"user_unique_id"!==n?"web_id"!==n?this._config.set(n,r[n]):this._token._setWebid(r[n]):this._token._setUuid(r[n])}else this.logger.warn("config params is error, please check");else this.logger.warn("config must be use after function init")},e.prototype.on=function(e,t){try{e&&"string"==typeof e&&"function"==typeof t&&this.hook.on(e,t)}catch(e){}},e.prototype.send=function(){this.start()},e.prototype.start=function(){var e=this;this.sdkload?this.Native&&this.appBridge.bridgeInject()?this.appBridge.hasStarted((function(t){t?(e.logger.info("jsbrige\u5f00\u542f\uff0c\u4e8b\u4ef6\u5c06\u7531\u539f\u751f sdk\u8fdb\u884c\u4e0a\u62a5"),e.predefinePageView()):e._start()})):this._start():this.logger.warn("sdk init error, api can not call")},e.prototype._start=function(){var e=this;if(!this.autoBase)if(this._token.isTokenReady())if(this._isSend)this.logger.warn("method start can not be use over one time , please check !!");else{this._isSend=!0,this.logger.info("userInfo:"+JSON.stringify(this._config.get("user"))),this.logger.info("sdk is ready,version is 4.2.6. you can report now !!!"),this._event.setReady(),this.autoPV&&(this.predefinePageView(),this.initPv=!1),this._initConfig.spa&&this.spaView.add("spa",this.predefinePageView),this.hook.on("uuid-change",(function(){e.initPv||e.predefinePageView()}));try{(window.opener||window.parent).postMessage("[tea-sdk]ready","*")}catch(e){}}else this.callbackSend=!0},e.prototype.beconEvent=function(e,t,n){var r=this;void 0===t&&(t={});var i=n||"log";(n=[]).push([e,t]),n=n.map((function(e){return r._processEvent(e[0],e[1])})),this._dealEvent(!0,n,i),this._addTracerCount(i)},e.prototype.event=function(){for(var e,t,n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];this.sdkload?(e=o(r,1)[0],t=[],"Array"!==Object.prototype.toString.call(e).slice(8,-1)?t[0]=r:t=r,t=t.map((function(e){return n._processEvent(e[0],e[1])})),this._dealEvent(!1,t,"log"),this._addTracerCount("log")):this.logger.warn("sdk init error, api can not call")},e.prototype._dealEvent=function(e,t,n){var r=this;this.sdkload?this.Native&&this.appBridge.bridgeInject()?"autotrack"!==n&&"sdk"!==n&&this.appBridge.hasStarted((function(n){n?t&&t.length&&t.forEach((function(e){var t=e.event;e=e.params,r.appBridge.onEventV3(t,JSON.stringify(e))})):r._commonEvent(e,t)})):this._commonEvent(e,t):this.logger.warn("sdk init error, api can not call")},e.prototype._commonEvent=function(e,t){e?this._event.beconEvent(t):this._event.event(t),this._session._updateSessionId()},e.prototype._addTracerCount=function(e){this.sdkload?this.Native||this.staging||this.tracer.addCount(e):this.logger.warn("sdk init error, api can not call")},e.prototype._processEvent=function(e,t){try{var n=e;/^event\./.test(e)&&(n=e.slice(6));var r,i=t;return"object"!=typeof i&&(i={}),i.profile?delete i.profile:i.event_index=G(),i.local_ms?(r=i.local_ms,delete i.local_ms):r=+new Date,{event:n,params:i,local_time_ms:r,is_bav:this._initConfig.autotrack?1:0}}catch(n){return{event:e,params:t}}},e.prototype.resetStayDuration=function(e,t,n){},e.prototype.profileSet=function(e){},e.prototype.profileSetOnce=function(e){},e.prototype.profileIncrement=function(e){},e.prototype.profileUnset=function(e){},e.prototype.profileAppend=function(e){},e.prototype.setExternalAbVersion=function(e){},e.prototype.getVar=function(e,t,n){},e.prototype.getABconfig=function(e,t){},e.prototype.getAbSdkVersion=function(e){},e.prototype.onAbSdkVersionChange=function(e){},e.prototype.offAbSdkVersionChange=function(e){},e.prototype.openOverlayer=function(){},e.prototype.closeOverlayer=function(){},e.prototype.getAllVars=function(e){},e.prototype.destroy=function(){this.destroyInstance||(this.destroyInstance=!0,this.hook.off("token-ready"))},e}();t.default=function(e){var t=this;return r(this,"_exportCollect",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t._isProcess?t._executeCmd.apply(t,n):(t.cmdQueue.push(n),t._processCmd())})),r(this,"_processCmd",(function(){var e,n;0!==t.cmdQueue.length&&(-1===(e=(n=function(e,t,n){var r=-1;return e.forEach((function(e,i){(void 0!==n?e[n]:e)===t&&(r=i)})),r})(t.cmdQueue,"autoInitializationRangers","0"))&&(e=n(t.cmdQueue,"init","0")),-1!==e&&(t._isProcess=!0,t._executeCmd.apply(t,t.cmdQueue[e]),t.cmdQueue.forEach((function(n,r){r!==e&&t._executeCmd.apply(t,n)})),t.cmdQueue=[]))})),r(this,"_executeCmd",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i,o=n[0];-1<W.indexOf(o)?(i=t.colloctor)[o].apply(i,n.slice(1)):(i=t.colloctor).event.apply(i,n)})),this.cmdQueue=[],this.name=e,this.colloctor=new J(e),this._isProcess=!1,this._alias={},this._processCmd(),W.forEach((function(e){t._exportCollect[e]=t._exportCollect.bind(t,e)})),this._exportCollect}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){try{return"undefined"!=typeof localStorage&&"setItem"in window.localStorage&&!!window.localStorage.setItem}catch(e){return!1}}()&&!function(){var e="_localstorage_support_test";try{return window.localStorage.setItem(e,!0),window.localStorage.removeItem(e),!1}catch(e){return!0}}()?window.localStorage:{},i="__xgplayerlogkey",o={set:function(e){try{var t=this.get();t.push(e),r.setItem(i,JSON.stringify(t))}catch(e){}},get:function(){try{var e=r.getItem(i);return e?JSON.parse(e):[]}catch(e){return[]}},remove:function(){try{r.removeItem(i)}catch(e){}},clear:function(){try{r.clear()}catch(e){}}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=[{key:"QQBrowser",reg:/(qqbrowser)\/([\d.]+)/},{key:"QIHU360EE",reg:/qihu 360ee/},{key:"QIHU360SE",reg:/qihu 360se/},{key:"2345Explorer",reg:/(2345explorer)\/([\d.]+)/},{key:"Sogou",reg:/(metasr)/},{key:"Wexin",reg:/(micromessenger)\/([\d.]+)/},{key:"Openlanguage",reg:/(openlanguage)\/([\d.]+)/},{key:"NewsArticle",reg:/(newsarticle)\/([\d.]+)/},{key:"VideoArticle",reg:/(videoarticle)\/([\d.]+)/},{key:"Hotsoon",reg:/(live_stream)_([\d.]+)/},{key:"Aweme",reg:/(aweme)_([\d.]+)/},{key:"Lark",reg:/(lark)\/([\d.]+)/},{key:"PlayStation",reg:/(playstation)/},{key:"BingPreview",reg:/(bingpreview)\/([\d.]+)/},{key:"Baiduspider",reg:/(baiduspider-render)\/([\d.]+)/},{key:"YandexBot",reg:/(yandexbot)\/([\d.]+)/},{key:"Chrome",reg:/(chrome)\/([\d.]+)/},{key:"Safari",reg:/(version)\/([\d.]+)\s*(safari)/}],i=[{key:"Trident",reg:/(rv:)([\d.]+)/},{key:"Trident",reg:/(msie)\s*([\d.]+)/}],o=["Baiduspider","YandexBot"],a="undefined"!=typeof navigator&&function(e){var t=(t=0<arguments.length&&void 0!==e?e:"").toLocaleLowerCase(),n=/(iphone)/.test(t)||/(ipad)/.test(t),a=/(android)/.test(t);e=/(windows phone)/.test(t),a={isIOS:n,isAndroid:a,isMobile:e=n||a||e,isPC:!e,isPad:/(ipad)/.test(t)},e=function(){var e=document.createElement("video"),t={isSupport:!1,mime:""};return"function"==typeof e.canPlayType?["avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","avc1.42E01E","mp4v.20.8","avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","mp4v.20.8, mp4a.40.2","mp4v.20.240, mp4a.40.2"].map((function(n){"probably"===e.canPlayType('video/mp4; codecs="'.concat(n,'"'))&&(t.isSupport=!0,t.mime+="||".concat(n))})):e=null,t}(),a.isSupportMP4=e.isSupport,a.mime=e.mime;var s,l="",u=0,c=r;/trident/.test(t)&&(c=i);for(var d=0;d<c.length;d++)if(s=c[d].reg.exec(t)){l=c[d].key,u=2<s.length?s[2]:"";break}return l?(a["is".concat(l)]=!0,a.name=l,a.appVersion=u):function(){var e=navigator.mimeTypes;if(e){for(var t=0;t<e.length;t++){if(e[t].type&&-1<e[t].type.indexOf("360"))return!0;if(e[t].type&&-1<e[t].type.indexOf("application/vnd.chromium.remoting-viewer"))return!0;if(e[t].description&&-1<e[t].description.indexOf("360"))return!0}return!1}}()&&(a.name="360EE"),a.name&&"Trident"!==a.name&&/(trident)/.exec(t)&&(a.name=a.name?"".concat(a.name,"_Trident"):"Trident"),a.isSpider=function(e,t){var n=!1;return o.map((function(t){t===e&&(n=!0)})),/(\+http|; http|\(http):\/\/([\w.]+\/?)\S*/.test(t)&&(n=!0),n}(a.name),a}(navigator.userAgent);t.default=a,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o={range:"0-1048576",timer:6e4,timeout:15e3};n=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.keys(o).map((function(e){void 0!==t[e]&&null!==t[e]||(t[e]=o[e])})),this.options=t,this._headers={},this.intervalId=null,this.ishangUp=!1,this._data={contentLength:0,statusText:"",status:-1,speed:0,costTime:0,connectTime:0,contentType:""},this.url=[]}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(e,[{key:"setData",value:function(e,t){var n,i=this;Object.keys(e).map((function(t){"headers"!==t&&(i._data[t]=e[t])})),e.headers&&0<Object.keys(e.headers).length&&(this._headers=(0,r.transformHeader)(e.headers),e.headers["content-type"]&&(this._data.contentType=e.headers["content-type"]),(n=(e.headers["content-range"]||"").split("/"))&&1<n.length&&(this._data.contentLength=parseInt(n[1])))}},{key:"trigger",value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"start",i=this.options;this.url=e,!this.url||"start"!==n&&(this.ishangUp||this.intervalId)?(0,r.log)("task>>cant`t trigger url",this.ishangUp,this.intervalId):((0,r.log)("task>>trigger url ",e),this.ishangUp=!0,this.intervalId&&this.clear(),this.intervalId=setTimeout((function(){t.clear()}),"start"===n?500:i.timer),(0,r.getXhr)(this.url,{range:"start"===n?"0-1024":i.range,timeout:i.timeout}).then((function(e){(0,r.log)("getXhr>>check result ",e),t.setData(e||{}),t.ishangUp=!1})).catch((function(e){(0,r.log)("getXhr>>error ",e),t.ishangUp=!1,t._data.status=-1})))}},{key:"clear",value:function(){clearTimeout(this.intervalId),this.intervalId=null}},{key:"contentLength",get:function(){return this._data.length||0}},{key:"url",set:function(e){e&&(this.options.url=e)},get:function(){return this.options.url}},{key:"serverIp",get:function(){return this._headers.x_response_sinfo||""}},{key:"headers",get:function(){return this._headers||{}}},{key:"status",get:function(){return this._data.status||-1}},{key:"speed",get:function(){return this._data.speed}}]),e}(),t.default=n,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default="0.10.9-alpha.2",e.exports=t.default}])},e.exports=t()},28158:function(e,t,n){"use strict";n.d(t,{W:function(){return w}});n(84328),n(52402),n(26846),n(16515),n(72535),n(47912),n(99371),n(32850),n(93077);var r=n(4303),i=n(89571),o=n.n(i),a=n(90062),s="J8OP9N70",l="RL5dmfkD",u="nre5+eFM",c="QV5E-dtN",d="OgvHnA8Q",p="wstFatpJ",f=n(69666),h=n.n(f),m=n(87241);function y(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,i)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){y(o,r,i,a,s,"next",e)}function s(e){y(o,r,i,a,s,"throw",e)}a(undefined)}))}}var v=null,_=!1;function k(e){var t=e.text,n=e.style;function i(){return(i=g(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h()(v.innerText),m.F.info({text:"\u5df2\u590d\u5236",duration:1e3});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.createElement("div",{className:l,style:{height:n.height,width:n.width},onDoubleClick:function(){return i.apply(this,arguments)}},t)}function b(e,t,n){var r=e.split("\r\n");if(t){var i="\u64ad\u653e\u5206\u8fa8\u7387: ".concat(t.height,",").concat(t.width);r.splice(2,0,i)}if(n){var o="\u64ad\u653e\u6863\u4f4d: ".concat(n);r.splice(2,0,o)}return r.join("\r\n")}function x(e){var t=e.name,n=e.text,i=e.showPanelRightside;return r.createElement("div",{className:c,onClick:function(e){_?(v.style="display: none;",_=!1):(!function(e,t){v?v.style="top:".concat(t.top,"px; left:").concat(t.left,"px;"):((v=document.createElement("div")).className=s,v.id="panelContainer",v.style="top:".concat(t.top,"px; left:").concat(t.left,"px;"),document.body.appendChild(v)),a.render(r.createElement(k,{text:e,style:t}),v)}(n,function(e,t){var n={width:300,height:600,top:0,left:0},r=t.target.getBoundingClientRect(),i=document.documentElement.scrollTop;return n.top=r.bottom+4+i,n.left=e?r.right+4:r.left-n.width-4,n}(i,e)),_=!0),e.stopPropagation(),e.preventDefault()}},t)}function w(e){var t,n,i,a=e.req,s=void 0===a?null:a,l=e.video,c=e.isLeft,f=void 0===c||c,h=e.showPanelRightside,m=void 0!==h&&h,y=e.size,g=void 0===y?null:y,k=e.gear;return(0,r.useEffect)((function(){return function(){v&&(document.body.removeChild(v),v=null,_=!1)}}),[]),r.createElement("div",{className:o()(u,p,(t={},n=d,i=!f,n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t))},s&&r.createElement(x,{name:"\u8bf7\u6c42",text:s,showPanelRightside:m}),l&&r.createElement(x,{name:"\u89c6\u9891",text:b(l,g,k),showPanelRightside:m}))}},98019:function(e,t,n){"use strict";n.d(t,{_:function(){return I}});n(73329),n(47808),n(19701),n(99371),n(32908),n(39272),n(87908),n(89045),n(50063),n(47912),n(49895),n(8966);var r=n(4303),i=n(98493),o=n(89571),a=n.n(o),s=n(52138),l="IY8oEM8a",u="Cm6P2rKY",c="bZMS0zFp",d="_3spfSXQi",p="POrYDCQ8",f="Mg817q2b",h="mF23q0BD",m="EMCl3GbM",y="QPHd7vnB",g="j6pYQyJr",v="IOKuU9MU",_=["className","imgPlaceHolderClassName","src","onImgLoaded","onImgLoadedTimeout"];function k(){return k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k.apply(this,arguments)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function I(e){var t,n,o,w,I,E=e.className,P=e.imgPlaceHolderClassName,T=e.src,C=e.onImgLoaded,O=e.onImgLoadedTimeout,A=S(e,_),L=x((0,r.useState)(!0),2),N=L[0],D=L[1],B=x((0,r.useState)(!1),2),R=B[0],j=B[1],V=(0,r.useRef)(null),M=(0,r.useRef)(null),F=(0,r.useRef)(0),z=i.G6(),U=i.vU(),H=(0,r.useCallback)((function(){var e;M.current&&F.current&&(M.current.offsetWidth/F.current>M.current.offsetHeight-(null!=A&&null!==(e=A.customProps)&&void 0!==e&&e.playerPermanentlyShowInfo?33:0)?D(!0):D(!1))}),[N,null==A||null===(t=A.customProps)||void 0===t?void 0:t.playerPermanentlyShowInfo]),Z=(0,r.useCallback)((function(){F.current=V.current.width/V.current.height,H(),null==C||C()}),[]),q=(0,r.useCallback)((function(){!R&&j(!0)}),[R]);return(0,r.useEffect)((function(){window.addEventListener("resize",H);var e=setTimeout((function(){null==O||O()}),500);return function(){window.removeEventListener("resize",H),e&&clearTimeout(e)}}),[]),r.createElement("div",k({},A,{className:a()(E,l,(o={},b(o,p,null==A||null===(n=A.customProps)||void 0===n?void 0:n.playerPermanentlyShowInfo),b(o,g,U),o),"imgBackground"),ref:M}),!R&&r.createElement("img",{src:T,ref:function(e){V.current=e,H()},className:a()((w={},b(w,u,!N),b(w,c,N),b(w,d,z),w),v,P),onLoad:Z,onError:q}),r.createElement("div",{className:a()((I={},b(I,f,!z),b(I,m,U),b(I,y,z),I))},r.createElement("img",{src:z?s:T}),!z&&r.createElement("div",{className:h})))}},12767:function(e,t,n){"use strict";n.d(t,{Z:function(){return te}});n(52402),n(18534),n(47808),n(19701),n(99371),n(32908),n(39272),n(87908),n(89045),n(50063),n(47912),n(49895);var r=n(4303),i=n(89571),o=n.n(i),a=n(35774),s=n(23974),l=n(99322),u=n(31036),c=n(86800),d=n(43325),p=n(27248),f=new p.hD({shareMenuShow:{eventName:"share_menu_show",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",is_full_screen:"0",tab_name:""}},shareVideo:{eventName:"share_video",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",type:"",is_full_screen:"0",tab_name:""}},clickFavoriteVideo:{eventName:"click_favorite_video",params:{click_from:"share_board",previous_page:"",author_id:"",group_id:"",log_pb:"",enter_from:"",is_fullscreen:"0"}},clickCancelFavoriteVideo:{eventName:"click_cancel_favorite_video",params:{click_from:"share_board",previous_page:"",author_id:"",group_id:"",log_pb:"",enter_from:"",is_fullscreen:"0"}},favoriteVideo:{eventName:"favorite_video",params:{click_from:"share_board",previous_page:"",author_id:"",group_id:"",log_pb:"",enter_from:"",is_fullscreen:"0"}},favoriteVideoFailed:{eventName:"favorite_video_failed",params:{click_from:"share_board",err_code:1,previous_page:"",author_id:"",group_id:"",log_pb:"",enter_from:"",is_fullscreen:"0"}},cancelFavoriteVideo:{eventName:"cancel_favorite_video",params:{click_from:"share_board",previous_page:"",author_id:"",group_id:"",log_pb:"",enter_from:"",is_fullscreen:"0"}}}),h="sBuBZGX-",m="cRjR1hiP",y=(n(93077),n(84328),n(32850),n(49765),n(69666)),g=n.n(y),v=n(58076),_=n(6185),k=n(84765),b=n(25580),x=n(32607),w=n(27900),S=n(1826),I="noJAv38m",E="M1BuMcV1",P="ddFTQvOz",T="_9TYgXvFr",C="VYAVbHvT",O="_7d1xN1HX",A="ro7SQvId",L="_75k032yQ";function N(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,i)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){N(o,r,i,a,s,"next",e)}function s(e){N(o,r,i,a,s,"throw",e)}a(undefined)}))}}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e){var t=e.awemeInfo,n=e.awemelogPb,i=e.toast,o=B((0,r.useState)(""),2),a=o[0],c=o[1],p=B((0,r.useState)(""),2),h=p[0],m=p[1],y=B((0,r.useState)(undefined),2),N=y[0],R=y[1],j=(0,r.useCallback)(D(regeneratorRuntime.mark((function e(){var n,r,i,o,a,s,l,u,d,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(undefined),n=(null==t?void 0:t.shareInfo)||{},r=n.shareLinkDesc,i=n.shareUrl,o=i&&"".concat(i,"&from=").concat("web_code_link"),e.next=5,Promise.all([(0,v.e)(null==t?void 0:t.awemeId),(0,_.R)(o)]);case 5:a=e.sent,s=B(a,2),l=s[0],u=s[1],null!=l&&l.statusCode||!u?R(!0):(d=(l||{}).qrcodeUrl,p=r&&r.replace("%s",u),R(!1),c(d&&(null==d?void 0:d.replace(".webp",".png"))),m(p));case 10:case"end":return e.stop()}}),e)}))),[t]),V=(0,r.useCallback)((function(){var e,r;g()(h),i("\u53e3\u4ee4\u5df2\u590d\u5236\uff0c\u8bf7\u7c98\u8d34\u7ed9\u5fae\u4fe1/QQ\u597d\u53cb\u6216\u7fa4\u804a"),f.sendLog("shareVideo",{urlParamList:["previous_page"],author_id:null==t||null===(e=t.authorInfo)||void 0===e?void 0:e.uid,group_id:null==t?void 0:t.groupId,enter_from:s.mo(),log_pb:n,type:"copy_link",is_full_screen:l.r()?"1":"0",tab_name:u.getTabName()||(0,d.parse)(null===(r=location)||void 0===r?void 0:r.search).tab_name||""})}),[h]);return(0,r.useEffect)((function(){j()}),[t]),N===undefined?r.createElement(k.g,null):N?r.createElement(r.Fragment,null,r.createElement("div",{className:L,onClick:j},r.createElement(b.Z,{src:S.Z,width:13,height:12,viewBox:"0 0 14 13"}),"\u5237\u65b0"),r.createElement("div",null,"\u6296\u97f3\u7801\u53ca\u53e3\u4ee4\u83b7\u53d6\u5931\u8d25")):r.createElement("div",{className:I},r.createElement("div",{className:E},r.createElement(x.Q,{src:a,alt:h,iconWidth:30})),r.createElement("div",{className:P},r.createElement("div",{className:T},"\u6296\u97f3\u300c\u626b\u4e00\u626b\u300d\u5206\u4eab\u6216\u590d\u5236\u7c98\u8d34\u81f3\u5fae\u4fe1\u6216QQ\u7b49\u4e09\u65b9\u5e73\u53f0"),r.createElement("div",{className:C},r.createElement("span",{className:O},h),r.createElement(w.zx,{size:"small",className:A,onClick:V},r.createElement("span",null,"\u590d\u5236")))))}var V="sIFBTU6b",M="_902SDYEn",F="JqYYRVSS",z="XV98shoU",U=n(45816),H=n(39834),Z={},q=n(1806),W=n(69240),G=n(64967);function J(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,i)}function Q(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){J(o,r,i,a,s,"next",e)}function s(e){J(o,r,i,a,s,"throw",e)}a(undefined)}))}}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(e){var t=e.toast,n=e.awemeInfo,i=e.awemelogPb,a=e.isLogin,u=e.fullScreenTarget,c=e.loginDispatch,d=(0,r.useMemo)((function(){var e=Boolean(null==n?void 0:n.userCollected);return Z[null==n?void 0:n.awemeId]&&(e=Z[null==n?void 0:n.awemeId]),[e]}),[e]),p=K(d,1)[0],h=K((0,r.useState)(p),2),m=h[0],y=h[1],g=(0,r.useCallback)(Q(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m?f.sendLog("clickCancelFavoriteVideo",{click_from:"share_board",urlParamList:["previous_page"],author_id:null==n||null===(t=n.authorInfo)||void 0===t?void 0:t.uid,group_id:null==n?void 0:n.groupId,log_pb:i,enter_from:s.mo(),is_fullscreen:l.r()?"1":"0"}):f.sendLog("clickFavoriteVideo",{click_from:"share_board",urlParamList:["previous_page"],author_id:null==n||null===(r=n.authorInfo)||void 0===r?void 0:r.uid,group_id:null==n?void 0:n.groupId,log_pb:i,enter_from:s.mo(),is_fullscreen:l.r()?"1":"0"}),a){e.next=4;break}return(0,U.ZP)({success:function(){var e=Q(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"updateUserInfo"}),e.next=3,v();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),headerText:"\u767b\u5f55\u540e\u5373\u53ef\u6536\u85cf\uff0c\u63a8\u8350\u66f4\u51c6\u786e\uff0c\u529f\u80fd\u66f4\u4e30\u5bcc",enterMethod:"favorite_video"},u),e.abrupt("return");case 4:return e.next=6,v();case 6:case"end":return e.stop()}}),e)}))),[a,m,n]),v=(0,r.useCallback)(Q(regeneratorRuntime.mark((function e(){var r,o,a,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y((function(e){return!e})),e.next=3,(0,H.KM)({awemeId:null==n?void 0:n.awemeId,collectAction:m?0:1});case 3:0!==(r=e.sent).statusCode?(y((function(e){return!e})),f.sendLog("favoriteVideoFailed",{click_from:"share_board",err_code:r.statusCode,urlParamList:["previous_page"],author_id:null==n||null===(o=n.authorInfo)||void 0===o?void 0:o.uid,group_id:null==n?void 0:n.groupId,log_pb:i,enter_from:s.mo(),is_fullscreen:l.r()?"1":"0"}),r.statusCode===G.ERROR_CODE.ERROR_USER_UNLOGIN?(c({type:"updateUserInfo"}),(0,U.ZP)({success:function(){var e=Q(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"updateUserInfo"}),e.next=3,v();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),headerText:"\u767b\u5f55\u540e\u5373\u53ef\u6536\u85cf\uff0c\u63a8\u8350\u66f4\u51c6\u786e\uff0c\u529f\u80fd\u66f4\u4e30\u5bcc",enterMethod:"favorite_video"},u)):null==t||t("\u6536\u85cf\u5931\u8d25")):(m||null==t||t("\u6536\u85cf\u6210\u529f"),d=m?"cancelFavoriteVideo":"favoriteVideo",f.sendLog(d,{click_from:"share_board",urlParamList:["previous_page"],author_id:null==n||null===(a=n.authorInfo)||void 0===a?void 0:a.uid,group_id:null==n?void 0:n.groupId,log_pb:i,enter_from:s.mo(),is_fullscreen:l.r()?"1":"0"}),Z[null==n?void 0:n.awemeId]=!m);case 5:case"end":return e.stop()}}),e)}))),[m,n]);return(0,r.useEffect)((function(){y(p)}),[p,null==n?void 0:n.awemeId]),r.createElement("div",{className:V,onClick:g},m?r.createElement(b.Z,{src:W.Z,width:14,height:14,className:M,viewBox:"0 0 14 14"}):r.createElement(b.Z,{src:q.Z,width:14,height:14,className:o()(M,F),viewBox:"0 0 14 14"}),r.createElement("div",{className:z},m?"\u5df2\u6536\u85cf":"\u6536\u85cf"))}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var te=function(e){var t=e.className,n=e.awemeInfo,i=e.onMouseEnter,p=e.onMouseLeave,y=e.hidden,g=e.awemelogPb,v=e.abtestData,_=e.autoPlayOptimize,k=Y((0,r.useState)(!1),2),b=k[0],x=k[1],w=a,S=w.EVENT,I=Y((0,r.useState)(!y),2),E=I[0],P=I[1],T=(0,r.useRef)(!y);return(0,r.useEffect)((function(){_&&(y||(P(!0),w.emit(S.videoStopPlayNext)),y&&E&&w.emit(S.videoRemoveStopPlayNext),T.current=!y)}),[y,_]),(0,r.useEffect)((function(){return function(){T.current&&w.emit(S.videoRemoveStopPlayNext)}}),[]),(0,r.useEffect)((function(){var e,t;y||f.sendLog("shareMenuShow",{urlParamList:["previous_page"],author_id:null==n||null===(e=n.authorInfo)||void 0===e?void 0:e.uid,group_id:null==n?void 0:n.groupId,enter_from:s.mo(),log_pb:g,is_full_screen:l.r()?"1":"0",tab_name:u.getTabName()||(0,d.parse)(null===(t=location)||void 0===t?void 0:t.search).tab_name||""});y||x(!0)}),[y]),r.createElement("div",{className:o()(t,h,m),onMouseEnter:i,onMouseLeave:p,style:{display:y?"none":"flex"}},b&&r.createElement(r.Fragment,null,r.createElement(j,e),2===(null==v?void 0:v.collection)&&r.createElement(r.Fragment,null,r.createElement(c.i,{style:{marginTop:24,marginBottom:24}})," ",r.createElement($,e))))}},77800:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});n(65092),n(47808),n(19701),n(99371),n(32908),n(39272),n(87908),n(89045),n(50063),n(47912),n(49895);var r=n(4303),i=n(81226),o="jqBs+73T";function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){var t,n=e.player,s=e.awemeInfo,l=e.content,u=e.tipClassName,c=e.children,d=(0,r.useRef)(null),p=a((0,r.useState)(!1),2),f=p[0],h=p[1],m=null===(t=i.Es())||void 0===t?void 0:t.user_unique_id,y=s.awemeId;return(0,r.useEffect)((function(){var e,t,r=function(){h(!1)},i=function(){var n=JSON.parse(localStorage.getItem("tipHoverMap")||"{}"),r=n[m]||[];(null==r?void 0:r.length)<3&&(r.find((function(e){return e===y}))||(h(!0),r.push(y),n[m]=r,localStorage.setItem("tipHoverMap",JSON.stringify(n)),t&&clearTimeout(t),e=setTimeout((function(){h(!1)}),3e3)))},o=function(){h(!1)};d.current.addEventListener("mouseleave",r),d.current.addEventListener("mouseenter",i),d.current.addEventListener("click",o);var a=setInterval((function(){var r;n&&null!=n&&n._duration&&(r=Math.ceil(n._duration-n._currentTime));var i=JSON.parse(localStorage.getItem("tipTimeoutMAp")||"{}"),o=i[m]||[];o.length>=3&&clearInterval(a),r!==undefined&&r<=5&&o.length<3&&(o.find((function(e){return e===y}))||(h(!0),o.push(y),i[m]=o,localStorage.setItem("tipTimeoutMAp",JSON.stringify(i)),e&&clearTimeout(e),t=setTimeout((function(){h(!1)}),3e3)))}),200);return function(){a&&clearInterval(a),e&&clearTimeout(e),t&&clearTimeout(t),d.current&&(d.current.removeEventListener("mouseleave",r),d.current.removeEventListener("mouseenter",i),d.current.removeEventListener("click",o))}}),[n]),r.createElement("div",{className:o,ref:d},f&&r.createElement("div",{className:u},l),c)}},97467:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});n(47808),n(19701),n(99371),n(32908),n(39272),n(87908),n(89045),n(50063),n(47912),n(49895);var r=n(4303),i="AfsL8mwF",o="s5ODRxBx",a="_1LEBAOXQ",s="_2642YVOS",l="dg5qZQcN",u="ThvsBBEr",c="c28iqEln",d=n(89571),p=n.n(d),f=n(94369),h=n(98493);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){var t,n=e.children,d=e.lineClamp,g=void 0===d?2:d,v=e.btnClassName,_=e.onlyKey,k=void 0===_?"":_,b=e.maxLine,x=void 0===b?999:b,w=e.btnOnClick,S=e.Content,I=e.lineHeight,E=void 0===I?"20px":I,P=y((0,r.useState)(!1),2),T=P[0],C=P[1],O=y((0,r.useState)(!1),2),A=O[0],L=O[1],N=y((0,r.useState)(g),2),D=N[0],B=N[1],R=(0,r.useRef)(null),j=h.i7()&&!h.GP(),V=(0,f.throttle)((function(){setTimeout((function(){var e=null==R?void 0:R.current;!A&&e&&((null==e?void 0:e.scrollHeight)-(null==e?void 0:e.clientHeight)>15?C(!0):C(!1))}),0)}),500);return(0,r.useEffect)((function(){return R.current&&window.addEventListener("resize",V),function(){R.current&&window.removeEventListener("resize",V)}}),[A]),(0,r.useEffect)((function(){L(!1),B(g),C(!1),V()}),[k]),r.createElement("div",{className:p()(i,m({},l,!j))},r.createElement("div",{ref:R,className:p()(o,m({},u,A)),style:{"--lineClamp":D,"--lineHeight":E,"--maxHeight":"".concat(parseInt(E)*x,"px")}},r.createElement("button",{onClick:function(e){B((function(e){return e===g?x:g})),L((function(e){return!e})),w&&w(A),null!=e&&e.target&&e.target.blur()},className:p()(a,v,(t={},m(t,s,T),m(t,c,A),t))},A?"\u6536\u8d77":"\u5c55\u5f00"),S&&r.createElement(S,{isUnfold:A}),n))}},78255:function(e,t){"use strict";t.Z={checkVisible:!1,keyCodeMap:{space:{code:32,action:"playPause",disable:!1},up:{keyCode:187,action:"upVolume",disable:!1,noBodyTarget:!0},down:{keyCode:189,action:"downVolume",disable:!1,noBodyTarget:!0},up1:{keyCode:107,action:"upVolume",disable:!1,noBodyTarget:!0},down1:{keyCode:109,action:"downVolume",disable:!1,noBodyTarget:!0}}}},58640:function(e,t,n){"use strict";n.d(t,{Z:function(){return R}});n(84328),n(85130),n(34529),n(47808),n(19701),n(99371),n(32908),n(39272),n(87908),n(89045),n(50063),n(47912),n(49895);var r=n(4303),i=(n(58622),n(25580)),o=n(35774),a=n(98493),s=n(83305),l=n(77966),u=n(37635),c=n(17520),d=n(37315),p=n(65703),f=n(87304),h=n(78145),m=n(27325),y=n(74256),g=n(10778),v=n(41017),_=n(89571),k=n.n(_),b="D+4cr216",x="+EspoJzR",w="-CmLtpm9",S="VgsREQ0t",I="QXDeyIEl",E="dKi1UAox",P="wcxQBa03",T="kog4uU6M";function C(e){var t=e.x,n=void 0===t?50:t,i=e.y,o=void 0===i?50:i,a=(0,r.useRef)(parseInt(String(1e4*Math.random()%61-30))),s={left:n-35,top:o-34,transform:"rotate(".concat(a.current,"deg)")};return r.createElement(r.Fragment,null,r.createElement("div",{style:s,className:E},r.createElement("img",{src:"//lf3-static.bytednsdoc.com/obj/eden-cn/ulkphgeh7nuvspognuhbo/douyin_web/img/images/feed_money_like_icon.svg",className:k()(P,T)})))}function O(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||L(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||L(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){if(e){if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e){var t=e.onMountIcon,n=e.playerPermanentlyShowInfo;return r.createElement(r.Fragment,null,r.createElement("div",{ref:function(e){e&&e.children&&11===e.children.length&&t({play:function(){var t=document.createElement("div");return t.innerHTML=e.children[0].outerHTML+e.children[1].outerHTML,t.children[0]},pause:function(){var t=document.createElement("div");return t.innerHTML=e.children[0].outerHTML+e.children[1].outerHTML,t.children[1]},startPlay:e.children[0].outerHTML,startPause:e.children[1].outerHTML,playNext:e.children[2].outerHTML,mini:e.children[4].outerHTML,volumeSmall:e.children[5].outerHTML,volumeLarge:e.children[5].outerHTML,volumeMuted:e.children[6].outerHTML,fullscreen:e.children[7].outerHTML,exitFullscreen:e.children[8].outerHTML,playSwitchPrev:e.children[9].outerHTML,playSwitchNext:e.children[10].outerHTML,loadingIcon:'loading: "<div class="xg-douyin-loading" />"'})},style:{display:"none"}},n?r.createElement(r.Fragment,null,r.createElement(i.Z,{src:l.Z,width:32,height:32,viewBox:"0 0 39 39"}),r.createElement(i.Z,{src:u.Z,width:32,height:32,viewBox:"0 0 39 39"}),r.createElement(i.Z,{src:c.Z,width:36,height:36}),r.createElement(i.Z,{src:d.Z,width:36,height:36}),r.createElement(i.Z,{src:p.Z,width:32,height:32,viewBox:"0 0 38 39"}),r.createElement(i.Z,{src:f.Z,width:32,height:32,viewBox:"0 0 39 39"}),r.createElement(i.Z,{src:h.Z,width:32,height:32,viewBox:"0 0 39 39"}),r.createElement(i.Z,{src:m.Z,width:32,height:32,viewBox:"0 0 39 39"}),r.createElement(i.Z,{src:y.Z,width:32,height:32,viewBox:"0 0 39 39"}),r.createElement(i.Z,{src:g.Z,width:36,height:36}),r.createElement(i.Z,{src:v.Z,width:36,height:36})):r.createElement(r.Fragment,null,r.createElement(i.Z,{src:l.Z,width:36,height:36}),r.createElement(i.Z,{src:u.Z,width:36,height:36}),r.createElement(i.Z,{src:c.Z,width:36,height:36}),r.createElement(i.Z,{src:d.Z,width:36,height:36}),r.createElement(i.Z,{src:p.Z,width:36,height:36}),r.createElement(i.Z,{src:f.Z,width:36,height:36}),r.createElement(i.Z,{src:h.Z,width:36,height:36}),r.createElement(i.Z,{src:m.Z,width:36,height:36}),r.createElement(i.Z,{src:y.Z,width:36,height:36}),r.createElement(i.Z,{src:g.Z,width:36,height:36}),r.createElement(i.Z,{src:v.Z,width:36,height:36}))))}function B(e,t){var n=e.Plugin,i=e.config,o=e.player;return null!=i&&i.dependOnPlayer?o&&r.createElement(n,{player:o,key:t,config:i}):r.createElement(n,{player:o,key:t,config:i})}var R=function(e){var t,n=e.onInitVideo,i=e.playerWrapClassName,l=e.isSliderVideo,u=e.customPlugins,c=void 0===u?[]:u,d=e.player,p=e.isActive,f=void 0===p||p,h=e.isFullScreen,m=void 0!==h&&h,y=e.starList,g=e.abtestData||{},v=g.multiVideoPlaybackLogic,_=g.playerPermanentlyShowInfo,E=(0,r.useRef)(null),P=(0,r.useRef)(null),T=(0,r.useRef)(null),L=(0,r.useRef)(f),N=A((0,r.useState)([!1,!1,!1]),2),R=N[0],j=N[1],V=A((0,r.useState)(!1),2),M=V[0],F=V[1],z=(null===(t=(0,r.useContext)(s.C))||void 0===t?void 0:t.isFullScreen)||m;(0,r.useEffect)((function(){return f||(P.current=null),function(){f&&(P.current=null)}}),[f]),(0,r.useEffect)((function(){L.current=f,f&&R.every((function(e){return e}))&&n(P.current,T.current,E.current)}),[f,R,n]),(0,r.useEffect)((function(){var e=function(){F(!0)},t=function(){F(!1)};return null==d||d.on("focus",e),null==d||d.on("blur",t),function(){null==d||d.off("foucs",e),null==d||d.off("blur",t)}}),[d]),(0,r.useEffect)((function(){var e;return v&&(e=o.listen(o.EVENT.videoPause,(function(){var e;d&&(null==d||null===(e=d.pause)||void 0===e||e.call(d))}))),function(){e&&e()}}),[d,v]);var U,H,Z,q=(0,r.useMemo)((function(){return[]}),[d]),W=(0,r.useCallback)((function(){var e={root:[],left:[],right:[],top:[]};return[].concat(O(q),O(c||[])).forEach((function(t){null!=t&&t.position&&null!=t&&t.Plugin&&e[t.position].push({Plugin:t.Plugin,config:t.config,player:d})})),e}),[d,q,c])();return r.createElement(r.Fragment,null,r.createElement(D,{onMountIcon:function(e){P.current||(P.current=e,!R[0]&&j((function(e){return e[0]=!0,e})))},playerPermanentlyShowInfo:_}),r.createElement("div",{className:k()("videoContainer",{"xgplayer-container-inactive":!M,"player-info":Boolean(_)}),ref:function(e){E.current||(E.current=e,!R[1]&&j((function(e){return e[1]=!0,e})))}},!l&&r.createElement("div",{id:"fullscreen_capture_feedback"},r.createElement("div",{id:"fullscreen_capture"})),y&&y.length>0&&y.map((function(e){return r.createElement(C,{x:e.x,y:e.y,key:e.index})})),r.createElement("div",{className:k()("videoWrap",i),ref:function(e){T.current||(T.current=e,!R[2]&&j((function(e){return e[2]=!0,e})))}}),r.createElement("div",{className:b},W.root.map(B)),Boolean(W.left.length)&&r.createElement("div",{className:x},W.left.map(B)),Boolean(W.right.length)&&r.createElement("div",{className:k()(w,(U={},H=S,Z=a.vU()&&!z,H in U?Object.defineProperty(U,H,{value:Z,enumerable:!0,configurable:!0,writable:!0}):U[H]=Z,U))},W.right.map(B)),Boolean(W.top.length)&&r.createElement("div",{className:I},W.top.map(B))))}},85909:function(e,t,n){"use strict";n.d(t,{R:function(){return hn}});n(73329),n(47808),n(50720),n(85239),n(85130),n(54524),n(19701),n(32908),n(39272),n(87908),n(89045),n(49895),n(50063),n(47912),n(34529),n(84328),n(99371),n(32850),n(93077);var r,i=n(78255),o=n(81226),a=n(23974),s={lang:"zh",inactive:2e3,leavePlayerTime:0,autoplay:!0,defaultMuted:!0,loop:!1,closeFocusVideoFocus:!0,closeControlsBlur:!0,closePlayVideoFocus:!0,closeVideoPreventDefault:!0,closeVideoStopPropagation:!0,controls:{mode:"bottom",autoHide:!0,initShow:!0},playbackRate:!1,cssFullscreen:!1,dynamicBg:{disable:!0,frameRate:10,filter:"blur(60px)",maskBg:"rgba(0,0,0,0.7)"},enter:{innerHtml:'<div class="xg-douyin-loading" />'},start:{disableAnimate:!0},ignores:["progresspreview","poster"],progress:!0,miniprogress:!1,miniscreen:{width:350,height:197,left:-1,top:-1,disableDrag:!0},vodLogOpts:{line_app_id:n(83869).APP_ID,line_user_id:(null===(r=o.Es())||void 0===r?void 0:r.user_unique_id)||"",vtype:"MP4",tag:a.yW(),codec_type:"h264",drm_type:0,sendLocalCallback:function(e,t){},disableLocalCache:!0,channel:"cn",closeResolutionLog:!0,closeSeekLog:!0,maxQueueCount:5,isTask:!1}},l=n(56371),u=(n(52402),n(18534),n(27248)),c=new u.hD({videoPlay:{eventName:"video_play",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",is_visible:"1",compilation_id:"",is_auto_play:"0",impression_data:"",video_detail_enter_from:"web_link",tab_name:"",speed:"1",auto_cnt:1,is_full_screen:"0",trending_topic:"",enter_method:""}},videoPlayFinish:{eventName:"video_play_finish",params:{author_id:"",group_id:"",log_pb:"",is_visible:"1",enter_from:"",compilation_id:"",previous_page:"",tab_name:""}},playTime:{eventName:"play_time",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",is_auto_play:"0",is_visible:"1",duration:0,from_percent:0,to_percent:0,video_detail_enter_from:"web_link",tab_name:"",speed:"",is_full_screen:"0",trending_topic:"",enter_method:""}},videoPlayCheckPoint:{eventName:"video_play_check_point",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",compilation_id:"",order:0,tab_name:""}},clickPreviousVideo:{eventName:"click_previous_video",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",tab_name:"",click_from:""}},clickNextVideo:{eventName:"click_next_video",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",click_from:"",tab_name:""}},clickAutoPlay:{eventName:"click_auto_play",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",status:""}},clickVideoSpeed:{eventName:"click_video_speed",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",speed:""}},enterFullScreen:{eventName:"enter_full_screen",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",click_from:""}},exitFullScreen:{eventName:"exit_full_screen",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",click_from:""}},clickScreenMode:{eventName:"click_screen_mode",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",status:""}}}),d=n(94369),p=n.n(d),f=n(43325),h=n(43414),m=n(99322),y=n(30301),g=n(31036);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){var n=t.author_id,r=t.group_id,i=t.log_pb,s=t.compilation_id,l=t.isFromNextAutoPlay,u=t.impressionData,p=t.vduration,v=t.extraParams,k=!1,b={author_id:n,group_id:r,log_pb:i,compilation_id:s,isFromNextAutoPlay:l,impressionData:u,vduration:p,extraParams:v},x=function(e,t){var n=t.author_id,r=t.group_id,i=t.log_pb,s=t.compilation_id,l=t.isFromNextAutoPlay,u=t.impressionData,d=t.extraParams,p=function(){var t,p=o.Le.getConfig("videoFeedList"),y=(null==p?void 0:p.autoPlayCount)||1;c.sendLog("videoPlay",_({urlParamList:["previous_page","enter_method","trending_topic"],author_id:n,enter_from:a.mo(),group_id:r,log_pb:i,compilation_id:s,is_auto_play:String(l?1:0),is_visible:String("visible"===document.visibilityState?1:0),impression_data:u,speed:"".concat(null==e?void 0:e.playbackRate),auto_cnt:y,video_detail_enter_from:h.z("web_link"),is_full_screen:m.r()?"1":"0",tab_name:g.getTabName()||(0,f.parse)(null===(t=location)||void 0===t?void 0:t.search).tab_name||""},d))};return e.once("autoplay_started",p),e.once("change_start",p),function(){e.off("autoplay_started",p),e.off("change_start",p)}}(e,b),w=function(e,t){var n=t.author_id,r=t.group_id,i=t.log_pb,o=t.compilation_id,s=(t.isFromNextAutoPlay,t.impressionData,t.extraParams),l=function(){var e;c.sendLog("videoPlayFinish",_({urlParamList:["previous_page"],enter_from:a.mo(),author_id:n,group_id:r,log_pb:i,compilation_id:o,tab_name:g.getTabName()||(0,f.parse)(null===(e=location)||void 0===e?void 0:e.search).tab_name||"",is_visible:String("visible"===document.visibilityState?1:0)},s))};return e.once("ended",l),function(){e.off("ended",l)}}(e,b),S=function(e,t){var n,r,i=t.author_id,o=t.group_id,s=t.log_pb,l=(t.compilation_id,t.isFromNextAutoPlay),u=(t.impressionData,t.vduration),p=t.extraParams,v=0,k=0,b=0,x=0,w=(0,f.parse)(null===(n=window)||void 0===n||null===(r=n.location)||void 0===r?void 0:r.search),S=g.getTabName()||(null==w?void 0:w.tab_name)||"",I=function(){k=Date.now(),null!=e&&e.video&&(v=e.currentTime)},E=function(){b=1},P=(0,d.debounce)((function(){C("visible"===document.visibilityState)}),500,{leading:!0,trailing:!1}),T=(0,d.debounce)((function(){I()}),500,{leading:!1,trailing:!0}),C=function(t){if(k&&e&&u&&e.video){var n=Date.now()-k;Date.now()-x<100||(c.sendLog("playTime",_({is_visible:String(t?1:0),duration:n,from_percent:1e3*v/u,to_percent:1e3*(null==e?void 0:e.currentTime)/u,is_auto_play:String(l?1:0),urlParamList:["previous_page","enter_method","trending_topic"],tab_name:S,author_id:i,enter_from:a.mo(),group_id:o,log_pb:s,video_detail_enter_from:h.z("web_link"),speed:String(null==e?void 0:e.playbackRate),is_loop:String(b),is_full_screen:m.r()?"1":"0"},p)),k=Date.now(),x=Date.now())}},O=function(){C("visible"===document.visibilityState),I()},A=function(t){e.video&&null!=e&&e.paused||(C(t),I())};return e.on("seeked",T),e.on("seeking",P),e.on("play",I),e.on("replay",E),e.on("pause",O),y.vP(A),function(){e.off("seeked",T),e.off("seeking",P),e.off("play",I),e.off("replay",E),e.off("pause",O),null!=e&&e.paused||O(),y.xC(A)}}(e,b),I=function(e,t){var n=t.author_id,r=t.group_id,i=t.log_pb,o=t.compilation_id,s=(t.isFromNextAutoPlay,t.impressionData,t.extraParams),l=!1,u=function(){e.emit("focus"),l=!0},d=function(){l=!0},p=1,h=setInterval((function(){var e;l&&c.sendLog("videoPlayCheckPoint",_({urlParamList:["previous_page"],author_id:n,group_id:r,log_pb:i,enter_from:a.mo(),compilation_id:o,order:p++,tab_name:g.getTabName()||(0,f.parse)(null===(e=location)||void 0===e?void 0:e.search).tab_name||""},s))}),6e4);return e.on("autoplay_started",u),e.on("play",d),function(){h&&clearInterval(h),e.off("autoplay_started",u),e.off("play",d)}}(e,b),E=function(e,t){var n=t.author_id,r=t.group_id,i=t.log_pb,o=(t.compilation_id,t.isFromNextAutoPlay,t.impressionData,t.extraParams),s=function(e){var t;c.sendLog("clickPreviousVideo",_({urlParamList:["previous_page"],author_id:n,group_id:r,log_pb:i,enter_from:a.mo(),click_from:e?"keyboard":"click_button",tab_name:g.getTabName()||(0,f.parse)(null===(t=location)||void 0===t?void 0:t.search).tab_name||""},o))},l=function(e){var t;c.sendLog("clickNextVideo",_({urlParamList:["previous_page"],author_id:n,group_id:r,log_pb:i,enter_from:a.mo(),click_from:e?"keyboard":"click_button",tab_name:g.getTabName()||(0,f.parse)(null===(t=location)||void 0===t?void 0:t.search).tab_name||""},o))},u=function(){var e;c.sendLog("clickNextVideo",_({urlParamList:["previous_page"],author_id:n,group_id:r,log_pb:i,enter_from:a.mo(),click_from:"click_bar_button",tab_name:g.getTabName()||(0,f.parse)(null===(e=location)||void 0===e?void 0:e.search).tab_name||""},o))};return e.on("playSwitchPrevBefore",s),e.on("playSwitchNextBefore",l),e.on("custome_next_click",u),function(){e.off("playSwitchPrevBefore",s),e.off("playSwitchNextBefore",l),e.off("custome_next_click",u)}}(e,b),P=function(e,t){var n=t.author_id,r=t.group_id,i=t.log_pb,o=(t.compilation_id,t.isFromNextAutoPlay,t.impressionData,t.extraParams),s=function(e){c.sendLog("clickAutoPlay",_({urlParamList:["previous_page"],author_id:n,group_id:r,log_pb:i,enter_from:a.yW(),status:e?"on":"off"},o))};return e.on("nextAutoplayChange",s),function(){e.off("nextAutoplayChange",s)}}(e,b),T=function(e,t){var n=t.author_id,r=t.group_id,i=t.log_pb,o=(t.compilation_id,t.isFromNextAutoPlay,t.impressionData,t.extraParams),s=function(e){c.sendLog("clickVideoSpeed",_({urlParamList:["previous_page"],author_id:n,group_id:r,log_pb:i,enter_from:a.yW(),speed:e},o))};return e.on("playRatioChange",s),function(){e.off("playRatioChange",s)}}(e,b),C=function(e,t){var n=t.author_id,r=t.group_id,i=t.log_pb,o=(t.compilation_id,t.isFromNextAutoPlay,t.impressionData,t.extraParams),s=function(e){if("switch_fullscreen"===e.action){var t="";switch(e.eventType){case"click":t="click_button";break;case"dblclick":t="double_click";break;default:t="keyboard"}e.fullscreen?c.sendLog("exitFullScreen",_({urlParamList:["previous_page"],author_id:n,group_id:r,log_pb:i,enter_from:a.yW(),click_from:t},o)):c.sendLog("enterFullScreen",_({urlParamList:["previous_page"],author_id:n,group_id:r,log_pb:i,enter_from:a.yW(),click_from:t},o))}};return e.on("user_action",s),function(){e.off("user_action",s)}}(e,b),O=function(e,t){var n=t.author_id,r=t.group_id,i=t.log_pb,o=(t.compilation_id,t.isFromNextAutoPlay,t.impressionData,t.extraParams),s=function(e){c.sendLog("clickScreenMode",_({urlParamList:["previous_page"],author_id:n,group_id:r,log_pb:i,enter_from:a.yW(),status:e},o))};return e.on("fakeScreenChange",s),function(){e.off("fakeScreenChange",s)}}(e,b);return function(){k||(k=!0,x(),w(),S(),I(),E(),P(),T(),C(),O())}}n(65092),n(59040),n(72535),n(98962),n(36379);var x=n(50134),w=n(76131),S=n(64463);function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},T(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var i=L(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){if(t&&("object"===I(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return A(e)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D={};[{text:"\u539f\u59cb",val:"origin"},{text:"\u667a\u80fd",val:"auto"}].forEach((function(e){D[e.val]=e}));var B=function(e,t){var n,r,i=t||{},o=i.fakeHorizontalInfo,a=i.disable,s=i.origRatio;if(a)return!0;if(!e||!o||!s)return!0;var l=o.bottom-o.top,u=o.right-o.left,c=(null==e||null===(n=e.root)||void 0===n?void 0:n.offsetHeight)/(null==e||null===(r=e.root)||void 0===r?void 0:r.offsetWidth);return!(l/u*s)||!c||s<c},R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(o,e);var t,n,r,i=C(o);function o(){var e;E(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return N(A(e=i.call.apply(i,[this].concat(n))),"resizeWindow",(function(t){e.changeVideoScreen(e.player.fakeScreenType)})),N(A(e),"onItemClick",(function(t){if(null!=t&&t.target){var n=t.target.getAttribute("val");if(!D[n])return;for(var r=e.find(".xgplayer-fakescreen-wrap").children,i=0;i<r.length;i++){var o=r[i];o.getAttribute("val")===n?x.Zr.addClass(o,"select"):x.Zr.removeClass(o,"select")}x.Zr.removeClass(e.root,"slide-show"),e.changeVideoScreen(n),e.find(".xgplayer-setting-val-tit").innerText=D[n].text,e.player.emit("fakeScreenChange",n),e.player.fakeScreenType=n}})),N(A(e),"changeVideoScreen",(function(t){"auto"===t?e.resizePlayer():e.recoverPlayer()})),N(A(e),"recoverPlayer",(function(){A(e).player.video.style.transform=""})),N(A(e),"resizePlayer",(function(){var t,n,r=A(e).player,i=e.config.fakeHorizontalInfo,o=e.config.origRatio,a=S.$({height:null==r||null===(t=r.root)||void 0===t?void 0:t.offsetHeight,width:null==r||null===(n=r.root)||void 0===n?void 0:n.offsetWidth},o,i);a&&(r.video.style.transform="scale(".concat(a.scale.toFixed(2),") translateX(").concat(a.offsetX,"%) translateY(").concat(a.offsetY,"%)"))})),N(A(e),"onMouseleave",(function(){x.Zr.removeClass(e.root,"slide-show")})),N(A(e),"onMouseenter",(function(){x.Zr.addClass(e.root,"slide-show")})),e}return t=o,r=[{key:"pluginName",get:function(){return"FakeScreenPlugin"}},{key:"defaultConfig",get:function(){return{position:x.kd.CONTROLS_RIGHT,index:8,className:"xgplayer-fakescreen-setting",fakeScreenType:"auto",fakeHorizontalInfo:{},origRatio:0,disable:!1}}}],(n=[{key:"beforePlayerInit",value:function(){}},{key:"afterPlayerInit",value:function(){}},{key:"afterCreate",value:function(){B(this.player,this.config)?this.recoverPlayer():(this.changeVideoScreen(this.player.fakeScreenType),this.bind("mouseenter",this.onMouseenter),this.bind(["blur","mouseleave"],this.onMouseleave),this.bind(".xgplayer-fakescreen-item","click",this.onItemClick),window.addEventListener("resize",this.resizeWindow))}},{key:"destroy",value:function(){this.config={},this.unbind("mouseenter",this.onMouseenter),this.unbind(["blur","mouseleave"],this.onMouseleave),window.removeEventListener("resize",this.resizeWindow),this.unbind(".xgplayer-fakescreen-item","click",this.onItemClick)}},{key:"render",value:function(){var e,t=this;if(!B(this.player,this.config))return this.player.fakeScreenType=D[this.config.fakeScreenType]&&this.config.fakeScreenType||"auto",'\n    <xg-icon class="xgplayer-fakescreen-setting" data-state="normal">\n      <div class="xgplayer-icon">\n        <span class="xgplayer-setting-title">\u753b\u9762\u5c3a\u5bf8</span>\n        <span class="xgplayer-setting-val-tit">'.concat(null===(e=D[this.player.fakeScreenType])||void 0===e?void 0:e.text,'</span>\n      </div>\n      <xg-slider class="xgplayer-slider xgplayer-box-douyin ">\n        <div class="xgplayer-setting-content">\n            <div class="xgplayer-fakescreen-wrap">\n            ').concat([{text:"\u539f\u59cb",val:"origin"},{text:"\u667a\u80fd",val:"auto"}].map((function(e){return"<div class='".concat(t.player.fakeScreenType===e.val?"select":""," xgplayer-fakescreen-item' val='").concat(e.val,"'>").concat(e.text,"</div>")})).join(""),"\n            </div>\n          </div>\n        </div>\n      </xg-slider>\n    </xg-icon>")}}])&&P(t.prototype,n),r&&P(t,r),o}(w.ZP),j=n(29145),V=n(730),M=n(10778),F=n(41017);function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t){return Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Z(e,t)}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=J(e);if(t){var i=J(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return W(this,n)}}function W(e,t){if(t&&("object"===z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return G(e)}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e){return J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},J(e)}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(o,e);var t,n,r,i=q(o);function o(){var e;U(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Q(G(e=i.call.apply(i,[this].concat(n))),"onKeyBoardPrev",(function(){e.onPrev(!0)})),Q(G(e),"onKeyBoardNext",(function(){e.onNext(!0)})),Q(G(e),"onClickBoardPrev",(function(){e.onPrev(!1)})),Q(G(e),"onClickBoardNext",(function(){e.onNext(!1)})),Q(G(e),"onPrev",(function(t){var n;null!==(n=e.config)&&void 0!==n&&n.playPrevFunc&&(e.player.emit("playSwitchPrevBefore",t),e.config.playPrevFunc())})),Q(G(e),"onNext",(function(t){var n;null!==(n=e.config)&&void 0!==n&&n.playNextFunc&&(e.player.emit("playSwitchNextBefore",t),e.config.playNextFunc())})),Q(G(e),"handleToggleComment",(function(t){var n,r,i,o;t?null===(n=G(e))||void 0===n||null===(r=n.hide)||void 0===r||r.call(n):null===(i=G(e))||void 0===i||null===(o=i.show)||void 0===o||o.call(i)})),Q(G(e),"hide",(function(){e.root&&(e.root.style.display="none")})),Q(G(e),"show",(function(){e.root&&(e.root.style.display="block")})),e}return t=o,r=[{key:"pluginName",get:function(){return"PlaySwitchPlugin"}},{key:"defaultConfig",get:function(){return{position:x.kd.ROOT_RIGHT,index:1,className:"xgplayer-playswitch",playPrevFunc:null,playNextFunc:null}}}],(n=[{key:"registerIcons",value:function(){return{playSwitchPrev:M.Z,playSwitchNext:F.Z}}},{key:"initIcons",value:function(){this.appendChild(".xgplayer-playswitch-prev",this.icons.playSwitchPrev),this.appendChild(".xgplayer-playswitch-next",this.icons.playSwitchNext),this.bind(".xgplayer-playswitch-prev","click",this.onClickBoardPrev),this.bind(".xgplayer-playswitch-next","click",this.onClickBoardNext),this.player.on("keyPlaySwitchPrev",this.onKeyBoardPrev),this.player.on("keyPlaySwitchNext",this.onKeyBoardNext)}},{key:"beforePlayerInit",value:function(){}},{key:"afterPlayerInit",value:function(){}},{key:"afterCreate",value:function(){var e;this.config.disable||(this.handleToggleComment(null===(e=this.config)||void 0===e?void 0:e.isCommentShow),this.player.on("toggleComment",this.handleToggleComment),this.initIcons())}},{key:"destroy",value:function(){this.unbind(".xgplayer-playswitch-prev","click",this.onClickBoardPrev),this.unbind(".xgplayer-playswitch-next","click",this.onClickBoardNext),this.player.off("keyPlaySwitchPrev",this.onKeyBoardPrev),this.player.off("keyPlaySwitchNext",this.onKeyBoardNext),this.player.off("toggleComment",this.handleToggleComment)}},{key:"render",value:function(){if(this.config.playNextFunc||this.config.playPrevFunc)return'\n    <div class="xgplayer-playswitch" data-state="normal">\n      <div class="xgplayer-icon">\n        <div class="xgplayer-playswitch-tab">\n          <div class="xgplayer-playswitch-prev '.concat(this.config.playPrevFunc?"":"disabled",'"></div>\n          <div class="xgplayer-playswitch-next ').concat(this.config.playNextFunc?"":"disabled",'"></div>\n        </div>\n      </div>\n    </div>')}}])&&H(t.prototype,n),r&&H(t,r),o}(w.ZP),X=n(4303),$=n(90062),Y={},ee={},te=n(38369),ne=n(24476),re=n(25580),ie=n(87241),oe=n(3391),ae=n(46245),se=n(77800),le=n(12767),ue=n(88308),ce=n(89571),de=n.n(ce),pe=n(62358),fe=n(3820),he=n(84865),me=n(39420),ye=JSON.parse('{"v":"5.7.1","fr":60,"ip":0,"op":91,"w":90,"h":90,"nm":"\u5408\u6210 1","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"\u5f62\u72b6\u56fe\u5c42 2","parent":2,"sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":80,"s":[100],"e":[0]},{"t":90}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.8,"y":0.66},"o":{"x":0.4,"y":0},"t":2,"s":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-13.5,0],[13.562,0]],"c":true}],"e":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-13.5,0],[13.562,0]],"c":true}]},{"i":{"x":0.6,"y":1},"o":{"x":0.2,"y":0.34},"t":7,"s":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-13.5,0],[13.562,0]],"c":true}],"e":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-7.224,-14.544],[10.21,2.806]],"c":true}]},{"t":13}],"ix":2},"nm":"\u8def\u5f84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":2,"s":[1,1,1,1],"e":[0.996078431606,0.172549024224,0.333333343267,1]},{"t":13}],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":6,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"\u63cf\u8fb9 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":90,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u5f62\u72b6 2","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.8,"y":0.68},"o":{"x":0.4,"y":0},"t":2,"s":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-13.5,0],[13.562,0]],"c":true}],"e":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-0.062,9.062],[0.021,-8.958]],"c":true}]},{"i":{"x":0.6,"y":1},"o":{"x":0.2,"y":0.32},"t":7,"s":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-0.062,9.062],[0.021,-8.958]],"c":true}],"e":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-2.81,10.208],[-12.518,0.573]],"c":true}]},{"t":13}],"ix":2},"nm":"\u8def\u5f84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":2,"s":[1,1,1,1],"e":[0.996078431606,0.172549024224,0.333333343267,1]},{"t":13}],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":6,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"\u63cf\u8fb9 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u5f62\u72b6 1","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":120,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"\u5f62\u72b6\u56fe\u5c42 1","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[1],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":19,"s":[100],"e":[100]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.4],"y":[0]},"t":80,"s":[100],"e":[0]},{"t":90}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[45,45,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.6,0.6,0.833],"y":[1,1,5.167]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,3.333]},"t":0,"s":[100,100,100],"e":[60,60,100]},{"i":{"x":[0.6,0.6,0.833],"y":[1,1,1]},"o":{"x":[0.4,0.4,0.167],"y":[0,0,5.682]},"t":2,"s":[60,60,100],"e":[115,115,100]},{"i":{"x":[0.6,0.6,0.833],"y":[1,1,1]},"o":{"x":[0.4,0.4,0.167],"y":[0,0,0]},"t":13,"s":[115,115,100],"e":[95,95,100]},{"i":{"x":[0.6,0.6,0.564],"y":[1,1,1]},"o":{"x":[0.314,0.314,0.206],"y":[0,0,0]},"t":19,"s":[95,95,100],"e":[100,100,100]},{"i":{"x":[1,1,0.839],"y":[1,1,1]},"o":{"x":[0.4,0.4,0.304],"y":[0,0,0]},"t":25,"s":[100,100,100],"e":[100,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,14.333]},"o":{"x":[0.4,0.4,0.167],"y":[0,0,-13.333]},"t":80,"s":[100,100,100],"e":[20,20,100]},{"t":90}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-19.882,0],[0,-19.882],[19.882,0],[0,19.882]],"o":[[19.882,0],[0,19.882],[-19.882,0],[0,-19.882]],"v":[[0,-36],[36,0],[0,36],[-36,0]],"c":true},"ix":2},"nm":"\u8def\u5f84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":2,"s":[0.996078431606,0.172549024224,0.333333343267,1],"e":[1,1,1,1]},{"t":13}],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u692d\u5706 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":120,"st":0,"bm":0}],"markers":[]}'),ge=JSON.parse('{"v":"5.7.1","fr":60,"ip":0,"op":11,"w":90,"h":90,"nm":"\u5408\u6210 2","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"\u5f62\u72b6\u56fe\u5c42 2","parent":2,"sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0],"e":[100]},{"t":10}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-13.5,0],[13.562,0]],"c":true},"ix":2},"nm":"\u8def\u5f84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":6,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"\u63cf\u8fb9 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":90,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u5f62\u72b6 2","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-13.5,0],[13.562,0]],"c":true},"ix":2},"nm":"\u8def\u5f84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":6,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"\u63cf\u8fb9 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u5f62\u72b6 1","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":120,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"\u5f62\u72b6\u56fe\u5c42 1","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.412],"y":[1]},"o":{"x":[0],"y":[0]},"t":0,"s":[0],"e":[100]},{"t":10}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[45,45,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.392,0.392,0.839],"y":[1,1,1]},"o":{"x":[0,0,0.167],"y":[0,0,13.333]},"t":0,"s":[20,20,100],"e":[100,100,100]},{"t":10}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-19.882,0],[0,-19.882],[19.882,0],[0,19.882]],"o":[[19.882,0],[0,19.882],[-19.882,0],[0,-19.882]],"v":[[0,-36],[36,0],[0,36],[-36,0]],"c":true},"ix":2},"nm":"\u8def\u5f84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.996078431606,0.172549024224,0.333333343267,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u692d\u5706 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":120,"st":0,"bm":0}],"markers":[]}'),ve="EZvpd3LC",_e="aYvjbNjP",ke="Wc7qWtKZ",be="S2bAyAbc",xe="e77euEaf",we="XxlKgVf6",Se="n9wHN830",Ie="xacfuWU3",Ee="_4i5khjQr",Pe="Cxyd4iV9",Te="H7-6xWyx",Ce="WXnpVl1W",Oe="wlvGQ1yU",Ae="_7AqVtuCI",Le="jqn0YOpr",Ne="i4-4Xpjc",De="XBjqEJ5i",Be="-MRzS3jP",Re="-nh5NSNn",je="dfYqH7Ds",Ve="-8OCKiw1",Me="fj+Ldnk1",Fe="aSFMf7i5",ze="BuMm0zyj",Ue="wJcrjpHD",He="TrD04he3",Ze="WXDEOo-T";function qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return We(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ge(e){var t,n=e.plugin,r=e.awemeInfo,i=void 0===r?{}:r,o=e.onChangeFollowStatus,a=e.followType,s=e.fullScreenTarget,l=e.followHandler,u=e.isFollowClickedRef,c=e.onAvatarClick,d=void 0===c?null:c,p=e.preventAvatarDefaultHandle,h=void 0!==p&&p,y=me.HC,g=(0,X.useRef)(!0),v=(0,X.useRef)(null),_=(0,X.useRef)(!1),k=qe((0,X.useState)(!1),2),b=k[0],w=k[1],S=qe((0,X.useState)(!0),2),I=S[0],E=S[1],P=null==i||null===(t=i.authorInfo)||void 0===t?void 0:t.avatarUri,T=i.groupId,C=(0,X.useRef)(null),O=(0,X.useRef)(null),A=function(){var e;return y(null==i||null===(e=i.authorInfo)||void 0===e?void 0:e.secUid,(0,f.stringify)({is_full_screen:m.r()?"1":"0",enter_method:"video_title",from_gid:T}))},L=qe((0,X.useState)(A()),2),N=L[0],D=L[1],B=function(){var e,t,n,r,i=null===(e=C.current)||void 0===e||null===(t=e.getLottieInstance)||void 0===t?void 0:t.call(e),o=null===(n=O.current)||void 0===n||null===(r=n.getLottieInstance)||void 0===r?void 0:r.call(n),a=function(){var e;null==i||null===(e=i.goToAndStop)||void 0===e||e.call(i,0),w(!1),E(!0)},s=function(){var e;null==o||null===(e=o.goToAndStop)||void 0===e||e.call(o,0),w(!0),E(!1)};return{follow:function(){var e;a(),null==i||null===(e=i.play)||void 0===e||e.call(i),_.current=!0,u.current=!1},unfollow:function(){var e;s(),null==o||null===(e=o.play)||void 0===e||e.call(o),_.current=!0,u.current=!1},followEnd:function(){a(),_.current=!1},unfollowEnd:function(){s(),_.current=!1},setFollowStatus:s,setUnFollowStatus:a}};(0,X.useEffect)((function(){if(g.current)return 0===a?B().setUnFollowStatus():B().setFollowStatus(),void(g.current=!1);u.current||(null==l?void 0:l.awemeId)===(null==i?void 0:i.awemeId)?1===a?B().follow():B().unfollow():u.current=!1}),[a]);return(0,X.useEffect)((function(){var e,t,r=function(){D(A())};return null==n||null===(e=n.player)||void 0===e||null===(t=e.on)||void 0===t||t.call(e,x.zW.FULLSCREEN_CHANGE,r),function(){var e,t;null==n||null===(e=n.player)||void 0===e||null===(t=e.off)||void 0===t||t.call(e,x.zW.FULLSCREEN_CHANGE,r)}}),[]),X.createElement("div",{className:we,ref:v},X.createElement(pe.a,{className:Ie,onClick:function(e){var t,r;null==d||d(e),!h&&(null==n||null===(t=n.player)||void 0===t||null===(r=t.pause)||void 0===r||r.call(t))},href:N,target:"_blank",rel:"noopener noreferrer"},X.createElement(fe.q,{src:P,type:"extraSmall"})),X.createElement("div",{onClick:function(){var e;(u.current=!0,_.current||b)||o(null==i||null===(e=i.authorInfo)||void 0===e?void 0:e.uid,m.r()&&s)}},X.createElement(he.Z,{hidden:b,onComplete:function(){return B().unfollowEnd()},className:Se,data:ye,ref:C,loop:!1,autoplay:!1}),X.createElement(he.Z,{hidden:I,onComplete:function(){return B().followEnd()},className:Se,data:ge,ref:O,loop:!1,autoplay:!1})))}var Je=n(53789),Qe=JSON.parse('{"v":"5.7.0","fr":60,"ip":0,"op":35,"w":72,"h":72,"nm":"like","ddd":0,"assets":[{"id":"comp_0","layers":[{"ddd":0,"ind":1,"ty":0,"nm":"home_tap_like","refId":"comp_1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[84,84,0],"ix":2},"a":{"a":0,"k":[840,840,0],"ix":1},"s":{"a":0,"k":[10,10,100],"ix":6}},"ao":0,"w":1680,"h":1680,"ip":0,"op":35,"st":0,"bm":0}]},{"id":"comp_1","layers":[{"ddd":0,"ind":1,"ty":0,"nm":"ic_home_like_after.png","cl":"png","refId":"comp_2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[840,840,0],"ix":2},"a":{"a":0,"k":[500,500,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":6,"s":[0,0,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":16,"s":[113,113,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":23,"s":[95,95,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":30,"s":[101,101,100]},{"t":34,"s":[100,100,100]}],"ix":6}},"ao":0,"w":1000,"h":1000,"ip":6,"op":35,"st":6,"bm":0},{"ddd":0,"ind":2,"ty":0,"nm":"ic_home_like_before.png","cl":"png","refId":"comp_3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[840,840,0],"ix":2},"a":{"a":0,"k":[500,500,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.65,0.65,0.65],"y":[1,1,1]},"o":{"x":[0.75,0.75,0.75],"y":[0,0,0]},"t":0,"s":[100,100,100]},{"t":6,"s":[0,0,100]}],"ix":6}},"ao":0,"w":1000,"h":1000,"ip":0,"op":6,"st":-60,"bm":0},{"ddd":0,"ind":3,"ty":0,"nm":"anim_like_explode_03","parent":4,"refId":"comp_4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0,-2.037,0],"ix":2},"a":{"a":0,"k":[60,60,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":120,"h":120,"ip":6,"op":35,"st":6,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Shape Layer 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[840,835,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[1307,1307,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":1,"k":[{"i":{"x":[0.25,0.25],"y":[1,1]},"o":{"x":[0.35,0.35],"y":[0,0]},"t":6,"s":[0,0]},{"t":21,"s":[100,100]}],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.996078431606,0.172549024224,0.333333343267,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":1,"k":[{"i":{"x":[0.25],"y":[1]},"o":{"x":[0.35],"y":[0]},"t":6,"s":[28]},{"t":21,"s":[0]}],"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"Ellipse 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":6,"op":22,"st":-60,"bm":0}]},{"id":"comp_2","layers":[{"ddd":0,"ind":1,"ty":4,"nm":"img_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[500,500,0],"ix":2},"a":{"a":0,"k":[445.5,408,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-55.905,-58.048],[-73.591,0],[0,-144.547],[0,-0.018],[-0.009,0.02],[0.052,-2.296],[-0.23,-0.5],[9.323,-33.19],[4.896,-12.387],[4.454,-11.761],[5.079,-7.681],[50.041,-50.178],[34.712,-28.617],[1.732,-1.731],[12.302,-0.008],[0.328,0],[12.618,12.618],[3.743,2.996],[80.844,83.003],[32.53,70.419],[0.731,33.342],[0.083,3.205],[0,4.16],[-140.219,0]],"o":[[40.738,-58.048],[140.152,0],[0,0.018],[0.009,-0.02],[0,4.121],[-0.072,3.151],[-0.531,30.403],[-5.29,5.96],[-7.724,11.998],[-4.545,7.629],[-37.449,56.8],[-78.331,79.025],[-9.585,7.901],[-12.301,12.303],[-0.324,0.004],[-25.236,0],[-0.963,-0.963],[-38.233,-28.183],[-61.676,-62.763],[-12.618,-25.237],[0.269,-0.267],[-0.061,-2.346],[0,-144.613],[73.458,0]],"v":[[453.036,88.712],[634.251,0],[890.972,266.137],[890.972,266.191],[891,266.131],[890.878,275.668],[891,280.916],[875.899,369.628],[860.798,399.199],[845.697,428.77],[831.245,451.744],[693.667,615.252],[500.832,788.675],[483.368,803.375],[446.463,815.994],[445.486,816],[395.014,790.763],[387.858,784.783],[182.742,604.783],[29.092,399.588],[0,280.922],[0.144,275.844],[0,266.137],[256.721,0]],"c":true},"ix":2},"nm":"\u8def\u5f84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.996078431373,0.172549019608,0.333333333333,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"img_0","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":2096,"st":0,"bm":0}]},{"id":"comp_3","layers":[{"ddd":0,"ind":1,"ty":4,"nm":"img_1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[500,500,0],"ix":2},"a":{"a":0,"k":[445.5,408,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-55.905,-58.048],[-73.591,0],[0,-144.547],[0,-0.018],[-0.009,0.02],[0.052,-2.296],[-0.23,-0.5],[9.323,-33.19],[4.896,-12.387],[4.454,-11.761],[5.079,-7.681],[50.041,-50.178],[34.712,-28.617],[1.732,-1.731],[12.302,-0.008],[0.328,0],[12.618,12.618],[3.743,2.996],[80.844,83.003],[32.53,70.419],[0.731,33.342],[0.083,3.205],[0,4.16],[-140.219,0]],"o":[[40.738,-58.048],[140.152,0],[0,0.018],[0.009,-0.02],[0,4.121],[-0.072,3.151],[-0.531,30.403],[-5.29,5.96],[-7.724,11.998],[-4.545,7.629],[-37.449,56.8],[-78.331,79.025],[-9.585,7.901],[-12.301,12.303],[-0.324,0.004],[-25.236,0],[-0.963,-0.963],[-38.233,-28.183],[-61.676,-62.763],[-12.618,-25.237],[0.269,-0.267],[-0.061,-2.346],[0,-144.613],[73.458,0]],"v":[[453.036,88.712],[634.251,0],[890.972,266.137],[890.972,266.191],[891,266.131],[890.878,275.668],[891,280.916],[875.899,369.628],[860.798,399.199],[845.697,428.77],[831.245,451.744],[693.667,615.252],[500.832,788.675],[483.368,803.375],[446.463,815.994],[445.486,816],[395.014,790.763],[387.858,784.783],[182.742,604.783],[29.092,399.588],[0,280.922],[0.144,275.844],[0,266.137],[256.721,0]],"c":true},"ix":2},"nm":"\u8def\u5f84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"img_1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":2087,"st":0,"bm":0}]},{"id":"comp_4","layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Shape Layer 6","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":300,"ix":10},"p":{"a":0,"k":[60,60,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.425,"y":1},"o":{"x":0.167,"y":0},"t":0,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-3.312,-0.125],[0.031,0],[3.875,0]],"c":true}]},{"i":{"x":0.667,"y":1},"o":{"x":0.602,"y":0},"t":6,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-3.469,-57.75],[0.031,0],[3.719,-57.625]],"c":true}]},{"t":14,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-2.656,-57.75],[0.062,-57.75],[2.719,-57.625]],"c":true}]}],"ix":2},"nm":"\u8def\u5f84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.984313726425,0.172549024224,0.329411774874,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":14,"st":-58,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Shape Layer 5","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":240,"ix":10},"p":{"a":0,"k":[60,60,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.425,"y":1},"o":{"x":0.167,"y":0},"t":0,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-3.312,-0.125],[0.031,0],[3.875,0]],"c":true}]},{"i":{"x":0.667,"y":1},"o":{"x":0.602,"y":0},"t":6,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-3.469,-57.75],[0.031,0],[3.719,-57.625]],"c":true}]},{"t":14,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-2.656,-57.75],[0.062,-57.75],[2.719,-57.625]],"c":true}]}],"ix":2},"nm":"\u8def\u5f84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.984313726425,0.172549024224,0.329411774874,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":14,"st":-58,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Shape Layer 4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":180,"ix":10},"p":{"a":0,"k":[60,60,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.425,"y":1},"o":{"x":0.167,"y":0},"t":0,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-3.312,-0.125],[0.031,0],[3.875,0]],"c":true}]},{"i":{"x":0.667,"y":1},"o":{"x":0.602,"y":0},"t":6,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-3.469,-57.75],[0.031,0],[3.719,-57.625]],"c":true}]},{"t":14,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-2.656,-57.75],[0.062,-57.75],[2.719,-57.625]],"c":true}]}],"ix":2},"nm":"\u8def\u5f84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.976470589638,0.176470592618,0.333333343267,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":14,"st":-58,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Shape Layer 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":120,"ix":10},"p":{"a":0,"k":[60,60,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.425,"y":1},"o":{"x":0.167,"y":0},"t":0,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-3.312,-0.125],[0.031,0],[3.875,0]],"c":true}]},{"i":{"x":0.667,"y":1},"o":{"x":0.602,"y":0},"t":6,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-3.469,-57.75],[0.031,0],[3.719,-57.625]],"c":true}]},{"t":14,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-2.656,-57.75],[0.062,-57.75],[2.719,-57.625]],"c":true}]}],"ix":2},"nm":"\u8def\u5f84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.992156863213,0.203921571374,0.364705890417,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":14,"st":-58,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Shape Layer 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":60,"ix":10},"p":{"a":0,"k":[60,60,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.425,"y":1},"o":{"x":0.167,"y":0},"t":0,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-3.312,-0.125],[0.031,0],[3.875,0]],"c":true}]},{"i":{"x":0.667,"y":1},"o":{"x":0.602,"y":0},"t":6,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-3.469,-57.75],[0.031,0],[3.719,-57.625]],"c":true}]},{"t":14,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-2.656,-57.75],[0.062,-57.75],[2.719,-57.625]],"c":true}]}],"ix":2},"nm":"\u8def\u5f84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.996078431606,0.184313729405,0.345098048449,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":14,"st":-58,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"Shape Layer 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[60,60,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.425,"y":1},"o":{"x":0.167,"y":0},"t":0,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-3.312,-0.125],[0.031,0],[3.875,0]],"c":true}]},{"i":{"x":0.667,"y":1},"o":{"x":0.602,"y":0},"t":6,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-3.469,-57.75],[0.031,0],[3.719,-57.625]],"c":true}]},{"t":14,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-2.656,-57.75],[0.062,-57.75],[2.719,-57.625]],"c":true}]}],"ix":2},"nm":"\u8def\u5f84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.984313726425,0.172549024224,0.329411774874,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":14,"st":-58,"bm":0}]}],"layers":[{"ddd":0,"ind":1,"ty":0,"nm":"JSON_home_like","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":90,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[36,36,0],"ix":2},"a":{"a":0,"k":[84,84,0],"ix":1},"s":{"a":0,"k":[51,51,100],"ix":6}},"ao":0,"w":168,"h":168,"ip":0,"op":35,"st":0,"bm":0}],"markers":[]}'),Ke=JSON.parse('{"v":"5.7.0","fr":60,"ip":0,"op":15,"w":72,"h":72,"nm":"dislike","ddd":0,"assets":[{"id":"comp_0","layers":[{"ddd":0,"ind":1,"ty":0,"nm":"home_like_cancle","refId":"comp_1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[840,840,0],"ix":2},"a":{"a":0,"k":[840,840,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":1680,"h":1680,"ip":0,"op":15,"st":0,"bm":0}]},{"id":"comp_1","layers":[{"ddd":0,"ind":1,"ty":0,"nm":"ic_home_like_after.png","cl":"png","refId":"comp_2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[840,840,0],"ix":2},"a":{"a":0,"k":[500,500,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.489,0.489,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":0,"s":[100,100,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.629,0.629,0.333],"y":[0,0,0]},"t":5,"s":[108,108,100]},{"t":15,"s":[0,0,100]}],"ix":6}},"ao":0,"w":1000,"h":1000,"ip":0,"op":15,"st":-54,"bm":0},{"ddd":0,"ind":2,"ty":0,"nm":"ic_home_like_before.png","cl":"png","refId":"comp_3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[840,840,0],"ix":2},"a":{"a":0,"k":[500,500,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":1000,"h":1000,"ip":5,"op":15,"st":-66,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Shape Layer 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[840,835,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[100,100],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.996078431606,0.172549024224,0.333333343267,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"Ellipse 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-38.60546875,"op":-38,"st":-120,"bm":0}]},{"id":"comp_2","layers":[{"ddd":0,"ind":1,"ty":4,"nm":"img_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[500,500,0],"ix":2},"a":{"a":0,"k":[445.5,408,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-55.905,-58.048],[-73.591,0],[0,-144.547],[0,-0.018],[-0.009,0.02],[0.052,-2.296],[-0.23,-0.5],[9.323,-33.19],[4.896,-12.387],[4.454,-11.761],[5.079,-7.681],[50.041,-50.178],[34.712,-28.617],[1.732,-1.731],[12.302,-0.008],[0.328,0],[12.618,12.618],[3.743,2.996],[80.844,83.003],[32.53,70.419],[0.731,33.342],[0.083,3.205],[0,4.16],[-140.219,0]],"o":[[40.738,-58.048],[140.152,0],[0,0.018],[0.009,-0.02],[0,4.121],[-0.072,3.151],[-0.531,30.403],[-5.29,5.96],[-7.724,11.998],[-4.545,7.629],[-37.449,56.8],[-78.331,79.025],[-9.585,7.901],[-12.301,12.303],[-0.324,0.004],[-25.236,0],[-0.963,-0.963],[-38.233,-28.183],[-61.676,-62.763],[-12.618,-25.237],[0.269,-0.267],[-0.061,-2.346],[0,-144.613],[73.458,0]],"v":[[453.036,88.712],[634.251,0],[890.972,266.137],[890.972,266.191],[891,266.131],[890.878,275.668],[891,280.916],[875.899,369.628],[860.798,399.199],[845.697,428.77],[831.245,451.744],[693.667,615.252],[500.832,788.675],[483.368,803.375],[446.463,815.994],[445.486,816],[395.014,790.763],[387.858,784.783],[182.742,604.783],[29.092,399.588],[0,280.922],[0.144,275.844],[0,266.137],[256.721,0]],"c":true},"ix":2},"nm":"\u8def\u5f84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.996078431373,0.172549019608,0.333333333333,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"img_0","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":2096,"st":0,"bm":0}]},{"id":"comp_3","layers":[{"ddd":0,"ind":1,"ty":4,"nm":"img_1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[500,500,0],"ix":2},"a":{"a":0,"k":[445.5,408,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-55.905,-58.048],[-73.591,0],[0,-144.547],[0,-0.018],[-0.009,0.02],[0.052,-2.296],[-0.23,-0.5],[9.323,-33.19],[4.896,-12.387],[4.454,-11.761],[5.079,-7.681],[50.041,-50.178],[34.712,-28.617],[1.732,-1.731],[12.302,-0.008],[0.328,0],[12.618,12.618],[3.743,2.996],[80.844,83.003],[32.53,70.419],[0.731,33.342],[0.083,3.205],[0,4.16],[-140.219,0]],"o":[[40.738,-58.048],[140.152,0],[0,0.018],[0.009,-0.02],[0,4.121],[-0.072,3.151],[-0.531,30.403],[-5.29,5.96],[-7.724,11.998],[-4.545,7.629],[-37.449,56.8],[-78.331,79.025],[-9.585,7.901],[-12.301,12.303],[-0.324,0.004],[-25.236,0],[-0.963,-0.963],[-38.233,-28.183],[-61.676,-62.763],[-12.618,-25.237],[0.269,-0.267],[-0.061,-2.346],[0,-144.613],[73.458,0]],"v":[[453.036,88.712],[634.251,0],[890.972,266.137],[890.972,266.191],[891,266.131],[890.878,275.668],[891,280.916],[875.899,369.628],[860.798,399.199],[845.697,428.77],[831.245,451.744],[693.667,615.252],[500.832,788.675],[483.368,803.375],[446.463,815.994],[445.486,816],[395.014,790.763],[387.858,784.783],[182.742,604.783],[29.092,399.588],[0,280.922],[0.144,275.844],[0,266.137],[256.721,0]],"c":true},"ix":2},"nm":"\u8def\u5f84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"img_1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":2087,"st":0,"bm":0}]}],"layers":[{"ddd":0,"ind":1,"ty":0,"nm":"JSON_home_Dislike","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":90,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[36,36,0],"ix":2},"a":{"a":0,"k":[840,840,0],"ix":1},"s":{"a":0,"k":[5.1,5.1,100],"ix":6}},"ao":0,"w":1680,"h":1680,"ip":0,"op":15,"st":0,"bm":0}],"markers":[]}');function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ye(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function et(e){var t,n,r=e.plugin,i=e.awemeInfo,o=e.isLogin,a=e.loginUserInfo,s=e.loginDispatch,l=e.fullScreenTarget,u=e.favoriteHandler,c=(0,X.useRef)(!0),d=(0,X.useRef)(null),p=(0,X.useRef)(!1),f=null==i?void 0:i.awemeId,h=Y[f],y=h?null==h||null===(t=h.stats)||void 0===t?void 0:t.diggCount:null==i||null===(n=i.stats)||void 0===n?void 0:n.diggCount,g=(0,X.useRef)(null),v=(0,X.useRef)(null),_=(0,X.useRef)(!1),k=$e((0,X.useState)(!1),2),b=k[0],x=k[1],w=$e((0,X.useState)(!1),2),S=w[0],I=w[1],E=$e((0,X.useState)(y),2),P=E[0],T=E[1],C=ue.qe,O=r.player,A=h?null==h?void 0:h.userDigged:null==i?void 0:i.userDigged,L=u||(0,Je.s)({userInfo:a,awemeInfo:i,userDigged:A,isLogin:o,hideSuccToast:!0,awemeId:null==i?void 0:i.awemeId,onLoginSuc:function(){return s({type:"updateUserInfo"})}}),N=L.favoriteStatus,D=L.onChangeFavoriteStatus,B=L.changeStatus,R=function(e){p.current||(_.current=!0,D(null==i?void 0:i.awemeId,m.r()&&l,e))},j=function(){var e,t,n,r,i=null===(e=g.current)||void 0===e||null===(t=e.getLottieInstance)||void 0===t?void 0:t.call(e),o=null===(n=v.current)||void 0===n||null===(r=n.getLottieInstance)||void 0===r?void 0:r.call(n),a=function(){var e;x(!0),I(!1),null==i||null===(e=i.goToAndPlay)||void 0===e||e.call(i,1e4)},s=function(){var e;x(!0),I(!1),null==i||null===(e=i.goToAndStop)||void 0===e||e.call(i,0)};return{setLikedStatus:a,setUnLikedStatus:s,likeEnd:function(){p.current=!1},dislikeEnd:function(){p.current=!1,N?a():s()},like:function(){var e;p.current=!0,T(P+1),_.current=!1,null==i||null===(e=i.goToAndPlay)||void 0===e||e.call(i,0)},dislike:function(){var e;p.current=!0,P>0&&T(P-1),x(!1),I(!0),_.current=!1,null==o||null===(e=o.goToAndPlay)||void 0===e||e.call(o,0)}}};(0,X.useEffect)((function(){B(A,o,null==i?void 0:i.awemeId)}),[o]),(0,X.useEffect)((function(){var e=function(e){var t=e.clickMethod;R(t)};return O.on("onStar",e),function(){O.off("onStar",e)}}),[]),(0,X.useEffect)((function(){if(c.current)return A?j().setLikedStatus():j().setUnLikedStatus(),void(c.current=!1);_.current||(null==u?void 0:u.awemeId)===f?N?j().like():j().dislike():_.current=!1}),[N]),(0,X.useEffect)((function(){if(Y[f])return Y[f].userDigged=N,Y[f].stats.diggCount=P,Y[f].userDigged=N;Y[f]=i}),[N,P]);return X.createElement("div",{className:de()(Pe,_e,Xe({},Te,N)),onClick:function(){R()},ref:d},X.createElement("div",{className:Ce},X.createElement(he.Z,{hidden:!S,ref:v,className:Oe,data:Ke,loop:!1,autoplay:!1,onComplete:function(){j().dislikeEnd()}}),X.createElement(he.Z,{hidden:!b,ref:g,className:ke,data:Qe,loop:!1,autoplay:!1,onComplete:function(){j().likeEnd()}})),X.createElement(bt,{className:ze,count:C(P)}))}var tt=JSON.parse('{"v":"5.7.0","fr":60,"ip":0,"op":31,"w":198,"h":198,"nm":"\u64ad\u653e\u5668 \u6536\u85cf 40 - \u5de5\u7a0b\u7528 3x","ddd":0,"assets":[{"id":"comp_0","layers":[{"ddd":0,"ind":1,"ty":4,"nm":"c06","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":300,"ix":10},"p":{"a":0,"k":[500,500,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":1,"k":[{"i":{"x":[0.2,0.2],"y":[1,1]},"o":{"x":[0.4,0.4],"y":[0,0]},"t":11,"s":[50,50]},{"t":29,"s":[0,0]}],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"\u692d\u5706\u8def\u5f84 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"\u63cf\u8fb9 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.721568644047,0.007843137719,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0.5,-324.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u692d\u5706 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":200,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"c05","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":240,"ix":10},"p":{"a":0,"k":[500,500,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":1,"k":[{"i":{"x":[0.2,0.2],"y":[1,1]},"o":{"x":[0.4,0.4],"y":[0,0]},"t":11,"s":[50,50]},{"t":29,"s":[0,0]}],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"\u692d\u5706\u8def\u5f84 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"\u63cf\u8fb9 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.980392158031,0.807843148708,0.082352943718,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0.5,-324.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u692d\u5706 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":200,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"c04","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":180,"ix":10},"p":{"a":0,"k":[500,500,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":1,"k":[{"i":{"x":[0.2,0.2],"y":[1,1]},"o":{"x":[0.4,0.4],"y":[0,0]},"t":11,"s":[50,50]},{"t":29,"s":[0,0]}],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"\u692d\u5706\u8def\u5f84 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"\u63cf\u8fb9 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.721568644047,0.007843137719,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0.5,-324.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u692d\u5706 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":200,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"c03","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":120,"ix":10},"p":{"a":0,"k":[500,500,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":1,"k":[{"i":{"x":[0.2,0.2],"y":[1,1]},"o":{"x":[0.4,0.4],"y":[0,0]},"t":11,"s":[50,50]},{"t":29,"s":[0,0]}],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"\u692d\u5706\u8def\u5f84 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"\u63cf\u8fb9 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.980392158031,0.807843148708,0.082352943718,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0.5,-324.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u692d\u5706 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":200,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"c02","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":60,"ix":10},"p":{"a":0,"k":[500,500,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":1,"k":[{"i":{"x":[0.2,0.2],"y":[1,1]},"o":{"x":[0.4,0.4],"y":[0,0]},"t":11,"s":[50,50]},{"t":29,"s":[0,0]}],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"\u692d\u5706\u8def\u5f84 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"\u63cf\u8fb9 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.721568644047,0.007843137719,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0.5,-324.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u692d\u5706 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":200,"st":0,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"c01","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[500,500,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":1,"k":[{"i":{"x":[0.2,0.2],"y":[1,1]},"o":{"x":[0.4,0.4],"y":[0,0]},"t":11,"s":[50,50]},{"t":29,"s":[0,0]}],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"\u692d\u5706\u8def\u5f84 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"\u63cf\u8fb9 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.980392158031,0.807843148708,0.082352943718,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0.5,-324.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u692d\u5706 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":200,"st":0,"bm":0}]},{"id":"comp_1","layers":[{"ddd":0,"ind":1,"ty":4,"nm":"collect_active@3x","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[60,60,0],"ix":2},"a":{"a":0,"k":[50,48,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-2.147,-5.756],[0,0],[0,0],[4.797,-3.826],[0,0],[0,0],[5.112,3.392],[0,0],[0,0],[-1.638,5.922],[0,0],[0,0],[-6.124,0.268],[0,0]],"o":[[2.147,-5.756],[0,0],[0,0],[6.124,0.268],[0,0],[0,0],[1.638,5.922],[0,0],[0,0],[-5.112,3.392],[0,0],[0,0],[-4.797,-3.826],[0,0],[0,0]],"v":[[43.792,4.317],[56.208,4.317],[65.927,30.375],[93.651,31.59],[97.488,43.428],[75.771,60.747],[83.186,87.556],[73.141,94.872],[50,79.518],[26.859,94.872],[16.814,87.556],[24.229,60.747],[2.512,43.428],[6.349,31.59],[34.073,30.375]],"c":true},"ix":2},"nm":"\u8def\u5f84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.721568627451,0.007843137255,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"collect_active@3x","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3600,"st":0,"bm":0}]},{"id":"comp_2","layers":[{"ddd":0,"ind":1,"ty":4,"nm":"collect@3x","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[60,60,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"rc","d":1,"s":{"a":0,"k":[100,96],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"\u77e9\u5f62\u8def\u5f84 1","mn":"ADBE Vector Shape - Rect","hd":false}],"ip":0,"op":3600,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"\u8def\u5f84 2","parent":1,"sr":1,"ks":{"o":{"a":0,"k":70,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0,16.86,0],"ix":2},"a":{"a":0,"k":[50,31.14,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.231,0.248],[-3.283,-2.618],[0,0],[0,0],[0,0]],"o":[[-2.378,2.636],[0,0],[0,0],[0,0],[-0.28,-0.223]],"v":[[1.746,0],[2.512,9.708],[22.19,25.401],[24.229,18.027],[2.512,0.708]],"c":true},"ix":2},"nm":"\u8def\u5f84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[1.923,2.71],[0,0],[-5.112,3.392],[0,0],[0,0],[1.638,5.922],[0,0],[3.287,2.181],[0,0],[0,0]],"o":[[0,0],[-1.638,5.922],[0,0],[0,0],[5.112,3.392],[0,0],[-1.923,2.71],[0,0],[0,0],[-3.287,2.181]],"v":[[17.758,50.423],[16.814,53.836],[26.859,61.152],[50,45.798],[73.141,61.152],[83.186,53.836],[82.242,50.423],[73.141,52.152],[50,36.798],[26.859,52.152]],"c":true},"ix":2},"nm":"\u8def\u5f84 2","mn":"ADBE Vector Shape - Group","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[2.378,2.636],[0.28,-0.223],[0,0]],"o":[[0,0],[3.283,-2.618],[-0.231,0.248],[0,0],[0,0]],"v":[[77.81,25.401],[97.488,9.708],[98.254,0],[97.488,0.708],[75.771,18.027]],"c":true},"ix":2},"nm":"\u8def\u5f84 3","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.945098039216,0.945098039216,0.945098039216,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u8def\u5f84 2","np":5,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3600,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"\u8def\u5f84 1","parent":1,"sr":1,"ks":{"o":{"a":0,"k":90,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2},"a":{"a":0,"k":[50,48,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-2.147,-5.756],[0,0],[0,0],[4.797,-3.826],[0,0],[0,0],[5.112,3.392],[0,0],[0,0],[-1.638,5.922],[0,0],[0,0],[-6.124,0.268],[0,0]],"o":[[2.147,-5.756],[0,0],[0,0],[6.124,0.268],[0,0],[0,0],[1.638,5.922],[0,0],[0,0],[-5.112,3.392],[0,0],[0,0],[-4.797,-3.826],[0,0],[0,0]],"v":[[43.792,4.317],[56.208,4.317],[65.927,30.375],[93.651,31.59],[97.488,43.428],[75.771,60.747],[83.186,87.556],[73.141,94.872],[50,79.518],[26.859,94.872],[16.814,87.556],[24.229,60.747],[2.512,43.428],[6.349,31.59],[34.073,30.375]],"c":true},"ix":2},"nm":"\u8def\u5f84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\u586b\u5145 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"\u8def\u5f84 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3600,"st":0,"bm":0}]}],"layers":[{"ddd":0,"ind":1,"ty":0,"nm":"\u5927\u5706","parent":2,"refId":"comp_0","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":4,"s":[0]},{"t":6,"s":[100]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0.311,0.148,0],"ix":2},"a":{"a":0,"k":[500,500,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.2,0.2,0.2],"y":[1,1,1]},"o":{"x":[0.4,0.4,0.4],"y":[0,0,0]},"t":4,"s":[6,6,100]},{"t":20,"s":[28,28,100]}],"ix":6}},"ao":0,"w":1000,"h":1000,"ip":4,"op":204,"st":4,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Shape Layer","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[99,99,0],"ix":2},"a":{"a":0,"k":[0.311,0.148,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":1,"k":[{"i":{"x":[0.25,0.25],"y":[1,1]},"o":{"x":[0.35,0.35],"y":[0,0]},"t":4,"s":[0,0]},{"t":21,"s":[160,160]}],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":4,"s":[1,0.355514705181,0,1]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":10,"s":[1,0.721568644047,0.007843137719,1]},{"t":21,"s":[0.892095565796,1,0,1]}],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":1,"k":[{"i":{"x":[0.25],"y":[1]},"o":{"x":[0.35],"y":[0]},"t":4,"s":[20]},{"t":21,"s":[0]}],"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0.311,0.148],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":4,"s":[0]},{"t":6,"s":[100]}],"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53d8\u6362"}],"nm":"Ellipse 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":27,"st":-60,"bm":0},{"ddd":0,"ind":3,"ty":0,"nm":"collect_active@3x","refId":"comp_1","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":45,"s":[100]},{"t":50,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[99,99,0],"ix":2},"a":{"a":0,"k":[60,60,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":6,"s":[0,0,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":16,"s":[114,114,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":23,"s":[95,95,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":30,"s":[102,102,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":34,"s":[100,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":35,"s":[100,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":40,"s":[108,108,100]},{"t":50,"s":[0,0,100]}],"ix":6}},"ao":0,"w":120,"h":120,"ip":6,"op":3606,"st":6,"bm":0},{"ddd":0,"ind":4,"ty":0,"nm":"collect@3x","refId":"comp_2","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":6,"s":[100]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":7,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":34,"s":[0]},{"t":35,"s":[100]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[99,99,0],"ix":2},"a":{"a":0,"k":[60,60,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":0,"s":[100,100,100]},{"i":{"x":[0.661,0.661,0.661],"y":[0.992,0.992,1]},"o":{"x":[0.328,0.328,0.328],"y":[0,0,0]},"t":6,"s":[0,0,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.345,0.345,0.345],"y":[6.539,6.539,0]},"t":7,"s":[30,30,100]},{"i":{"x":[0.659,0.659,0.659],"y":[0.728,0.728,1]},"o":{"x":[0.157,0.157,0.157],"y":[0,0,0]},"t":34,"s":[30,30,100]},{"i":{"x":[0.799,0.799,0.799],"y":[1,1,1]},"o":{"x":[0.437,0.437,0.437],"y":[-1.837,-1.837,0]},"t":48,"s":[104,104,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":54,"s":[98,98,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":57,"s":[102,102,100]},{"t":60,"s":[100,100,100]}],"ix":6}},"ao":0,"w":120,"h":120,"ip":0,"op":3600,"st":0,"bm":0}],"markers":[]}'),nt=new u.hD({clickCommentButton:{eventName:"click_comment_button",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",is_full_screen:"0",tab_name:""}},clickPreviousVideo:{eventName:"click_previous_video",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",click_from:"click_button"}},clickNextVideo:{eventName:"click_next_video",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",click_from:"click_button"}},dislike:{eventName:"dislike",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",enter_method:"",is_full_screen:"0",tab_name:""}},report:{eventName:"report",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",enter_method:"",is_full_screen:"0"}},follow:{eventName:"follow",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",is_full_screen:"0",tab_name:""}},followCancel:{eventName:"follow_cancel",params:{author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",is_full_screen:"0",tab_name:""}},clickFavoriteVideo:{eventName:"click_favorite_video",params:{click_from:"icon",previous_page:"",author_id:"",group_id:"",log_pb:"",enter_from:"",is_fullscreen:"0"}},clickCancelFavoriteVideo:{eventName:"click_cancel_favorite_video",params:{click_from:"icon",previous_page:"",author_id:"",group_id:"",log_pb:"",enter_from:"",is_fullscreen:"0"}}});function rt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return it(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return it(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ot(e){e.plugin;var t,n=e.awemeInfo,r=e.awemelogPb,i=e.isLogin,o=(e.loginUserInfo,e.loginDispatch,e.fullScreenTarget),s=e.collectHandler,l=(e.toast,(0,X.useRef)(!0)),u=(0,X.useRef)(null),c=(0,X.useRef)(!1),d=(0,X.useRef)(!1),p=(0,X.useRef)(n),f=(0,X.useRef)(null),h=null==n?void 0:n.awemeId,y=(Y[h],null==n?void 0:n.userCollected),g=null==n||null===(t=n.stats)||void 0===t?void 0:t.collectCount,v=rt((0,X.useState)(g),2),_=v[0],k=v[1],b=ue.qe,x=s||{},w=x.collectStatus,S=x.onChangeCollectStatus,I=(x.changeStatus,x.changeLoginStatus),E=function(){var e,t,n=null===(e=f.current)||void 0===e||null===(t=e.getLottieInstance)||void 0===t?void 0:t.call(e),r=function(){var e,t;null==n||null===(e=n.setDirection)||void 0===e||e.call(n,1),null==n||null===(t=n.play)||void 0===t||t.call(n)};return{playLottie:r,toLottieStart:function(){var e;null==n||null===(e=n.goToAndStop)||void 0===e||e.call(n,0)},toLottieEnd:function(){var e;null==n||null===(e=n.goToAndPlay)||void 0===e||e.call(n,1e4)},addCollect:function(){c.current=!0,k((function(e){return e+1})),d.current=!1,r()},cancelCollect:function(){var e;c.current=!0,_>0&&k((function(e){return e-1})),d.current=!1,null==n||null===(e=n.goToAndStop)||void 0===e||e.call(n,0),P()}}},P=function(){c.current=!1};return(0,X.useEffect)((function(){null==I||I(i)}),[i,I]),(0,X.useEffect)((function(){if(l.current)return y?E().toLottieEnd():E().toLottieStart(),void(l.current=!1);d.current||(null==s?void 0:s.awemeId)===h?w?E().addCollect():E().cancelCollect():d.current=!1}),[w]),(0,X.useEffect)((function(){if(Y[h])return Y[h].userCollected=w,Y[h].stats.collectCount=_,Y[h].userCollected=w;Y[h]=n}),[w,_]),X.createElement("div",{className:de()(Ae,_e),onClick:function(){var e,t,i;c.current||(d.current=!0,w?nt.sendLog("clickCancelFavoriteVideo",{click_from:"icon",urlParamList:["previous_page"],author_id:null==n||null===(e=n.authorInfo)||void 0===e?void 0:e.uid,group_id:null==n?void 0:n.groupId,log_pb:r,enter_from:a.mo(),is_fullscreen:m.r()?"1":"0"}):nt.sendLog("clickFavoriteVideo",{click_from:"icon",urlParamList:["previous_page"],author_id:null==n||null===(t=n.authorInfo)||void 0===t?void 0:t.uid,group_id:null==n?void 0:n.groupId,log_pb:r,enter_from:a.mo(),is_fullscreen:m.r()?"1":"0"}),S(null===(i=p.current)||void 0===i?void 0:i.awemeId,m.r()&&o))},ref:u},X.createElement("div",{className:Ce},X.createElement(he.Z,{ref:f,className:Le,data:tt,loop:!1,autoplay:!1,rendererSettings:{viewBoxSize:"25 25 148 153"},onComplete:P})),X.createElement(bt,{className:ze,count:b(_)}))}var at,st=n(23599),lt=n(16376),ut=n(36979),ct=n(59929),dt=n(3105),pt=n(35774),ft=n(42863);function ht(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,i)}function mt(e){var t=e.awemeInfo,n=e.onChangeFollowStatus,r=e.followType,i=e.deleteCurrentSwiper,o=e.singleBox,s=e.setSingleBox,l=e.logInfo,u=(e.plugin,e.fullScreenTarget),c=e.isFollowClickedRef,d=e.toast,p=e.autoPlayOptimize,h=e.awemeId,y=(0,ae.P)({delayDisappear:50,delayShow:50}),v=y.type,_=y.changeType,k=(0,X.useRef)(null),b=function(){var e;(c.current=!0,1===r)&&(n(null==t||null===(e=t.authorInfo)||void 0===e?void 0:e.uid,m.r()&&u),_("",!0))},x=function(){var e,n=(e=regeneratorRuntime.mark((function e(){var n,r,o,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dt.w(null==t?void 0:t.awemeId);case 2:n=e.sent,r=n.statusCode,o=n.errMsg,0===r?(d("\u64cd\u4f5c\u6210\u529f\uff0c\u5c06\u51cf\u5c11\u6b64\u7c7b\u89c6\u9891\u51fa\u73b0"),nt.sendLog("dislike",{urlParamList:["previous_page"],enter_from:a.mo(),author_id:null==t||null===(s=t.authorInfo)||void 0===s?void 0:s.uid,group_id:null==t?void 0:t.groupId,log_pb:null==l?void 0:l.log_pb,is_full_screen:m.r()?"1":"0",tab_name:g.getTabName()||(0,f.parse)(null===(u=location)||void 0===u?void 0:u.search).tab_name||""}),i()):d(o),_("",!0);case 7:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ht(o,r,i,a,s,"next",e)}function s(e){ht(o,r,i,a,s,"throw",e)}a(undefined)}))});return function(){return n.apply(this,arguments)}}(),w=function(){var e;if(p){pt.emit(pt.EVENT.videoStopPlayNext);(0,ft.m)({title:"\u4e3e\u62a5\u89c6\u9891",type:"video",object_id:null==t?void 0:t.awemeId,onClose:function(){(null==t?void 0:t.awemeId)===(null==h?void 0:h.current)&&pt.emit(pt.EVENT.videoRemoveStopPlayNext)}})}else(0,ft.m)({title:"\u4e3e\u62a5\u89c6\u9891",type:"video",object_id:null==t?void 0:t.awemeId});_(""),nt.sendLog("report",{urlParamList:["previous_page"],enter_from:a.mo(),author_id:null==t||null===(e=t.authorInfo)||void 0===e?void 0:e.uid,group_id:null==t?void 0:t.groupId,log_pb:null==l?void 0:l.log_pb,is_full_screen:m.r()?"1":"0"})};(0,X.useEffect)((function(){"more"!==o&&_("",!0)}),[o]);var S=(0,X.useMemo)((function(){var e,t,n;return[{icon:ut.Z,desc:"\u4e0d\u611f\u5174\u8da3",key:"notInterestingIcon",onClick:x,hidden:"undefined"!=typeof window&&-1!==(null===(e=window)||void 0===e||null===(t=e.location)||void 0===t||null===(n=t.pathname)||void 0===n?void 0:n.indexOf("/video"))},{icon:lt.Z,desc:"\u53d6\u6d88\u5173\u6ce8",key:"unfollow",onClick:b,hidden:0===r},{icon:ct.Z,desc:"\u4e3e\u62a5",key:"report",onClick:w}].filter((function(e){return!e.hidden}))}),[r]);return X.createElement("div",{className:de()(Be),onMouseEnter:function(){s("more"),_("more")},onMouseLeave:function(){_("")},ref:k},X.createElement(re.Z,{src:st.Z,viewBox:"0 0 36 36",height:36,width:36}),X.createElement("div",{className:Re,style:{display:"more"!==v?"none":"flex"},onMouseEnter:function(){_("more")},onMouseLeave:function(){_("",!0)}},S.map((function(e){return X.createElement("div",{key:e.key,className:je,onClick:e.onClick},X.createElement("div",{className:Ve},X.createElement(re.Z,{src:e.icon,height:36,width:36,viewBox:"0 0 36 36"})),X.createElement("div",{className:Me},e.desc))}))))}function yt(){return X.createElement("div",{className:de()(De,_e)},X.createElement(bt,{type:"share"}),X.createElement("div",{className:xe},"\u5206\u4eab"))}function gt(){return gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gt.apply(this,arguments)}var vt=function(e){return X.createElement("svg",gt({width:4,height:18,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),at||(at=X.createElement("path",{d:"M0 .905A8 8 0 002.168 6.38l1.174 1.25a2 2 0 010 2.738l-1.174 1.25A8 8 0 000 17.095V.905z",fill:"#323442"})))};function _t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bt=function(e){var t=e.count,n=e.type,r=e.className,i=e.textClassName,o={comment:te.Z,share:ne.Z};return X.createElement(X.Fragment,null,X.createElement("div",{className:de()(Fe,r)},n&&X.createElement(re.Z,{src:o[n],viewBox:"0 0 36 36",height:36,width:36})),Boolean(t)&&X.createElement("div",{className:de()(be,i)},t))};function xt(e){var t,n,r,i,o,s,l=e.toggleComment,u=e.awemeInfo,c=e.logInfo,d=e.isLogin,p=e.loginUserInfo,h=e.loginDispatch,y=e.deleteCurrentSwiper,v=e.plugin,_=e.favoriteHandler,k=e.collectHandler,b=e.fullScreenTarget,x=e.followHandler,w=e.onAvatarClick,S=void 0===w?null:w,I=e.videoToast,E=void 0===I?function(e){return ie.F.info(e)}:I,P=e.abtestData,T=e.autoPlayOptimize,C=e.awemeId,O=ue.qe,A=(0,X.useRef)(!1),L=null==u||null===(t=u.stats)||void 0===t?void 0:t.commentCount,N=null==u||null===(n=u.authorInfo)||void 0===n?void 0:n.uid,D=ee[N],B=D?null==D||null===(r=D.authorInfo)||void 0===r?void 0:r.followStatus:null==u||null===(i=u.authorInfo)||void 0===i?void 0:i.followStatus,R=D?null==D||null===(o=D.authorInfo)||void 0===o?void 0:o.followerStatus:null==u||null===(s=u.authorInfo)||void 0===s?void 0:s.followerStatus,j=x||(0,oe.n)({followStatus:B,followerStatus:R,isLogin:d,hideSuccToast:!0,useCustomLog:!0,onSuccFollow:function(e){var t,n;nt.sendLog("follow",{urlParamList:["previous_page"],author_id:null==u||null===(t=u.authorInfo)||void 0===t?void 0:t.uid,group_id:null==u?void 0:u.groupId,log_pb:e,enter_from:a.mo(),is_full_screen:m.r()?"1":"0",tab_name:g.getTabName()||(0,f.parse)(null===(n=location)||void 0===n?void 0:n.search).tab_name||""})},onSuccUnFollow:function(e){var t,n,r;v.player.emit("unfollow",null==u||null===(t=u.authorInfo)||void 0===t?void 0:t.uid),nt.sendLog("followCancel",{urlParamList:["previous_page"],author_id:null==u||null===(n=u.authorInfo)||void 0===n?void 0:n.uid,group_id:null==u?void 0:u.groupId,log_pb:e,enter_from:a.mo(),is_full_screen:m.r()?"1":"0",tab_name:g.getTabName()||(0,f.parse)(null===(r=location)||void 0===r?void 0:r.search).tab_name||""})},onLoginSuc:function(){return h({type:"updateUserInfo"})}}),V=j.text,M=j.type,F=j.changeStatus,z=j.onChangeFollowStatus,U=_t((0,X.useState)(""),2),H=U[0],Z=U[1],q=_t((0,X.useState)(L),2),W=q[0],G=q[1];(0,X.useEffect)((function(){var e,t=function(e){G(e)};return null===(e=v.player)||void 0===e||e.on("updateCommentCount",t),function(){var e;null===(e=v.player)||void 0===e||e.off("updateCommentCount",t)}}),[]),(0,X.useEffect)((function(){var e;F(B,d,R,null==u||null===(e=u.authorInfo)||void 0===e?void 0:e.uid)}),[d]),(0,X.useEffect)((function(){ee[N]?ee[N].authorInfo.followStatus=M:ee[N]=u}),[M]);var J=(0,ae.P)({delayDisappear:50,delayShow:50}),Q=J.type,K=J.changeType,$=c.log_pb;return(0,X.useEffect)((function(){"share_btn"!==H&&K("",!0)}),[H]),X.createElement(X.Fragment,null,X.createElement("div",{className:ve},X.createElement(Ge,{plugin:v,statusText:V,followType:M,followHandler:x,onChangeFollowStatus:z,awemeInfo:u,isLogin:d,loginDispatch:h,fullScreenTarget:b,isFollowClickedRef:A,onAvatarClick:S}),X.createElement(se.Z,{player:null==v?void 0:v.player,awemeInfo:u,tipClassName:He,content:X.createElement(X.Fragment,null,"\u300c\u53cc\u51fb\u5de6\u952e\u300d\u6216\u300c\u53cc\u51fb\u7a7a\u683c\u300d\u5373\u53ef\u70b9\u8d5e",X.createElement(re.Z,{width:4,height:18,src:vt,className:Ze,viewBox:"0 0 4 18"}))},X.createElement(et,{plugin:v,awemeInfo:u,isLogin:d,loginUserInfo:p,loginDispatch:h,favoriteHandler:_,fullScreenTarget:b})),X.createElement("div",{className:de()(Ee,_e),onClick:function(){var e,t;l(),nt.sendLog("clickCommentButton",{urlParamList:["previous_page"],enter_from:a.mo(),author_id:null==u||null===(e=u.authorInfo)||void 0===e?void 0:e.uid,group_id:null==u?void 0:u.groupId,log_pb:null==c?void 0:c.log_pb,is_full_screen:m.r()?"1":"0",tab_name:g.getTabName()||(0,f.parse)(null===(t=location)||void 0===t?void 0:t.search).tab_name||""})}},X.createElement(bt,{count:O(W||0),type:"comment"})),1==(null==P?void 0:P.collection)&&X.createElement(ot,{plugin:v,awemelogPb:$,awemeInfo:u,isLogin:d,loginUserInfo:p,loginDispatch:h,collectHandler:k,fullScreenTarget:b,toast:E}),X.createElement("div",{className:Ne,onMouseEnter:function(){Z("share_btn"),K("share_btn")},onMouseLeave:function(){K("")}},X.createElement(yt,null),X.createElement(le.Z,{toast:E,awemelogPb:$,awemeInfo:u,className:Ue,isLogin:d,fullScreenTarget:b,loginDispatch:h,hidden:"share_btn"!==Q,autoPlayOptimize:T,onMouseEnter:function(){K("share_btn")},onMouseLeave:function(){K("",!0)},abtestData:P})),X.createElement(mt,{singleBox:H,setSingleBox:Z,followType:M,onChangeFollowStatus:z,awemeInfo:u,isLogin:d,logInfo:c,loginDispatch:h,deleteCurrentSwiper:y,plugin:v,fullScreenTarget:b,isFollowClickedRef:A,toast:E,autoPlayOptimize:T,awemeId:C})))}function wt(e){return wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wt(e)}function St(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Et(e,t){return Et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Et(e,t)}function Pt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ot(e);if(t){var i=Ot(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Tt(this,n)}}function Tt(e,t){if(t&&("object"===wt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ct(e)}function Ct(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ot(e){return Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ot(e)}function At(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Et(e,t)}(o,e);var t,n,r,i=Pt(o);function o(){var e;St(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return At(Ct(e=i.call.apply(i,[this].concat(n))),"renderRoot",(function(){var t=e.config,n=t.toggleComment,r=t.isCommentShow,i=t.awemeInfo,o=t.logInfo,a=t.isLogin,s=t.loginDispatch,l=t.loginUserInfo,u=t.deleteCurrentSwiper,c=t.favoriteHandler,d=t.fullScreenTarget,p=t.followHandler,f=t.collectHandler,h=t.onAvatarClick,m=t.videoToast,y=t.abtestData,g=t.autoPlayOptimize,v=t.awemeId,_=null==i?void 0:i.awemeId;Y[_]||(Y[_]=i),$.hydrate(X.createElement(xt,{toggleComment:n,isCommentShow:r,awemeInfo:i,logInfo:o,isLogin:a,loginDispatch:s,loginUserInfo:l,deleteCurrentSwiper:u,favoriteHandler:c,plugin:Ct(e),fullScreenTarget:d,followHandler:p,collectHandler:f,onAvatarClick:h,videoToast:m,abtestData:y,autoPlayOptimize:g,awemeId:v}),e.root,(function(){})),e.handleToggleComment(r)})),At(Ct(e),"handleLoginUpdate",(function(t){e.config.isLogin=t,e.renderRoot()})),At(Ct(e),"handleToggleComment",(function(t){var n,r;(e.isShow=t,t)?null===(n=Ct(e))||void 0===n||n.hide():null===(r=Ct(e))||void 0===r||r.show()})),At(Ct(e),"handleToggleDigg",(function(t){e.config.favoriteHandler=t,e.renderRoot()})),At(Ct(e),"handleToggleFollow",(function(t){e.config.followHandler=t,e.root&&e.renderRoot()})),At(Ct(e),"handleToggleCollect",(function(t){e.config.collectHandler=t,e.renderRoot()})),At(Ct(e),"hide",(function(){e.root.style.display="none"})),At(Ct(e),"show",(function(){return e.root.style.display="block",""})),e}return t=o,r=[{key:"pluginName",get:function(){return"VideoInteraction"}},{key:"defaultConfig",get:function(){return{position:x.kd.ROOT_RIGHT,index:2,className:"xgplayer-video-interaction"}}}],(n=[{key:"beforePlayerInit",value:function(){}},{key:"afterPlayerInit",value:function(){}},{key:"afterCreate",value:function(){this.renderRoot(),this.player.on("toggleComment",this.handleToggleComment),this.player.on("toggleLogin",this.handleLoginUpdate),this.player.on("toggleDigg",this.handleToggleDigg),this.player.on("toggleFollow",this.handleToggleFollow),this.player.on("toggleCollect",this.handleToggleCollect)}},{key:"destroy",value:function(){this.player.off("toggleComment",this.handleToggleComment),this.player.off("toggleLogin",this.handleLoginUpdate),this.player.off("toggleDigg",this.handleToggleDigg),this.player.off("toggleCollect",this.handleToggleCollect),$.unmountComponentAtNode(this.root)}},{key:"render",value:function(){return'\n    <div class="xgplayer-video-interaction-wrap"  data-state="normal">\n    </div>'}}])&&It(t.prototype,n),r&&It(t,r),o}(w.ZP),Nt=n(85112);function Dt(e){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dt(e)}function Bt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jt(e,t){return jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},jt(e,t)}function Vt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ft(e);if(t){var i=Ft(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Mt(this,n)}}function Mt(e,t){if(t&&("object"===Dt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ft(e){return Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ft(e)}var zt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jt(e,t)}(o,e);var t,n,r,i=Vt(o);function o(){return Bt(this,o),i.apply(this,arguments)}return t=o,r=[{key:"pluginName",get:function(){return"AutoPlayTipsPlugin"}},{key:"defaultConfig",get:function(){return{position:x.kd.ROOT,index:10,className:"xgplayer-autoplay-tips"}}}],(n=[{key:"beforePlayerInit",value:function(){}},{key:"afterPlayerInit",value:function(){}},{key:"afterCreate",value:function(){var e=this;this.config.disable||(this.timer=setInterval((function(){e.onTimeUpdate()}),200))}},{key:"onTimeUpdate",value:function(){var e,t;if(this.player&&!(this.player.duration<=0)){var n=Math.ceil(this.player.duration-this.player.currentTime);!(n<=3)||null!==(e=this.player)&&void 0!==e&&e.paused||null!=this&&null!==(t=this.player)&&void 0!==t&&t.videoStopPlayNextFlag?x.Zr.removeClass(this.root,"douyin-show"):(this.find(".full-en").innerText="".concat(n,"s "),this.find(".next-en").innerText="".concat(n,"s "),this.find(".loop-en").innerText="".concat(n,"s "),this.player.isNextAutoPlay?(x.Zr.addClass(this.root,"douyin-show"),x.Zr.addClass(this.find(".xgplayer-autoplay-tips-full"),"active"),x.Zr.addClass(this.find(".xgplayer-autoplay-tips-next"),"active"),x.Zr.removeClass(this.find(".xgplayer-autoplay-tips-loop"),"active")):this.player.isReplay||(x.Zr.addClass(this.root,"douyin-show"),x.Zr.removeClass(this.find(".xgplayer-autoplay-tips-full"),"active"),x.Zr.removeClass(this.find(".xgplayer-autoplay-tips-next"),"active"),x.Zr.addClass(this.find(".xgplayer-autoplay-tips-loop"),"active")))}}},{key:"destroy",value:function(){this.timer&&clearInterval(this.timer)}},{key:"render",value:function(){return'\n    <div class="xgplayer-autoplay-tips " data-state="normal">\n      <div class="xgplayer-box-dg xgplayer-autoplay-tips-full ">\n        <div class="img-wh-ct">\n          <div class="img-wrap">\n            <div class="blur-bg" style=\'background-image: url('.concat(this.config.img,')\' ></div>\n            <div class="blur-mask"  ></div>\n            <img src="').concat(this.config.img,'" />\n          </div>\n        </div>\n        <div class="rightCt">\n          <div > <span class="en-title full-en">3s </span>\u540e\u64ad\u653e</div>\n          <div class="desc"> ').concat(this.config.desc,'</div>\n        </div>\n      </div>\n      <div class="xgplayer-box-dg xgplayer-autoplay-tips-next ">\n        <span class="en-title next-en">3s </span>\u540e\u64ad\u653e\u4e0b\u4e00\u4e2a\u89c6\u9891\n      </div>\n      <div class="xgplayer-box-dg xgplayer-autoplay-tips-loop ">\n        <span class="en-title loop-en">3s </span>\u540e\u5faa\u73af\u64ad\u653e\u5f53\u524d\u89c6\u9891\n      </div>\n\n    </div>')}}])&&Rt(t.prototype,n),r&&Rt(t,r),o}(w.ZP);function Ut(e){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ut(e)}function Ht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qt(e,t){return qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},qt(e,t)}function Wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qt(e);if(t){var i=Qt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Gt(this,n)}}function Gt(e,t){if(t&&("object"===Ut(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Jt(e)}function Jt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qt(e){return Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qt(e)}function Kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qt(e,t)}(o,e);var t,n,r,i=Wt(o);function o(){var e;Ht(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Kt(Jt(e=i.call.apply(i,[this].concat(n))),"onManualChangeState",(function(t){var n,r;null===(n=Jt(e))||void 0===n||null===(r=n.changeMiniState)||void 0===r||r.call(n,t)})),Kt(Jt(e),"onClickIcon",(function(){e.changeMiniState(!e.player.config.autoMini),e.player.emit("miniWinChange",e.player.config.autoMini)})),e}return t=o,r=[{key:"pluginName",get:function(){return"MiniWinPlugin"}},{key:"defaultConfig",get:function(){return{position:x.kd.CONTROLS_RIGHT,index:5,className:"xgplayer-miniwin"}}}],(n=[{key:"registerIcons",value:function(){return{}}},{key:"initIcons",value:function(){}},{key:"beforePlayerInit",value:function(){}},{key:"afterPlayerInit",value:function(){}},{key:"afterCreate",value:function(){this.config.disable||(this.initIcons(),this.bind(".xgplayer-icon","click",this.onClickIcon),this.player.on("manual_change_min_state",this.onManualChangeState))}},{key:"changeMiniState",value:function(e){e?(this.player.config.autoMini=!0,x.Zr.addClass(this.find(".xgplayer-icon"),"select"),this.find(".xgplayer-box-douyin").innerHTML="\u70b9\u51fb\u5173\u95ed\u60ac\u6d6e\u5c0f\u7a97\u53e3"):(this.player.config.autoMini=!1,x.Zr.removeClass(this.find(".xgplayer-icon"),"select"),this.find(".xgplayer-box-douyin").innerHTML="\u70b9\u51fb\u5f00\u542f\u60ac\u6d6e\u5c0f\u7a97\u53e3")}},{key:"destroy",value:function(){this.unbind(".xgplayer-icon","click",this.onClickIcon),this.player.off("manual_change_min_state",this.onManualChangeState)}},{key:"render",value:function(){var e,t,n,r,i=this.player.config.autoMini;return'\n    <xg-icon class="xgplayer-mini-win " data-state="normal">\n      <div class="xgplayer-icon '.concat(i?"select":"",'">\n        ').concat((e=this.config.playerPermanentlyShowInfo,t=36,n=36,r="0 0 36 36",e||(t=32,n=32,r="0 0 39 39"),'<svg width="'.concat(t,'" height="').concat(n,'" viewBox="').concat(r,'" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M17.9741 17.1108C17.3396 17.1108 16.8252 17.6252 16.8252 18.2597V22.0895C16.8252 22.7241 17.3396 23.2385 17.9741 23.2385H22.5699C23.2044 23.2385 23.7188 22.7241 23.7188 22.0895V18.2597C23.7188 17.6252 23.2044 17.1108 22.5699 17.1108H17.9741Z" fill="#0A0C20"/>\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M11.4635 10.0257C10.0886 10.0257 8.97412 11.1402 8.97412 12.5151V24.0044C8.97412 25.3793 10.0886 26.4938 11.4635 26.4938H24.4848C25.8596 26.4938 26.9741 25.3793 26.9741 24.0044V12.5151C26.9741 11.1402 25.8596 10.0257 24.4848 10.0257H11.4635ZM10.889 12.5151C10.889 12.1978 11.1462 11.9406 11.4635 11.9406H24.4848C24.802 11.9406 25.0592 12.1978 25.0592 12.5151V24.0044C25.0592 24.3217 24.802 24.5789 24.4848 24.5789H11.4635C11.1462 24.5789 10.889 24.3217 10.889 24.0044V12.5151Z" fill="#0A0C20"/>\n        </svg>')),'\n      </div>\n       <xg-slider class="xgplayer-slider xgplayer-box-douyin">\n        ').concat(i?"\u70b9\u51fb\u5173\u95ed\u60ac\u6d6e\u5c0f\u7a97\u53e3":"\u70b9\u51fb\u5f00\u542f\u60ac\u6d6e\u5c0f\u7a97\u53e3","\n      </xg-slider>\n    </xg-icon>")}}])&&Zt(t.prototype,n),r&&Zt(t,r),o}(w.ZP),$t=n(16085),Yt=n(52783),en=function(e,t){var n=t.playApi,r=t.onShouldShowMiniScreen,i=t.playerEl,o=t.changeNextUrlFunc,a=t.playNextFunc,s=t.autoPlayOptimize,l=t.closeMini,u=function(e){var t=function(t){switch(t.action){case"playSwitchPrev":e.emit("keyPlaySwitchPrev");break;case"playSwitchNext":e.emit("keyPlaySwitchNext");break;case"upVolume":e.emit("upVolume");break;case"downVolume":e.emit("downVolume")}};return e.on("shortcut",t),function(){e.off("shortcut",t)}}(e),c=function(e,t){var n=function(e){t?sessionStorage.setItem("player_playbackratio",e):localStorage.setItem("player_playbackratio",e)};return e.on("playRatioChange",n),function(){e.off("playRatioChange",n)}}(e,s),d=function(e){var t=function(){localStorage.setItem("player_volume",e.volume),localStorage.setItem("player_is_mute",e.muted?"1":"0")};return e.on("volumechange",t),function(){e.off("volumechange",t)}}(e),p=function(e){var t=function(e){pt.emit(pt.EVENT.fakeScreenChange,undefined)};return e.on("fakeScreenChange",t),function(){e.off("fakeScreenChange",t)}}(e),f=function(e,t){var n=t.playApi,r=0,i=function(){if(!(r>5))return e.removeClass("xgplayer-is-error"),e.emit("waiting"),new Promise((function(t){r++,e.config.url=e.src=n,e.play(),t(!1)}))};return e.usePluginHooks("error","errorHandler",(function(){return i()})),e.usePluginHooks("error","errorRetry",(function(){return i()})),function(){}}(e,{playApi:n}),h=function(e){var t=function(t){e.isNextAutoPlay=t,localStorage.setItem("player_nextautoplay",t?"1":"0")};return e.on("nextAutoplayChange",t),function(){e.off("nextAutoplayChange",t)}}(e),m=function(e,t){var n=t.playerEl,r=t.onShouldShowMiniScreen,i=t.changeNextUrlFunc,o=t.playNextFunc;if(t.closeMini)return function(){};var a=!1,s=!1,l=0,u=function(t){e.isWinMin=t,localStorage.setItem("player_miniwin",t?"1":"0")},c=function(){var e;return!(null==n||null===(e=n.parentElement)||void 0===e||!e.getBoundingClientRect)&&n.parentElement.getBoundingClientRect().bottom<=122},d=function(){var t=c();if(r&&r(t),e.isWinMin)if(t){var n,i,o,s;if(a||null==e||null===(n=e.plugins)||void 0===n||!n.miniscreen)return;a||(a=!0,null==e||null===(i=e.plugins)||void 0===i||null===(o=i.miniscreen)||void 0===o||null===(s=o.getMini)||void 0===s||s.call(o))}else{var l,u,d;a&&(a=!1,null==e||null===(l=e.plugins)||void 0===l||null===(u=l.miniscreen)||void 0===u||null===(d=u.exitMini)||void 0===d||d.call(u))}},p=function(t){a&&!s&&!1===t&&(a=!1,e.emit("manual_change_min_state",!1),u(0))},f=function(){null!=e&&e.banEnded||(l||!e.isNextAutoPlay||c()||null==i||!i(!0)?(e.isReplay=!0,e.replay()):null==o||o(undefined,{from:"auto"}))};document.addEventListener("scroll",d);var h=pt.listen(pt.EVENT.videoStopPlayNext,(function(){l++,e.videoStopPlayNextFlag=l>0})),m=pt.listen(pt.EVENT.videoRemoveStopPlayNext,(function(){l--,e.videoStopPlayNextFlag=l>0}));return e.on("miniWinChange",u),e.on("mini_state_change",p),e.on("ended",f),e.on("minwWinChangeManul",(function(t){if(a){if(!t)return void e.plugins.miniscreen.exitMini();u(t),d()}u(t),e.emit("manual_change_min_state",t),d()})),function(){s=!0,document.removeEventListener("scroll",d),e.off("miniWinChange",u),e.off("mini_state_change",p),e.off("ended",f),h(),m()}}(e,{playerEl:i,onShouldShowMiniScreen:r,changeNextUrlFunc:o,playNextFunc:a,closeMini:l});return function(){u(),c(),d(),p(),f(),h(),m()}},tn=n(92065),nn=function(e){return function(t,n){n&&n.emit("onStar",{event:t,clickMethod:e})}},rn={space:{keyCode:32,action:(0,tn.d)((function(e,t){null!=t&&t.paused?t.play():t.pause()}),nn("space"),300),disable:!1,noBodyTarget:!1},keyboardL:{keyCode:76,action:(0,tn.d)(nn("L"),nn("L"),300),disable:!1,noBodyTarget:!1}},on=["url","playApi","width","el","height","changeNextUrlFunc","icons","poster","logInfo","playNextFunc","onShouldShowMiniScreen","fakeHorizontalInfo","ratio","keyboard","autoplay","isFromNextAutoPlay","autoPlayOptimize","closeMini","logParams","isPrivate","preloadList","definition","awemeId"];function an(e){return function(e){if(Array.isArray(e))return sn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return sn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(n),!0).forEach((function(t){cn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pn(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,i)}function fn(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){pn(o,r,i,a,s,"next",e)}function s(e){pn(o,r,i,a,s,"throw",e)}a(undefined)}))}}var hn=function(){var e=fn(regeneratorRuntime.mark((function e(t){var n,r,o,a,u,c,d,f,h,m,y,g,v,_,k,x,w,S,I,E,P,T,C,O,A,L,N,D,B,M,F,z,U,H,Z,q,W,G,J,Q,X,$,Y,ee,te,ne,re,ie;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,r=t.playApi,o=t.width,a=t.el,u=t.height,c=t.changeNextUrlFunc,d=t.icons,f=t.poster,h=t.logInfo,m=t.playNextFunc,y=t.onShouldShowMiniScreen,g=t.fakeHorizontalInfo,v=t.ratio,_=t.keyboard,k=t.autoplay,x=void 0===k||k,w=t.isFromNextAutoPlay,S=t.autoPlayOptimize,I=t.closeMini,E=void 0!==I&&I,P=t.logParams,T=t.isPrivate,C=void 0!==T&&T,O=t.preloadList,A=void 0===O?[]:O,L=t.definition,N=void 0===L?"":L,D=t.awemeId,B=dn(t,on),(M=_||i.Z).keyCodeMap=un(un({},M.keyCodeMap),rn),e.next=5,(0,$t.rw)(S);case 5:return F=e.sent,z=F.isNextAutoPlay,U=F.playBackRatio,H=F.isMiniWin,Z=F.volume,q=F.isMute,W=F.fakeScreenType,e.next=14,(0,$t.cg)();case 14:return G=e.sent,e.next=17,(0,$t.c3)();case 17:return J=e.sent,e.next=20,(0,$t.EY)();case 20:return Q=e.sent,X=[],n&&Array.isArray(n)&&n.length?X=n.map((function(e){return{src:(0,$t.s7)({url:e.src,target:null==h?void 0:h.awemeId})}})):"string"==typeof n&&n&&(X=[{src:(0,$t.s7)({url:n,target:null==h?void 0:h.awemeId})}]),$=r?[].concat(an(X),[{src:(0,$t.s7)({url:r,target:null==h?void 0:h.awemeId})}]):X.length?X:"",Y=un(un({},s),{},{closeVideoDblclick:!1,el:a,url:$,width:o,height:u,autoplay:x,autoMini:Boolean(H),autoplayMuted:q,defaultPlaybackRate:U,poster:f,volume:Z,icons:d,keyboard:un(un({},M),{},{isGlobalTrigger:!1}),plugins:[j.Z,V.Z,Xt,J],AutoPlaySettingPlugin:{nextAutoPlay:Boolean(z)},SettingPlugin:{nextAutoPlay:Boolean(z)},preloadList:A},B),ee=(null==B?void 0:B.videoPreloadType)!==undefined?null==B?void 0:B.videoPreloadType:Yt.s2.Default,Y=(0,$t.i8)({playerConfig:Y,vid:null==h?void 0:h.awemeId,videoPreloadABType:ee,isPrivate:C,definition:N}),te=new G(Y),(0,$t.OV)(te,A,ee),te.registerPlugin({plugin:R,options:{},name:"progress"},{fakeScreenType:W,fakeHorizontalInfo:g,origRatio:v,disable:!0}),te.isNextAutoPlay=z,te.isWinMin=H,ne=(0,l.h)(te,un(un({},h),{},{extraParams:P})),re=b(te,un(un({},h),{},{isFromNextAutoPlay:w,extraParams:P})),ie=en(te,{playApi:r,onShouldShowMiniScreen:y,playerEl:a,changeNextUrlFunc:c,playNextFunc:m,autoPlayOptimize:S,closeMini:E}),e.abrupt("return",{player:te,Event:Q,changeMiniWin:function(e){null==te||te.emit("minwWinChangeManul",e)},destroy:function(){var e,t,n;te&&((0,$t.dx)()&&(null===(e=te.plugins)||void 0===e||null===(t=e.mp4encryptplayer)||void 0===t||null===(n=t.cancelPreloadTask)||void 0===n||n.call(t)),ie(),ne(),re(),te.destroy())},changeNextPlay:function(){},resetPlayer:function(){null==te||te.pause(),null==te||te.resetState()},changeVideo:function(e){return fn(regeneratorRuntime.mark((function t(){var n,r,i,o,s,u,c,d,f,h,y,g,v,_,k,x,w,I,E,P;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.src,i=e.playApi,o=e.changeNextUrlFunc,e.poster,s=e.onShouldShowMiniScreen,u=e.logInfo,e.fakeHorizontalInfo,e.ratio,c=e.autoplay,d=e.isFromNextAutoPlay,f=e.logParams,h=e.isPrivate,y=void 0!==h&&h,g=e.definition,v=e.preloadList,_=void 0===v?[]:v,k=e.enterFrom,ne(),re(),ie(),x=(null==r||null===(n=r[0])||void 0===n?void 0:n.src)||"",ee!==Yt.s2.None&&ee!==Yt.s2.Default&&(0,$t.dx)()&&(p().set(te,"plugins.mp4encryptplayer.config.vid",null==u?void 0:u.awemeId),p().set(te,"plugins.mp4encryptplayer.config.definition",g),y?(w=function(e,t){e.withCredentials=!0},p().set(te,"plugins.mp4encryptplayer.config.xhrSetup",w)):p().set(te,"plugins.mp4encryptplayer.config.xhrSetup",undefined),null!=_&&_.length&&(0,$t.OV)(te,_,ee)),I=i?[].concat(an(r),[{src:(0,$t.s7)({url:i,target:null==u?void 0:u.awemeId})}]):r.length?r:"",E={vid:null==u?void 0:u.awemeId,definition:g,url:I},null!=te&&te.playNext?null===(P=te.playNext)||void 0===P||P.call(te,E):te.config.url=te.src=x,ne=(0,l.h)(te,un(un({},u),{},{extraParams:f,enterFrom:k})),re=b(te,un(un({},u),{},{isFromNextAutoPlay:d,extraParams:f})),ie=en(te,{playApi:i,onShouldShowMiniScreen:s,playerEl:a,changeNextUrlFunc:o,playNextFunc:m,autoPlayOptimize:S}),te.once("canplay",(function(){var e;(te.play(),c)?null==te||null===(e=te.emit)||void 0===e||e.call(te,"change_start"):te.once("play",(function(){te.pause()}))}));case 14:case"end":return t.stop()}}),t)})))()},registerFakeScreenPlugin:function(e,t,n){te.unRegisterPlugin("fakescreenplugin"),te.registerPlugin({plugin:R,options:{},name:"FakeScreenPlugin"},{fakeScreenType:e,fakeHorizontalInfo:t,origRatio:n,disable:!1})},registerAutoPlayTips:function(e,t){te.registerPlugin({plugin:zt,options:{},name:"AutoPlayTipsPlugin"},{img:e,desc:t})},unRegisterAutoPlayTips:function(){te.unRegisterPlugin("autoplaytipsplugin")},registerPlaySwitchPlugin:function(e,t,n){te.registerPlugin({plugin:K,options:{},name:"PlaySwitchPlugin"},{playPrevFunc:e,playNextFunc:t,isCommentShow:n})},unRegisterPlaySwitchPlugin:function(){te.unRegisterPlugin("playswitchplugin")},registerVideoInfoPlugin:function(e){var t,n,r,i,o=e.awemeInfo,a=e.isCommentShow,s=e.isExpandable;te.registerPlugin({plugin:Nt.Z,options:{},name:"VideoInfo"},{title:null==o?void 0:o.desc,textExtra:null==o?void 0:o.textExtra,nickname:null==o||null===(t=o.authorInfo)||void 0===t?void 0:t.nickname,enterpriseVerifyReason:null==o||null===(n=o.authorInfo)||void 0===n?void 0:n.enterpriseVerifyReason,customVerify:null==o||null===(r=o.authorInfo)||void 0===r?void 0:r.customVerify,isCommentShow:a,isExpandable:s,awemeId:null==o?void 0:o.awemeId,authorId:null==o||null===(i=o.authorInfo)||void 0===i?void 0:i.uid,groupId:null==o?void 0:o.groupId,logPb:null==o?void 0:o.logPb})},unRegisterVideoInfoPlugin:function(){te.unRegisterPlugin("videoinfo")},registerVideoInteractionPlugin:function(e){var t=e.toggleComment,n=e.awemeInfo,r=e.logInfo,i=e.isCommentShow,o=e.isLogin,a=e.info,s=e.dispatch,l=e.deleteCurrentSwiper,u=e.favoriteHandler,c=e.collectHandler,d=e.fullScreenTarget,p=e.followHandler,f=e.videoToast,h=e.abtestData;te.registerPlugin({plugin:Lt,options:{},name:"VideoInteraction"},{toggleComment:t,awemeInfo:n,logInfo:r,isCommentShow:i,isLogin:o,loginUserInfo:a,loginDispatch:s,deleteCurrentSwiper:l,favoriteHandler:u,collectHandler:c,fullScreenTarget:d,followHandler:p,videoToast:f,abtestData:h,autoPlayOptimize:S,awemeId:D})},unRegisterVideoInteractionPlugin:function(){te.unRegisterPlugin("videointeraction")},isNextAutoPlay:te.isNextAutoPlay});case 37:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},16085:function(e,t,n){"use strict";n.d(t,{$F:function(){return O},cg:function(){return A},c3:function(){return L},EY:function(){return N},dx:function(){return D},i8:function(){return B},OV:function(){return R},s7:function(){return j},rw:function(){return V}});n(34529),n(52402),n(26846),n(41080),n(54299),n(84328),n(27155),n(99371),n(32850),n(47808),n(19701),n(32908),n(39272),n(87908),n(89045),n(50063),n(47912),n(49895),n(73329),n(50720),n(85239),n(85130),n(54524),n(93077);var r=n(32259),i=n(77699),o=n.n(i),a=n(43897),s=n.n(a),l=n(43325),u=n(98554),c=n(52783),d=n(9987);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,i)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){g(o,r,i,a,s,"next",e)}function s(e){g(o,r,i,a,s,"throw",e)}a(undefined)}))}}var _=r.Z.Events,k=u||{},b=k.video,x=k.serviceParam.getSharkCommonParams,w=b||{},S=w.PRELOAD_TIME,I=w.MAX_BUFFER_LENGTH,E=w.PRELOAD_MAX_CACHE_COUNT,P=w.MIN_BUFFER_LENGTH,T=w.LOAD_TIMEOUT,C=w.RETRY_COUNT,O=function(){var e=v(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.Z);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=v(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:return e.abrupt("return",r.Z);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=v(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:return e.abrupt("return",o());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=v(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:return e.abrupt("return",_);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e;return null===s()||void 0===s()||null===(e=s().isSupported)||void 0===e?void 0:e.call(s())},B=function(e){var t=e.playerConfig,n=e.vid,r=e.videoPreloadABType,i=e.isPrivate,o=e.definition,a=t||{};return D()?(r!==c.s2.Default&&(a.vodLogOpts.absdkVersion=String(r),a.vodLogOpts.enableAbTest=!0),r!==c.s2.None&&r!==c.s2.Default&&(a.plugins.push(s()),a.mp4encryptplayer={vid:n,definition:o,maxBufferLength:I,minBufferLength:P,preloadMaxCacheCount:E,loadTimeout:T,retryCount:C},a.mp4encryptplayer.xhrSetup=i?function(e,t){e.withCredentials=!0}:undefined,a.videoInit=!0),r===c.s2.OnlyBuffer||r===c.s2.BothBufferAndPreload&&(a.mp4encryptplayer.preloadTime=S),a):a},R=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[],n=arguments.length>2?arguments[2]:undefined;if(D()&&n===c.s2.BothBufferAndPreload&&null!=t&&t.length){var r=t.map((function(e,t){return{order:t,data:{vid:null==e?void 0:e.awemeId,payload:[{definition:null==e?void 0:e.definition,url:j({url:null==e?void 0:e.src,target:null==e?void 0:e.awemeId})}],preloadTime:S}}}));e.plugins.mp4encryptplayer.addPreloaderList(r)}},j=function(e){var t=e.url,n=void 0===t?"":t,r=e.target,i=n,o=m(n.split("?"),2),a=o[0],s=o[1];try{if(n.includes("/aweme/v1/play")&&s){var u=(0,l.parse)(s);i="".concat(a,"?").concat((0,l.stringify)(f(f({},u),x({target:r}))))}}catch(c){}return i},V=function(){var e=v(regeneratorRuntime.mark((function e(t){var n,r,i,o,a,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,d.G)(),r=1,i=1,o=.6,a=!1,"origin";try{r=t?Number(sessionStorage.getItem("player_playbackratio"))||1:Number(localStorage.getItem("player_playbackratio"))||1,s=localStorage.getItem("player_volume"),l=localStorage.getItem("player_is_mute"),a="1"===l,s&&(o=Number(s)),"0"===localStorage.getItem("player_miniwin")&&(i=0)}catch(u){}return e.abrupt("return",{isNextAutoPlay:n,playBackRatio:r,isMiniWin:i,volume:o,isMute:a,fakeScreenType:"origin"});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},29145:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});n(84328),n(65092),n(98962),n(36379),n(47808),n(19701),n(99371),n(32908),n(39272),n(87908),n(89045);var r=n(50134);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(d,e);var t,n,i,u=l(d);function d(){var e;o(this,d);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return p(c(e=u.call.apply(u,[this].concat(n))),"onXgChange",(function(){var t=e.find(".xg-switch");e.config.nextAutoPlay?(e.player.emit("nextAutoplayChange",!1),e.config.nextAutoPlay=!1,r.Zr.removeClass(t,"xg-switch-checked")):(e.player.emit("nextAutoplayChange",!0),e.config.nextAutoPlay=!0,r.Zr.addClass(t,"xg-switch-checked"))})),e}return t=d,i=[{key:"pluginName",get:function(){return"AutoPlaySettingPlugin"}},{key:"defaultConfig",get:function(){return{position:r.kd.CONTROLS_RIGHT,index:9,className:"xgplayer-autoplay-setting"}}}],(n=[{key:"beforePlayerInit",value:function(){}},{key:"afterPlayerInit",value:function(){}},{key:"afterCreate",value:function(){this.config.disable||this.bind(".xg-switch","click",this.onXgChange)}},{key:"destroy",value:function(){this.unbind(".xg-switch","click",this.onXgChange)}},{key:"render",value:function(){var e=Boolean(this.config.nextAutoPlay);return'\n    <xg-icon class="xgplayer-autoplay-setting automatic-continuous" data-state="normal">\n      <div class="xgplayer-icon">\n        <div class="xgplayer-setting-label">\n            <span class="xgplayer-setting-title">\u81ea\u52a8\u8fde\u64ad</span>\n            <button aria-checked="true" class="xg-switch '.concat(!0===e?"xg-switch-checked":"",' " aria-labelledby="xg-switch-pip"><span class="xg-switch-inner"></span></button>\n\n        </div>\n      </div>\n    </xg-icon>')}}])&&a(t.prototype,n),i&&a(t,i),d}(n(76131).ZP)},730:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});n(84328),n(27155),n(65092),n(50720),n(72535),n(34529),n(98962),n(36379),n(47808),n(19701),n(99371),n(32908),n(39272),n(87908),n(89045);var r=n(50134);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(d,e);var t,n,i,u=l(d);function d(){var e;o(this,d);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return p(c(e=u.call.apply(u,[this].concat(n))),"onPlayratioClick",(function(t){if(null!=t&&t.target){var n=t.target.getAttribute("rate");if(Number(n)===Number(e.player.playbackRate))return!1;for(var i=e.find(".xgplayer-playratio-wrap").children,o=0;o<i.length;o++){var a=i[o];a.getAttribute("rate")===n?r.Zr.addClass(a,"select"):r.Zr.removeClass(a,"select")}e.find(".xgplayer-setting-playbackRatio").innerText=e.getIconText(n),e.player.emit("playRatioChange",n),e.player.playbackRate=Number(n),r.Zr.removeClass(e.root,"slide-show")}})),p(c(e),"onMouseleave",(function(){e.timeoutId||(e.timeoutId=setTimeout((function(){r.Zr.removeClass(e.root,"slide-show")}),200))})),p(c(e),"onMouseenter",(function(){e.timeoutId&&(clearTimeout(e.timeoutId),e.timeoutId=null),r.Zr.addClass(e.root,"slide-show")})),e}return t=d,i=[{key:"pluginName",get:function(){return"PlayBackSettingPlugin"}},{key:"defaultConfig",get:function(){return{position:r.kd.CONTROLS_RIGHT,index:7,className:"xgplayer-playback-setting",nextAutoPlay:!0}}}],(n=[{key:"beforePlayerInit",value:function(){}},{key:"afterPlayerInit",value:function(){}},{key:"afterCreate",value:function(){this.config.disable||(this.bind("mouseenter",this.onMouseenter),this.bind(["blur","mouseleave"],this.onMouseleave),this.bind(".xgplayer-playratio-item","click",this.onPlayratioClick))}},{key:"getIconText",value:function(e){var t=[.75,"1.0",1.25,1.5,"2.0"].filter((function(t){return Number(t)===Number(e)}))||"1.0";return"".concat(t,"x")}},{key:"destroy",value:function(){this.unbind("mouseenter",this.onMouseenter),this.unbind(["blur","mouseleave"],this.onMouseleave),this.unbind(".xgplayer-playratio-item","click",this.onPlayratioClick)}},{key:"render",value:function(){var e=this.player.config.defaultPlaybackRate||1,t=this.player.config.playerPermanentlyShowInfo;return'\n    <xg-icon class="xgplayer-playback-setting" data-state="normal">\n      <div class="xgplayer-icon">\n        '.concat(t?"":'<span class="xgplayer-setting-title">\u500d\u901f </span>','\n        <span class="xgplayer-setting-playbackRatio">').concat(this.getIconText(e),'</span>\n      </div>\n      <xg-slider class="xgplayer-slider xgplayer-box-douyin " >\n        <div class="xgplayer-setting-content">\n            <div class="xgplayer-playratio-wrap">\n            ').concat([.75,"1.0",1.25,1.5,"2.0"].map((function(t){return"<div class='".concat(Number(e)===Number(t)?"select":""," xgplayer-playratio-item' rate='").concat(t,"'>").concat(t,"x</div>")})).join(""),"\n            </div>\n          </div>\n        </div>\n      </xg-slider>\n    </xg-icon>")}}])&&a(t.prototype,n),i&&a(t,i),d}(n(76131).ZP)},85112:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});n(84328),n(50063),n(65092),n(59040),n(98962),n(36379),n(47808),n(19701),n(99371),n(32908),n(39272),n(87908),n(89045);var r=n(4303),i=n(90062),o=n(50134),a=n(76131),s=n(35774),l=n(23974),u=n(99322),c=n(98493),d=n(88308),p=n(10754),f=n(97467),h=new(n(27248).hD)({clickTitleAt:{eventName:"click_title_at",params:{to_user_id:"",author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",is_fullscreen:"0"}},clickVideoTitle:{eventName:"click_video_title",params:{action:"expand",author_id:"",group_id:"",enter_from:"",log_pb:"",previous_page:"",is_fullscreen:"0"}},clickTitleHashtag:{eventName:"click_title_hashtag",params:{hashtag:"",author_id:"",group_id:"",log_pb:"",enter_from:"",previous_page:"",is_fullscreen:"0"}}}),m="G05ui+1C";function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(b,e);var t,n,a,y=k(b);function b(){var e;g(this,b);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return S(x(e=y.call.apply(y,[this].concat(n))),"onTitleClick",(function(){var t=e.config.awemeId;s.emit(s.EVENT.videoTitleClick,t)})),S(x(e),"onHashTagClick",(function(t,n){var r=e.config,i=r.authorId,o=r.groupId,a=r.logPb;h.sendLog("clickTitleHashtag",{hashtag:n.slice(1),urlParamList:["previous_page"],author_id:i,group_id:o,log_pb:a,enter_from:l.yW(),is_fullscreen:u.r()?"1":"0"})})),S(x(e),"onUserNameClick",(function(t){var n=e.config,r=n.authorId,i=n.groupId,o=n.logPb;h.sendLog("clickTitleAt",{to_user_id:t,urlParamList:["previous_page"],author_id:r,group_id:i,log_pb:o,enter_from:l.yW(),is_fullscreen:u.r()?"1":"0"})})),S(x(e),"handleIsFireFox",(function(){var t,n,r=null===(t=(n=e).find)||void 0===t?void 0:t.call(n,".video-info-detail");c.vU()&&o.Zr.addClass(r,"isFireFox")})),S(x(e),"hide",(function(){e.root.style.display="none"})),S(x(e),"btnOnClick",(function(t){s.emit(s.EVENT.hideFakeScreen,!1);var n=e.config,r=n.authorId,i=n.groupId,o=n.logPb;h.sendLog("clickVideoTitle",{action:t?"fold":"expand",urlParamList:["previous_page"],author_id:r,group_id:i,log_pb:o,enter_from:l.yW(),is_fullscreen:u.r()?"1":"0"})})),S(x(e),"show",(function(){return e.root.style.display="block",""})),e}return t=b,a=[{key:"pluginName",get:function(){return"VideoInfo"}},{key:"defaultConfig",get:function(){return{index:-1,className:"xgplayer-video-info"}}}],(n=[{key:"beforePlayerInit",value:function(){}},{key:"afterPlayerInit",value:function(){}},{key:"afterCreate",value:function(){var e,t,n,o=this;this.handleIsFireFox(),this.timer=setInterval((function(){if(o.player){var e,t,r,i=((null===(e=o.player)||void 0===e?void 0:e.currentTime)/(null===(t=o.player)||void 0===t?void 0:t.duration)*100).toFixed(2);n?n.style.width="".concat(i,"%"):n=null==o||null===(r=o.find)||void 0===r?void 0:r.call(o,".mini-progress-inner")}}),200);var a=this.config,s=a.nickname,l=a.title,u=a.isExpandable,c=a.textExtra,h=document.getElementsByClassName("xg-video-container")[0],y=h?parseInt(window.getComputedStyle(h,null).height):500,g=Math.floor((y-45-16)/22),v=null===(e=this.find)||void 0===e?void 0:e.call(this,".account-name"),_=null===(t=this.find)||void 0===t?void 0:t.call(this,".title");i.render(r.createElement(r.Fragment,null,r.createElement("span",{onClick:this.onTitleClick},"@",r.createElement(p.Z,{text:s}))),v),u?i.hydrate(r.createElement(f.Z,{maxLine:g,lineClamp:2,btnClassName:m,onlyKey:l,btnOnClick:this.btnOnClick,lineHeight:"".concat(22,"px"),Content:function(e){var t=e.isUnfold,n=d.LT(l);return r.createElement(p.Z,{text:t?l:n,textExtra:c,onClickHashtag:o.onHashTagClick,onClickUser:o.onUserNameClick})}}),_):i.render(r.createElement(p.Z,{text:l}),_)}},{key:"destroy",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){var e=this.config,t=e.enterpriseVerifyReason,n=e.customVerify;return'\n    <div class="xgplayer-video-info-wrap"  data-state="normal">\n      <div class="video-info-detail">\n        <div class="account">\n          <div class="account-name"></div>\n          <div class="account-badage">\n              '.concat(t?'<div class="badge-business"></div>':n?'<div class="badge-personel"></div>':"",'\n          </div>\n        </div>\n        <div class="title">\n        </div>\n      </div>\n      <div class="video-info-mask"></div>\n      <div class="mini-progress-outer">\n        <div class="mini-progress-inner" />\n      </div>\n    </div>')}}])&&v(t.prototype,n),a&&v(t,a),b}(a.ZP)},27684:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(4303),i=n(92065),o="gh3k9fia",a=function(e){var t=e.player,n=(0,r.useRef)(null);return(0,r.useEffect)((function(){var e,r=(0,i.d)((function(){t&&(null!=t&&t.paused?t.play():t.pause())}),(function(e){t&&t.emit("onStar",{event:e,clickMethod:"mouse"})}),300);n&&t&&(null===(e=n.current)||void 0===e||e.addEventListener("click",r));return function(){var e;null===(e=n.current)||void 0===e||e.removeEventListener("click",r)}}),[t]),r.createElement("div",{className:o,ref:n})}},56371:function(e,t,n){"use strict";n.d(t,{h:function(){return d},D4:function(){return p},gw:function(){return f}});n(52402),n(18534),n(99371),n(20064),n(27155),n(73329),n(47808),n(50720),n(85239),n(85130),n(54524);var r=new(n(27248).hD)({videoPlayQuality:{eventName:"video_play_quality",params:{group_id:"",previous_page:"",tab_name:"",bitrate_set:"",enter_from:"",codec_format:"",duration:0,cache_size:0,video_quality:"",video_format:"",video_bitrate:"",vduration:"",internet_speed:"",player_type:"xgplayer",player_version:"",internet_speed_dl:0,preload_time:0,preload_size:0,cpu_core:0,memory_size:0,UA_info:""}},videoBlock:{eventName:"video_block",params:{group_id:"",previous_page:"",tab_name:"",enter_from:"",codec_format:"",duration:0,cache_size:0,video_quality:"",video_format:"",video_bitrate:"",vduration:"",internet_speed_dl:0,internet_speed:"",player_type:"xgplayer",player_version:"",cpu_core:0,memory_size:0,UA_info:""}},videoPlayEnd:{eventName:"video_play_end",params:{group_id:"",previous_page:"",tab_name:"",enter_from:"",codec_format:"",duration:0,is_success:0,vduration:"",internet_speed:"",player_type:"xgplayer",player_version:"",video_quality:"",video_format:"",video_bitrate:"",internet_speed_dl:0,preload_time:0,preload_size:0,cpu_core:0,memory_size:0,UA_info:""}},videoPlayFailed:{eventName:"video_play_failed",params:{group_id:"",previous_page:"",tab_name:"",enter_from:"",cache_size:0,errorCode:0,errorDesc:"",is_cdn_expired:0,vduration:"",internet_speed:"",player_type:"xgplayer",player_version:"",internet_speed_dl:0,is_video_support:0,cpu_core:0,memory_size:0,UA_info:""}},videoRequest:{eventName:"video_request",params:{group_id:"",previous_page:"",tab_name:"",enter_from:"",video_quality:"",video_format:"",internet_speed:"",is_csr:1,compilation_id:"",cpu_core:0,memory_size:0,UA_info:""}},videoRequestResponse:{eventName:"video_request_response",params:{group_id:"",enter_from:"",previous_page:"",tab_name:"",video_quality:"",video_format:"",vduration:"",duration:"",is_success:0,internet_speed:"",is_csr:1,compilation_id:"",internet_speed_dl:0,cpu_core:0,memory_size:0,UA_info:""}}}),i=n(23974),o=n(12339),a=n(950),s=n(43325);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){var n=t.group_id,a=t.vduration,l=t.isH265,c=t.qualityType,d=t.bitRate,p=t.videoFormat,f=t.gearName,h=t.extraParams,m=t.enterFrom,y=1===l?"bytevc":0===l?"h264":"",g=d,v=function(e,t){var n=t.group_id,o=t.vduration,a=t.codecFormat,s=t.videoBitrate,l=t.qualityType,c=t.videoFormat,d=t.gearName,p=t.extraParams,f=t.enterFrom,h=function(t){if("firstFrame"===t.eventType){var h,m,y,g,v,_,k,b=(null==e||null===(h=e.plugins)||void 0===h||null===(m=h.mp4encryptplayer)||void 0===m?void 0:m.preLoadData)||{},x=b.duration,w=b.byteLength,S=x&&"number"==typeof x?1e3*x:0;r.sendLog("videoPlayQuality",u(u({urlParamList:["previous_page","tab_name"],group_id:n,bitrate_set:d,duration:t.fvt,vduration:o,enter_from:f||i.yW(),player_version:e.version,video_quality:l,video_format:c,video_bitrate:s,codec_format:a,internet_speed_dl:null===(y=navigator)||void 0===y||null===(g=y.connection)||void 0===g?void 0:g.downlink},p),{},{preload_time:S,preload_size:w||0,cpu_core:null===(v=navigator)||void 0===v?void 0:v.hardwareConcurrency,memory_size:null===(_=navigator)||void 0===_?void 0:_.deviceMemory,UA_info:null===(k=navigator)||void 0===k?void 0:k.userAgent}))}};return e.once("xglog",h),function(){e.off("xglog",h)}}(e,{group_id:n,vduration:a,codecFormat:y,videoBitrate:g,qualityType:c,videoFormat:p,gearName:f,extraParams:h,enterFrom:m}),_=function(e,t){var n,o,a=t.group_id,l=t.vduration,c=t.codecFormat,d=t.videoBitrate,p=t.qualityType,f=t.videoFormat,h=t.extraParams,m=t.enterFrom,y=0,g=!1,v=(0,s.parse)(null===(n=window)||void 0===n||null===(o=n.location)||void 0===o?void 0:o.search),_=((null==v?void 0:v.previous_page)||"web_link").toString(),k=((null==v?void 0:v.tab_name)||"").toString(),b=function(){y=1},x=function(){var t,n,o,s,v,b,x;if(!g){g=!0;var w=(null==e||null===(t=e.plugins)||void 0===t||null===(n=t.mp4encryptplayer)||void 0===n?void 0:n.preLoadData)||{},S=w.duration,I=w.byteLength;r.sendLog("videoPlayEnd",u(u({previous_page:_,tab_name:k,group_id:a,duration:e.cumulateTime?1e3*e.cumulateTime:0,vduration:l,enter_from:m||i.yW(),is_success:y,player_version:e.version,codec_format:c,video_quality:p,video_format:f,video_bitrate:d,internet_speed_dl:null===(o=navigator)||void 0===o||null===(s=o.connection)||void 0===s?void 0:s.downlink},h),{},{preload_time:S||0,preload_size:I||0,cpu_core:null===(v=navigator)||void 0===v?void 0:v.hardwareConcurrency,memory_size:null===(b=navigator)||void 0===b?void 0:b.deviceMemory,UA_info:null===(x=navigator)||void 0===x?void 0:x.userAgent}))}};return e.on("play",b),window.addEventListener("beforeunload",x),function(){x(),e.off("play",b)}}(e,{group_id:n,vduration:a,codecFormat:y,videoBitrate:g,qualityType:c,videoFormat:p,extraParams:h,enterFrom:m}),k=function(e,t){var n=t.group_id,a=t.vduration,s=(t.codecFormat,t.videoBitrate,t.qualityType,t.videoFormat,t.extraParams),l=t.enterFrom,c=function(t){var c,d,p,f,h,m,y;""!==e.src&&r.sendLog("videoPlayFailed",u(u({urlParamList:["previous_page","tab_name"],group_id:n,errorCode:(null==t||null===(c=t.mediaError)||void 0===c?void 0:c.code)||"",errorDesc:(null==t||null===(d=t.mediaError)||void 0===d?void 0:d.message)||"",vduration:a,enter_from:l||i.yW(),player_version:e.version,internet_speed_dl:null===(p=navigator)||void 0===p||null===(f=p.connection)||void 0===f?void 0:f.downlink,is_video_support:Number(o.k().isSupport)},s),{},{cpu_core:null===(h=navigator)||void 0===h?void 0:h.hardwareConcurrency,memory_size:null===(m=navigator)||void 0===m?void 0:m.deviceMemory,UA_info:null===(y=navigator)||void 0===y?void 0:y.userAgent}))};return e.on("error",c),function(){e.off("error",c)}}(e,{group_id:n,vduration:a,codecFormat:y,videoBitrate:g,qualityType:c,videoFormat:p,extraParams:h,enterFrom:m}),b=function(e,t){var n=t.group_id,o=t.vduration,a=t.codecFormat,s=t.videoBitrate,l=t.qualityType,c=t.videoFormat,d=t.extraParams,p=t.enterFrom,f=0,h=function(t){if("waitingStart"===t.eventType&&(f=Date.now()),"waitingEnd"===t.eventType){var h,m,y,g,v;if(0===f)return;r.sendLog("videoBlock",u(u({urlParamList:["previous_page","tab_name"],group_id:n,duration:t.costTime,vduration:o,enter_from:p||i.yW(),player_version:e.version,video_quality:l,video_format:c,video_bitrate:s,codec_format:a,internet_speed_dl:null===(h=navigator)||void 0===h||null===(m=h.connection)||void 0===m?void 0:m.downlink},d),{},{cpu_core:null===(y=navigator)||void 0===y?void 0:y.hardwareConcurrency,memory_size:null===(g=navigator)||void 0===g?void 0:g.deviceMemory,UA_info:null===(v=navigator)||void 0===v?void 0:v.userAgent})),f=0}};return e.on("xglog",h),function(){e.off("xglog",h)}}(e,{group_id:n,vduration:a,codecFormat:y,videoBitrate:g,qualityType:c,videoFormat:p,extraParams:h,enterFrom:m});return function(){v(),_(),k(),b()}}function p(e){var t,n,o,s=e.group_id,l=e.compilation_id,c=void 0===l?"":l,d=e.enter_from,p=void 0===d?"":d,f=e.is_csr,h=void 0===f?1:f,m=e.extraParams,y=void 0===m?{}:m;return!a.p()&&(r.sendLog("videoRequest",u(u({urlParamList:["previous_page","tab_name"],group_id:s,compilation_id:c,enter_from:p||i.yW(),is_csr:h},y),{},{cpu_core:null===(t=navigator)||void 0===t?void 0:t.hardwareConcurrency,memory_size:null===(n=navigator)||void 0===n?void 0:n.deviceMemory,UA_info:null===(o=navigator)||void 0===o?void 0:o.userAgent})),!0)}function f(e){var t,n,o,s,l,c=e.group_id,d=e.compilation_id,p=void 0===d?"":d,f=e.vduration,h=e.duration,m=e.is_success,y=e.enter_from,g=void 0===y?"":y,v=e.is_csr,_=void 0===v?1:v,k=e.videoQuality,b=void 0===k?"":k,x=e.videoFormat,w=void 0===x?"":x,S=e.extraParams,I=void 0===S?{}:S;if(a.p())return!1;var E=null===(t=navigator)||void 0===t||null===(n=t.connection)||void 0===n?void 0:n.downlink;return r.sendLog("videoRequestResponse",u(u({urlParamList:["previous_page","tab_name"],group_id:c,compilation_id:p,enter_from:g||i.yW(),vduration:f,video_quality:b,video_format:w,is_success:m,duration:h,is_csr:_,internet_speed_dl:E},I),{},{cpu_core:null===(o=navigator)||void 0===o?void 0:o.hardwareConcurrency,memory_size:null===(s=navigator)||void 0===s?void 0:s.deviceMemory,UA_info:null===(l=navigator)||void 0===l?void 0:l.userAgent})),!0}},79320:function(e,t,n){"use strict";n.d(t,{p:function(){return y}});n(27155),n(47808),n(19701),n(99371),n(32908),n(39272),n(87908),n(89045),n(50063),n(47912),n(49895),n(32850),n(93077);var r=n(4303),i=n(45816),o=n(78184),a=n(39834),s=n(23974),l=n(99322),u=n(64967),c=n(6341),d=n(87241);function p(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,i)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){p(o,r,i,a,s,"next",e)}function s(e){p(o,r,i,a,s,"throw",e)}a(undefined)}))}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e){var t=e.userCollected,n=e.isLogin,p=e.onLoginSuc,m=(e.userInfo,e.awemeId),y=e.awemeInfo,g=e.hideSuccToast,v=void 0!==g&&g,_=e.hideErrToast,k=void 0!==_&&_,b=e.loginPopupListener,x=e.videoToast,w=h((0,r.useState)(t),2),S=w[0],I=w[1],E=(0,r.useRef)(t),P=(0,r.useRef)(n),T=(0,r.useRef)(!1),C=(0,r.useRef)(m),O=function(e){var t=arguments.length>1&&arguments[1]!==undefined&&arguments[1];(t&&!k||!v)&&(x?x(e):d.F.info(e))},A=function(e,t,n){var r;(0,i.ZP)({success:(r=f(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return T.current=!0,t.next=3,null==p?void 0:p();case 3:return t.next=5,L(e,n);case 5:T.current=!1;case 6:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)}),headerText:"\u767b\u5f55\u540e\u5373\u53ef\u6536\u85cf\uff0c\u63a8\u8350\u66f4\u51c6\u786e\uff0c\u529f\u80fd\u66f4\u4e30\u5bcc",enterMethod:"favorite_video"},t)},L=(0,r.useCallback)(function(){var e=f(regeneratorRuntime.mark((function e(t,n){var r,i,c,d,p,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.KM({awemeId:t,collectAction:n});case 3:if(r=e.sent,i=r.statusCode,r.statusMsg,c=r.logPb,!i){e.next=15;break}if(o.Z.sendLog("favoriteVideoFailed",{click_from:"icon",err_code:i,urlParamList:["previous_page"],author_id:null==y||null===(d=y.authorInfo)||void 0===d?void 0:d.uid,group_id:null==y?void 0:y.groupId,log_pb:c,enter_from:s.mo(),is_fullscreen:l.r()?"1":"0"}),i!==u.ERROR_CODE.ERROR_USER_UNLOGIN){e.next=12;break}return P.current=0,e.abrupt("return",{toShowAccount:!0});case 12:O("\u6536\u85cf\u5931\u8d25",!0),e.next=18;break;case 15:1===Number(n)?(O("\u6536\u85cf\u6210\u529f"),o.Z.sendLog("favoriteVideo",{click_from:"icon",urlParamList:["previous_page"],author_id:null==y||null===(p=y.authorInfo)||void 0===p?void 0:p.uid,group_id:null==y?void 0:y.groupId,log_pb:c,enter_from:s.mo(),is_fullscreen:l.r()?"1":"0"})):o.Z.sendLog("cancelFavoriteVideo",{click_from:"icon",urlParamList:["previous_page"],author_id:null==y||null===(f=y.authorInfo)||void 0===f?void 0:f.uid,group_id:null==y?void 0:y.groupId,log_pb:c,enter_from:s.mo(),is_fullscreen:l.r()?"1":"0"}),C.current!==t&&C.current||(I(n),E.current=n),P.current=1;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),O("\u6536\u85cf\u5931\u8d25",!0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t,n){return e.apply(this,arguments)}}(),[]),N=function(){var e=f(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!T.current){e.next=2;break}return e.abrupt("return");case 2:if(P.current){e.next=6;break}A(t,n,!E.current),e.next=12;break;case 6:return T.current=!0,e.next=9,L(t,!E.current);case 9:(null==(r=e.sent)?void 0:r.toShowAccount)&&A(t,n,!E.current),T.current=!1;case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){b&&c.w_(b)}),[]),{collectStatus:S,changeStatus:function(e,t,n){I(e),E.current=e,P.current=t,C.current=n},changeLoginStatus:function(e){P.current=e},onChangeCollectStatus:N}}},53789:function(e,t,n){"use strict";n.d(t,{s:function(){return v}});n(93077),n(27155),n(52402),n(18534),n(47808),n(19701),n(99371),n(32908),n(39272),n(87908),n(89045),n(50063),n(47912),n(49895),n(32850);var r=n(4303),i=n(45816),o=n(87241),a=n(78184),s=n(43325),l=n(73523),u=n(64967),c=n(23974),d=n(31036),p=n(99322),f=n(6341);function h(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,i)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){h(o,r,i,a,s,"next",e)}function s(e){h(o,r,i,a,s,"throw",e)}a(undefined)}))}}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){var t=e.userDigged,n=e.isLogin,h=e.onLoginSuc,g=(e.userInfo,e.awemeId),v=e.awemeInfo,_=e.hideSuccToast,k=void 0!==_&&_,b=e.hideErrToast,x=void 0!==b&&b,w=e.loginPopupListener,S=y((0,r.useState)(t),2),I=S[0],E=S[1],P=(0,r.useRef)(t),T=(0,r.useRef)(n),C=(0,r.useRef)(!1),O=(0,r.useRef)(g),A=function(e){var t=arguments.length>1&&arguments[1]!==undefined&&arguments[1];(t&&!x||!k)&&o.F.info(e)},L=(0,r.useCallback)(function(){var e=m(regeneratorRuntime.mark((function e(t,n,r){var i,o,f,h,m,y,g,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r||n){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,l.s(t,n);case 5:i=e.sent,o=i.statusCode,f=i.errMsg,h=i.logPb,o?(A(f||"\u70b9\u8d5e\u5931\u8d25",!0),o===u.ERROR_CODE.ERROR_USER_UNLOGIN&&(T.current=0)):(1===Number(n)?a.Z.sendLog("like",{urlParamList:["previous_page"],author_id:null==v||null===(m=v.authorInfo)||void 0===m?void 0:m.uid,group_id:null==v?void 0:v.groupId,log_pb:h,enter_from:c.mo(),tab_name:d.getTabName()||(0,s.parse)(null===(y=location)||void 0===y?void 0:y.search).tab_name||"",is_full_screen:p.r()?"1":"0",click_method:r||"icon"}):a.Z.sendLog("cancelLike",{urlParamList:["previous_page"],author_id:null==v||null===(g=v.authorInfo)||void 0===g?void 0:g.uid,group_id:null==v?void 0:v.groupId,log_pb:h,enter_from:c.mo(),tab_name:d.getTabName()||(0,s.parse)(null===(_=location)||void 0===_?void 0:_.search).tab_name||"",is_full_screen:p.r()?"1":"0"}),O.current!==t&&O.current||(E(n),P.current=n),T.current=1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),A("\u70b9\u8d5e\u5931\u8d25",!0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,n,r){return e.apply(this,arguments)}}(),[]),N=function(){var e=m(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C.current){e.next=2;break}return e.abrupt("return");case 2:if(T.current){e.next=6;break}(0,i.ZP)({success:function(){var e=m(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C.current=!0,e.next=3,null==h?void 0:h();case 3:return e.next=5,L(t,1,!1);case 5:C.current=!1;case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),headerText:"\u767b\u5f55\u540e\u5373\u53ef\u70b9\u8d5e\u559c\u6b22\u7684\u5185\u5bb9",enterMethod:"digg"},n),e.next=10;break;case 6:return C.current=!0,e.next=9,L(t,!P.current,r);case 9:C.current=!1;case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){w&&f.w_(w)}),[]),{favoriteStatus:I,changeStatus:function(e,t,n){E(e),P.current=e,T.current=t,O.current=n},changeLoginStatus:function(e){T.current=e},onChangeFavoriteStatus:N}}},52138:function(e,t,n){"use strict";e.exports=n.p+"image/generalBG.0640de7c.png"}}]);